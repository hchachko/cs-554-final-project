/*! For license information please see main.2c4216d8.js.LICENSE.txt */
!function(){var e={473:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ie(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==xe||null!==Se)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,It=!1,Tt=[],Ct=null,Nt=null,Rt=null,At=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Rt&&jt(Rt)&&(Rt=null),At.forEach(Ut),Pt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==Rt&&Bt(Rt,e),At.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),u(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Tr:case Cr:u=mn;break;case Nr:u=Rn;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Wn(s))if(Jn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(m=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Kr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Kr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ii(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Ri=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ni),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ii(Ci,e)):Ei(Ni),Ii(Ni,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,qi),i}finally{kt=t,Vi=!1}}return null}var zi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){zi[Wi++]=Gi,zi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=zi[--Wi],zi[Wi]=null,Gi=zi[--Wi],zi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ma.current;Ei(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ri:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return y(r,a,o,u);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Ja=Ya(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return qo(2048,8,e,t)}function Ko(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Jo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ou,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ou,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ou,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ou,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Pi(n)?Ri:Ci.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zs(e,t),za(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ai(t,c=Pi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Ra?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Ra||qa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ai(t,u=Pi(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Ra=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Ra||qa(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Os,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(y){Sc(e,e.return,y)}try{nu(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||f,vu(t,e),$s=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(h=Xs=f;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Xs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Xs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ys;var c=$s;if(Ys=o,($s=u)&&!c)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Xs=u):_u(i);for(;null!==a;)Xs=a,ku(a,t,n),a=a.sibling;Xs=i,Ys=s,$s=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):bu(e)}}function bu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function _u(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Su=Math.ceil,Eu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Ru=null,Au=0,Pu=0,Ou=Si(0),Du=0,Lu=null,Mu=0,Fu=0,ju=0,Uu=null,Vu=null,Bu=0,qu=1/0,zu=null,Wu=!1,Ku=null,Gu=null,Hu=!1,Qu=null,Yu=0,$u=0,Ju=null,Xu=-1,Zu=0;function ec(){return 0!==(6&Cu)?Je():-1!==Xu?Xu:Xu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Au?Au&-Au:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$u)throw $u=0,Ju=null,Error(a(185));mt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(Fu|=n),4===Du&&sc(e,Au)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(qu=Je()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Nu===e&&Au===t||(zu=null,qu=Je()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Eu.current=o,Cu=i,null!==Ru?t=0:(Nu=null,Au=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),t);break}wc(e,Vu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),r);break}wc(e,Vu,zu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,zu),rc(e,Je()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(qu=Je()+500,Ui&&qi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Cu=t))&&qi()}}function fc(){Pu=Ou.current,Ei(Ou)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Ru=e=Oc(e.current,null),Au=Pu=t,Du=0,Lu=null,ju=Fu=Mu=0,Vu=Uu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Ru;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Du=1,Lu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Au,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Mu)&&0===(268435455&Fu)||sc(Nu,Au)}function yc(e,t){var n=Cu;Cu|=2;var r=pc();for(Nu===e&&Au===t||(zu=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cu=n,Eu.current=r,null!==Ru)throw Error(a(261));return Nu=null,Au=0,Du}function mc(){for(;null!==Ru;)kc(Ru)}function gc(){for(;null!==Ru&&!Ye();)kc(Ru)}function kc(e){var t=xu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?bc(e):Ru=t,Iu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hs(n,t,Pu)))return void(Ru=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Du=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ru=Nu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Iu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),$e(),Cu=u,kt=s,Tu.transition=o}else e.current=n;if(Hu&&(Hu=!1,Qu=e,Yu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Ju?$u++:($u=0,Ju=e):$u=0,qi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function _c(){if(null!==Qu){var e=bt(Yu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xs=h;else for(;null!==Xs;){var d=(f=Xs).sibling,p=f.return;if(au(f),f===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var k=e.current;for(Xs=k;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=k;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Sc(u,u.return,_)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Cu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Au&n)===n&&(4===Du||3===Du&&(130023424&Au)===Au&&500>Je()-Bu?hc(e,0):ju|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return He(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Ac(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case C:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=qc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xs(e,t,r,i=ya(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),zs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),za(t,r,i),Ka(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cu)&&(qu=Je()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function R(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=R,x=function(){P.postMessage(null)}}else x=function(){m(R,0)};function O(e){E=e,S||(S=!0,x())}function D(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".cda612ba.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="frontend:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Nt},SDK_VERSION:function(){return Yn},_DEFAULT_ENTRY_NAME:function(){return Mn},_addComponent:function(){return Vn},_addOrOverwriteComponent:function(){return Bn},_apps:function(){return jn},_clearComponents:function(){return Kn},_components:function(){return Un},_getProvider:function(){return zn},_registerComponent:function(){return qn},_removeServiceInstance:function(){return Wn},deleteApp:function(){return Zn},getApp:function(){return Jn},getApps:function(){return Xn},initializeApp:function(){return $n},onLog:function(){return nr},registerVersion:function(){return tr},setLogLevel:function(){return rr}});var t={};n.r(t),n.d(t,{Decoder:function(){return jL},Encoder:function(){return FL},PacketType:function(){return LL},protocol:function(){return ML}});var r,i=n(791),a=n.t(i,2),o=n(250);function s(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||c(e,t)||l()}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||h(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function E(e){var t=_();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function I(e,t,n){return I=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&k(i,n.prototype),i},I.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},T(e)}function C(e){return s(e)||h(e)||c(e)||l()}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var A,P="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e){return{usr:e.state,key:e.key}}function M(e,t,n,r){return void 0===n&&(n=null),R({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function F(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function j(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:F(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function V(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=r.Pop,h=null;function d(){f=r.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(P,d),h=e,function(){s.removeEventListener(P,d),h=null}},createHref:function(e){return t(s,e)},encodeLocation:function(e){var t=U("string"===typeof e?e:F(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;var i=M(p.location,e,t);n&&n(i,e);var a=L(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(Gc){s.location.assign(o)}c&&h&&h({action:f,location:p.location})},replace:function(e,t){f=r.Replace;var i=M(p.location,e,t);n&&n(i,e);var a=L(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function B(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?j(t):t).pathname||"/",n);if(null==r)return null;var i=q(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=H(i[o],Y(r));return a}function q(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=te([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),q(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=N(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n=C(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=z(i.join("/")),u=[];return u.push.apply(u,d(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,d(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));var W=/^:\w+$/,K=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(W.test(t)?3:""===t?1:10)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Q({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:te([i,l.pathname]),pathnameBase:ne(te([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=te([i,l.pathnameBase]))}return a}function Q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);J("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Gc){return J(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Gc+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(Gc){return J(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Gc+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=j(e):(O(!(i=R({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?j(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:re(a),hash:ie(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(T(Error));var oe=g((function e(t,n,r,i){p(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function se(e){return e instanceof oe}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},he=i.useState,de=i.useEffect,pe=i.useLayoutEffect,ve=i.useDebugValue;function ye(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!fe(n,r)}catch(Gc){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,a.useSyncExternalStore;var me=i.createContext(null);var ge=i.createContext(null);var ke=i.createContext(null);var be=i.createContext(null);var we=i.createContext(null);var _e=i.createContext(null);var xe=i.createContext({outlet:null,matches:[]});var Se=i.createContext(null);function Ee(){return null!=i.useContext(_e)}function Ie(){return Ee()||O(!1),i.useContext(_e).location}function Te(){Ee()||O(!1);var e=i.useContext(we),t=e.basename,n=e.navigator,r=i.useContext(xe).matches,a=Ie().pathname,o=JSON.stringify(Z(r).map((function(e){return e.pathnameBase}))),s=i.useRef(!1);i.useEffect((function(){s.current=!0}));var u=i.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=ee(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:te([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}var Ce=i.createContext(null);function Ne(e,t){var n=(void 0===t?{}:t).relative,r=i.useContext(xe).matches,a=Ie().pathname,o=JSON.stringify(Z(r).map((function(e){return e.pathnameBase})));return i.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Re(){var e=function(){var e,t=i.useContext(Se),n=Me(Pe.UseRouteError),r=i.useContext(xe),a=r.matches[r.matches.length-1];if(t)return t;return r||O(!1),!a.route.id&&O(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unhandled Thrown Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",i.createElement("code",{style:o},"errorElement")," props on\xa0",i.createElement("code",{style:o},"<Route>")))}var Ae,Pe,Oe=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(Se.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(i.Component);function De(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(me);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),i.createElement(xe.Provider,{value:t},r)}function Le(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,a=null==n?void 0:n.errors;if(null!=a){var o=r.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||O(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||i.createElement(Re,null):null,l=function(){return i.createElement(De,{match:o,routeContext:{outlet:e,matches:t.concat(r.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===s)?i.createElement(Oe,{location:n.location,component:c,error:u,children:l()}):l()}),null)}function Me(e){var t=i.useContext(ke);return t||O(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(Ae||(Ae={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Pe||(Pe={}));var Fe;function je(e){var t=e.to,n=e.replace,r=e.state,a=e.relative;Ee()||O(!1);var o=i.useContext(ke),s=Te();return i.useEffect((function(){o&&"idle"!==o.navigation.state||s(t,{replace:n,state:r,relative:a})})),null}function Ue(e){return function(e){var t=i.useContext(xe).outlet;return t?i.createElement(Ce.Provider,{value:e},t):t}(e.context)}function Ve(e){O(!1)}function Be(e){var t=e.basename,n=void 0===t?"/":t,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?r.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;Ee()&&O(!1);var d=n.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=j(s));var v=s,y=v.pathname,m=void 0===y?"/":y,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,S=v.key,E=void 0===S?"default":S,I=i.useMemo((function(){var e=$(m,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:E}}),[d,m,k,w,x,E]);return null==I?null:i.createElement(we.Provider,{value:p},i.createElement(_e.Provider,{children:o,value:{location:I,navigationType:c}}))}function qe(e){var t=e.children,n=e.location,a=i.useContext(ge);return function(e,t){Ee()||O(!1);var n,a=i.useContext(we).navigator,o=i.useContext(ke),s=i.useContext(xe).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,Ie());if(t){var h,d="string"===typeof t?j(t):t;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||O(!1),n=d}else n=f;var p=n.pathname||"/",v=B(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),y=Le(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:te([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:te([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return t&&y?i.createElement(_e.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:r.Pop}},y):y}(a&&!t?a.router.routes:We(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Fe||(Fe={}));var ze=new Promise((function(){}));i.Component;function We(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e))if(e.type!==i.Fragment){e.type!==Ve&&O(!1),e.props.index&&e.props.children&&O(!1);var a=[].concat(d(t),[r]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=We(e.props.children,a)),n.push(o)}else n.push.apply(n,We(e.props.children,t))})),n}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Ge(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Qe=["aria-current","caseSensitive","className","end","style","to","children"];function Ye(e){var t,n=e.basename,r=e.children,a=e.window,o=i.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),V((function(e,t){var n=j(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return M("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:F(t))}),(function(e,t){D("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var s=o.current,u=f(i.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1];return i.useLayoutEffect((function(){return s.listen(l)}),[s]),i.createElement(Be,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}var $e=i.forwardRef((function(e,t){var n=e.onClick,r=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=Ge(e,He),h=function(e,t){var n=(void 0===t?{}:t).relative;Ee()||O(!1);var r=i.useContext(we),a=r.basename,o=r.navigator,s=Ne(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:te([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:r}),d=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=Te(),l=Ie(),f=Ne(e,{relative:u});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==a?a:F(l)===F(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,r,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:r});return i.createElement("a",Ke({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:u}))}));var Je=i.forwardRef((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Ge(e,Qe),v=Ne(h,{relative:p.relative}),y=Ie(),m=i.useContext(ke),g=i.useContext(we).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=y.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var _,x=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),S=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),E=x?r:void 0;_="function"===typeof u?u({isActive:x,isPending:S}):[u,x?"active":null,S?"pending":null].filter(Boolean).join(" ");var I="function"===typeof f?f({isActive:x,isPending:S}):f;return i.createElement($e,Ke({},p,{"aria-current":E,className:_,ref:t,style:I,to:h}),"function"===typeof d?d({isActive:x,isPending:S}):d)}));var Xe,Ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Xe||(Xe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ze||(Ze={}));function et(){et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new I(i||[]);return r(o,"_invoke",{value:_(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var y={};u(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(y=g);var k=p.prototype=h.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function tt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Gc){return void n(Gc)}s.done?t(u):Promise.resolve(u).then(r,i)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){tt(a,r,i,o,s,"next",e)}function s(e){tt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function rt(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it=!1,at=!1,ot="${JSCORE_VERSION}",st=function(e,t){if(!e)throw ut(t)},ut=function(e){return new Error("Firebase Database ("+ot+") INTERNAL ASSERT FAILED: "+e)},ct=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ct(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ft=function(e){var t=ct(e);return lt.encodeByteArray(t,!0)},ht=function(e){return ft(e).replace(/\./g,"")},dt=function(e){try{return lt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function pt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&vt(n)&&(e[n]=pt(e[n],t[n]));return e}function vt(e){return"__proto__"!==e}function yt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function gt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function kt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function bt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function wt(){var e=yt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _t(){return!0===it||!0===at}function xt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var St=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Et=function(){try{return St()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&dt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},It=function(){var e;return null===(e=Et())||void 0===e?void 0:e.config},Tt=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ct(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ht(JSON.stringify({alg:"none",type:"JWT"})),ht(JSON.stringify(a)),""].join(".")}var Nt=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Rt.prototype.create),a}return g(n)}(T(Error)),Rt=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?At(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Nt(n,a,t);return o}}]),e}();function At(e,t){return e.replace(Pt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pt=/\{\$([^}]+)}/g;function Ot(e){return JSON.parse(e)}function Dt(e){return JSON.stringify(e)}var Lt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ot(dt(a[0])||""),n=Ot(dt(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function jt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ut(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Vt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Bt(s)&&Bt(u)){if(!Vt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Bt(e){return null!==e&&"object"===typeof e}function qt(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function zt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Wt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Kt=function(){function e(){p(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return g(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Gt(e,t){var n=new Ht(e,t);return n.subscribe.bind(n)}var Ht=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Qt),void 0===r.error&&(r.error=Qt),void 0===r.complete&&(r.complete=Qt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Qt(){}function Yt(e,t){return"".concat(e," failed: ").concat(t," argument ")}var $t=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Jt(e){return e&&e._delegate?e._delegate:e}var Xt=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Zt="[DEFAULT]",en=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Tt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zt})}catch(u){}var t,n=N(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=N(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=f(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(YN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:tn(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(YN){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return this.component?this.component.multipleInstances?e:Zt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function tn(e){return e===Zt?void 0:e}var nn,rn,an=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new en(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),on=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rn||(rn={}));var sn={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},un=rn.INFO,cn=(rt(nn={},rn.DEBUG,"log"),rt(nn,rn.VERBOSE,"log"),rt(nn,rn.INFO,"info"),rt(nn,rn.WARN,"warn"),rt(nn,rn.ERROR,"error"),nn),ln=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=cn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fn=function(){function e(t){p(this,e),this.name=t,this._logLevel=un,this._logHandler=ln,this._userLogHandler=null,on.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in rn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?sn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.DEBUG].concat(t)),this._logHandler.apply(this,[this,rn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,rn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.INFO].concat(t)),this._logHandler.apply(this,[this,rn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.WARN].concat(t)),this._logHandler.apply(this,[this,rn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rn.ERROR].concat(t)),this._logHandler.apply(this,[this,rn.ERROR].concat(t))}}]),e}();function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn,vn;var yn=new WeakMap,mn=new WeakMap,gn=new WeakMap,kn=new WeakMap,bn=new WeakMap;var wn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function _n(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vn||(vn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(En(this),n),Sn(yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sn(e.apply(En(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[En(this),t].concat(r));return gn.set(a,t.sort?t.sort():[t]),Sn(a)}}function xn(e){return"function"===typeof e?_n(e):(e instanceof IDBTransaction&&function(e){if(!mn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));mn.set(e,t)}}(e),t=e,(pn||(pn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,wn):e);var t}function Sn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Sn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&yn.set(t,e)})).catch((function(){})),bn.set(t,e),t}(e);if(kn.has(e))return kn.get(e);var t=xn(e);return t!==e&&(kn.set(e,t),bn.set(t,e)),t}var En=function(e){return bn.get(e)};var In,Tn,Cn=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],Rn=new Map;function An(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Rn.get(t))return Rn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Nn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Cn.includes(n))){var a=function(){var e=nt(et().mark((function e(t){var a,o,s,u,c,l,f=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Rn.set(t,a),a}}}wn=function(e){return dn(dn({},e),{},{get:function(t,n,r){return An(t,n)||e.get(t,n,r)},has:function(t,n){return!!An(t,n)||e.has(t,n)}})}(wn);var Pn=function(){function e(t){p(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var On="@firebase/app",Dn="0.9.0",Ln=new fn("@firebase/app"),Mn="[DEFAULT]",Fn=(rt(In={},On,"fire-core"),rt(In,"@firebase/app-compat","fire-core-compat"),rt(In,"@firebase/analytics","fire-analytics"),rt(In,"@firebase/analytics-compat","fire-analytics-compat"),rt(In,"@firebase/app-check","fire-app-check"),rt(In,"@firebase/app-check-compat","fire-app-check-compat"),rt(In,"@firebase/auth","fire-auth"),rt(In,"@firebase/auth-compat","fire-auth-compat"),rt(In,"@firebase/database","fire-rtdb"),rt(In,"@firebase/database-compat","fire-rtdb-compat"),rt(In,"@firebase/functions","fire-fn"),rt(In,"@firebase/functions-compat","fire-fn-compat"),rt(In,"@firebase/installations","fire-iid"),rt(In,"@firebase/installations-compat","fire-iid-compat"),rt(In,"@firebase/messaging","fire-fcm"),rt(In,"@firebase/messaging-compat","fire-fcm-compat"),rt(In,"@firebase/performance","fire-perf"),rt(In,"@firebase/performance-compat","fire-perf-compat"),rt(In,"@firebase/remote-config","fire-rc"),rt(In,"@firebase/remote-config-compat","fire-rc-compat"),rt(In,"@firebase/storage","fire-gcs"),rt(In,"@firebase/storage-compat","fire-gcs-compat"),rt(In,"@firebase/firestore","fire-fst"),rt(In,"@firebase/firestore-compat","fire-fst-compat"),rt(In,"fire-js","fire-js"),rt(In,"firebase","fire-js-all"),In),jn=new Map,Un=new Map;function Vn(e,t){try{e.container.addComponent(t)}catch(n){Ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Bn(e,t){e.container.addOrOverwriteComponent(t)}function qn(e){var t=e.name;if(Un.has(t))return Ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;Un.set(t,e);var n,r=N(jn.values());try{for(r.s();!(n=r.n()).done;){Vn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mn;zn(e,t).clearInstance(n)}function Kn(){Un.clear()}var Gn=(rt(Tn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),rt(Tn,"bad-app-name","Illegal App name: '{$appName}"),rt(Tn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),rt(Tn,"app-deleted","Firebase App named '{$appName}' already deleted"),rt(Tn,"no-options","Need to provide options, when not being deployed to hosting via source."),rt(Tn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),rt(Tn,"invalid-log-argument","First argument to `onLog` must be null or a function."),rt(Tn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),rt(Tn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),rt(Tn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),rt(Tn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Tn),Hn=new Rt("app","Firebase",Gn),Qn=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}]),e}(),Yn="9.15.0";function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Hn.create("bad-app-name",{appName:String(a)});if(n||(n=It()),!n)throw Hn.create("no-options");var o=jn.get(a);if(o){if(Vt(n,o.options)&&Vt(i,o.config))return o;throw Hn.create("duplicate-app",{appName:a})}var s,u=new an(a),c=N(Un.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Qn(n,i,u);return jn.set(a,f),f}function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=jn.get(e);if(!t&&e===Mn)return $n();if(!t)throw Hn.create("no-app",{appName:e});return t}function Xn(){return Array.from(jn.values())}function Zn(e){return er.apply(this,arguments)}function er(){return(er=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!jn.has(n)){e.next=6;break}return jn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,t,n){var r,i=null!==(r=Fn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ln.warn(s.join(" "))}qn(new Xt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function nr(e,t){if(null!==e&&"function"!==typeof e)throw Hn.create("invalid-log-argument");!function(e,t){var n,r=N(on);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=sn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:rn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function rr(e){var t;t=e,on.forEach((function(e){e.setLogLevel(t)}))}var ir="firebase-heartbeat-store",ar=null;function or(){return ar||(ar=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Sn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Sn(s.result),e.oldVersion,e.newVersion,Sn(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ir)}}).catch((function(e){throw Hn.create("idb-open",{originalErrorMessage:e.message})}))),ar}function sr(e){return ur.apply(this,arguments)}function ur(){return ur=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or();case 3:return n=e.sent,e.abrupt("return",n.transaction(ir).objectStore(ir).get(fr(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Nt?Ln.warn(e.t0.message):(r=Hn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ln.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ur.apply(this,arguments)}function cr(e,t){return lr.apply(this,arguments)}function lr(){return lr=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or();case 3:return r=e.sent,i=r.transaction(ir,"readwrite"),a=i.objectStore(ir),e.next=8,a.put(n,fr(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Nt?Ln.warn(e.t0.message):(o=Hn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ln.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),lr.apply(this,arguments)}function fr(e){return"".concat(e.name,"!").concat(e.options.appId)}var hr=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new yr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=dr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=dr(),n=pr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ht(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dr(){return(new Date).toISOString().substring(0,10)}function pr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=N(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var vr,yr=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Gc){t(Gc)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,sr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",cr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",cr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mr(e){return ht(JSON.stringify({version:2,heartbeats:e})).length}vr="",qn(new Xt("platform-logger",(function(e){return new Pn(e)}),"PRIVATE")),qn(new Xt("heartbeat",(function(e){return new hr(e)}),"PRIVATE")),tr(On,Dn,vr),tr(On,Dn,"esm2017"),tr("fire-js","");function gr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function kr(){return kr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=gr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kr.apply(this,arguments)}tr("firebase","9.15.0","app");function br(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var wr;Object.create;var _r="facebook.com",xr="github.com",Sr="google.com",Er="password",Ir="twitter.com",Tr="EMAIL_SIGNIN",Cr="PASSWORD_RESET",Nr="RECOVER_EMAIL",Rr="REVERT_SECOND_FACTOR_ADDITION",Ar="VERIFY_AND_CHANGE_EMAIL",Pr="VERIFY_EMAIL";function Or(){return rt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Dr=function(){var e;return rt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),rt(e,"argument-error",""),rt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),rt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),rt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),rt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),rt(e,"cordova-not-ready","Cordova framework is not ready."),rt(e,"cors-unsupported","This browser is not supported."),rt(e,"credential-already-in-use","This credential is already associated with a different user account."),rt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),rt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),rt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),rt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),rt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),rt(e,"email-already-in-use","The email address is already in use by another account."),rt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),rt(e,"expired-action-code","The action code has expired."),rt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),rt(e,"internal-error","An internal AuthError has occurred."),rt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),rt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),rt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),rt(e,"invalid-auth-event","An internal AuthError has occurred."),rt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),rt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),rt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),rt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),rt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),rt(e,"invalid-email","The email address is badly formatted."),rt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),rt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),rt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),rt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),rt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),rt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),rt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),rt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),rt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),rt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),rt(e,"wrong-password","The password is invalid or the user does not have a password."),rt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),rt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),rt(e,"invalid-provider-id","The specified provider ID is invalid."),rt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),rt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),rt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),rt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),rt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),rt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),rt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),rt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),rt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),rt(e,"missing-continue-uri","A continue URL must be provided in the request."),rt(e,"missing-iframe-start","An internal AuthError has occurred."),rt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),rt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),rt(e,"missing-multi-factor-info","No second factor identifier is provided."),rt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),rt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),rt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),rt(e,"app-deleted","This instance of FirebaseApp has been deleted."),rt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),rt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),rt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),rt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),rt(e,"no-auth-event","An internal AuthError has occurred."),rt(e,"no-such-provider","User was not linked to an account with the given provider."),rt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),rt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),rt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),rt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),rt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),rt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),rt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),rt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),rt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),rt(e,"rejected-credential","The request contains malformed or mismatching credentials."),rt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),rt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),rt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),rt(e,"timeout","The operation has timed out."),rt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),rt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),rt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),rt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),rt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),rt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),rt(e,"unverified-email","The operation requires a verified email."),rt(e,"user-cancelled","The user did not grant your application the permissions it requested."),rt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),rt(e,"user-disabled","The user account has been disabled by an administrator."),rt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),rt(e,"user-signed-out",""),rt(e,"weak-password","The password must be 6 characters long or more."),rt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),rt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Lr=Or,Mr=new Rt("auth","Firebase",Or()),Fr=new fn("@firebase/auth");function jr(e){if(Fr.logLevel<=rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Fr.error.apply(Fr,["Auth (".concat(Yn,"): ").concat(e)].concat(n))}}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zr.apply(void 0,[e].concat(n))}function Vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zr.apply(void 0,[e].concat(n))}function Br(e,t,n){var r=Object.assign(Object.assign({},Lr()),rt({},t,n));return new Rt("auth","Firebase",r).create(t,{appName:e.name})}function qr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ur(e,"argument-error"),Br(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return Mr.create.apply(Mr,[e].concat(n))}function Wr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw zr.apply(void 0,[t].concat(r))}}function Kr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jr(t),new Error(t)}function Gr(e,t){e||Kr(t)}var Hr=new Map;function Qr(e){Gr(e instanceof Function,"Expected a class definition");var t=Hr.get(e);return t?(Gr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Hr.set(e,t),t)}function Yr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $r(){return"http:"===Jr()||"https:"===Jr()}function Jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Xr=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Gr(n>t,"Short delay should be less than long delay!"),this.isMobile=mt()||bt()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($r()||kt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Zr(e,t){Gr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ei=function(){function e(){p(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ti=(rt(wr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),rt(wr,"MISSING_CUSTOM_TOKEN","internal-error"),rt(wr,"INVALID_IDENTIFIER","invalid-email"),rt(wr,"MISSING_CONTINUE_URI","internal-error"),rt(wr,"INVALID_PASSWORD","wrong-password"),rt(wr,"MISSING_PASSWORD","internal-error"),rt(wr,"EMAIL_EXISTS","email-already-in-use"),rt(wr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),rt(wr,"INVALID_IDP_RESPONSE","invalid-credential"),rt(wr,"INVALID_PENDING_TOKEN","invalid-credential"),rt(wr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),rt(wr,"MISSING_REQ_TYPE","internal-error"),rt(wr,"EMAIL_NOT_FOUND","user-not-found"),rt(wr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),rt(wr,"EXPIRED_OOB_CODE","expired-action-code"),rt(wr,"INVALID_OOB_CODE","invalid-action-code"),rt(wr,"MISSING_OOB_CODE","internal-error"),rt(wr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),rt(wr,"INVALID_ID_TOKEN","invalid-user-token"),rt(wr,"TOKEN_EXPIRED","user-token-expired"),rt(wr,"USER_NOT_FOUND","user-token-expired"),rt(wr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),rt(wr,"INVALID_CODE","invalid-verification-code"),rt(wr,"INVALID_SESSION_INFO","invalid-verification-id"),rt(wr,"INVALID_TEMPORARY_PROOF","invalid-credential"),rt(wr,"MISSING_SESSION_INFO","missing-verification-id"),rt(wr,"SESSION_EXPIRED","code-expired"),rt(wr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),rt(wr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),rt(wr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),rt(wr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),rt(wr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),rt(wr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),rt(wr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),rt(wr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),rt(wr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),rt(wr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),rt(wr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),wr),ni=new Xr(3e4,6e4);function ri(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ii(e,t,n,r){return ai.apply(this,arguments)}function ai(){return ai=nt(et().mark((function e(t,n,r,i){var a,o=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",oi(t,a,nt(et().mark((function e(){var a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=qt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ei.fetch()(li(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e,t,n){return si.apply(this,arguments)}function si(){return si=nt(et().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,p;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ti),n),e.prev=2,a=new fi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw hi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw hi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw hi(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw hi(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Br(t,p,d);case 34:Ur(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Nt)){e.next=41;break}throw e.t0;case 41:Ur(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),si.apply(this,arguments)}function ui(e,t,n,r){return ci.apply(this,arguments)}function ci(){return ci=nt(et().mark((function e(t,n,r,i){var a,o,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ii(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ur(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Zr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var fi=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Vr(n.auth,"network-request-failed"))}),ni.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function hi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Vr(e,t,r);return i.customData._tokenResponse=n,i}function di(e,t){return pi.apply(this,arguments)}function pi(){return(pi=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vi(e,t){return yi.apply(this,arguments)}function yi(){return(yi=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function bi(){return bi=nt(et().mark((function e(t){var n,r,i,a,o,s,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Jt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Wr((a=_i(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ki(wi(a.auth_time)),issuedAtTime:ki(wi(a.iat)),expirationTime:ki(wi(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function wi(e){return 1e3*Number(e)}function _i(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return jr("JWT malformed, contained fewer than 3 sections"),null;try{var a=dt(r);return a?JSON.parse(a):(jr("Failed to decode base64 JWT payload"),null)}catch(o){return jr("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function xi(e,t){return Si.apply(this,arguments)}function Si(){return Si=nt(et().mark((function e(t,n){var r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Nt&&Ei(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Si.apply(this,arguments)}function Ei(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ii=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ti=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ci(e){return Ni.apply(this,arguments)}function Ni(){return Ni=nt(et().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,xi(t,mi(r,{idToken:i}));case 6:Wr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Pi(o.providerUserInfo):[],u=Ai(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ti(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}function Ri(){return(Ri=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jt(t),e.next=3,Ci(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ai(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function Pi(e){return e.map((function(e){var t=e.providerId,n=br(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Oi(e,t){return Di.apply(this,arguments)}function Di(){return Di=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,{},nt(et().mark((function e(){var r,i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=li(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ei.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}var Li=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Wr(e.idToken,"internal-error"),Wr("undefined"!==typeof e.idToken,"internal-error"),Wr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=_i(e);return Wr(t,"internal-error"),Wr("undefined"!==typeof t.exp,"internal-error"),Wr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=nt(et().mark((function e(t){var n,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Wr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Kr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Wr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Wr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Wr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Mi(e,t){Wr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Fi=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=br(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new Ti(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Wr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ri.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Wr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Wr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=nt(et().mark((function e(t){var n,r,i=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ci(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,xi(this,di(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Wr(k&&x,t,"internal-error");var S=Li.fromJSON(this.name,x);Wr("string"===typeof k,t,"internal-error"),Mi(f,t.name),Mi(h,t.name),Wr("boolean"===typeof b,t,"internal-error"),Wr("boolean"===typeof w,t,"internal-error"),Mi(d,t.name),Mi(p,t.name),Mi(v,t.name),Mi(y,t.name),Mi(m,t.name),Mi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=nt(et().mark((function t(n,r){var i,a,o,s=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Li).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ci(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ji=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ji.type="NONE";var Ui=ji;function Vi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Bi=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Vi(this.userKey,a.apiKey,o),this.fullPersistenceKey=Vi("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Fi._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=nt(et().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Qr(Ui),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Qr(Ui),s=Vi(i,n.config.apiKey,n.name),u=null,c=N(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Fi._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qi(t))return"Blackberry";if(Yi(t))return"Webos";if(Wi(t))return"Safari";if((t.includes("chrome/")||Ki(t))&&!t.includes("edge/"))return"Chrome";if(Hi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/firefox\//i.test(e)}function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/crios\//i.test(e)}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/iemobile/i.test(e)}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/android/i.test(e)}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/blackberry/i.test(e)}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/webos/i.test(e)}function $i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ji(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return $i(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Xi(){return wt()&&10===document.documentMode}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return $i(e)||Hi(e)||Yi(e)||Qi(e)||/windows phone/i.test(e)||Gi(e)}function ea(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qi(yt());break;case"Worker":t="".concat(qi(yt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yn,"/").concat(r)}var ta=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=N(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=N(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),na=function(){function e(t,n,r){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ia(this),this.idTokenSubscription=new ia(this),this.beforeStateQueue=new ta(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Qr(t)),this._initializationPromise=this.queue(nt(et().mark((function r(){var i,a;return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Bi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Wr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ci(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Jt(t):null)&&Wr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=nt(et().mark((function e(t){var n,r=this,i=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Wr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Qr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Rt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Wr(n=t&&Qr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Bi.create(this,[Qr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Wr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Wr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ea(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ra(e){return Jt(e)}var ia=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=Gt((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Wr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function aa(e,t,n){var r=ra(e);Wr(r._canInitEmulator,r,"emulator-config-failed"),Wr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=oa(t),o=function(e){var t=oa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:sa(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:sa(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function oa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ua=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Kr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Kr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Kr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Kr("not implemented")}}]),e}();function ca(e,t){return la.apply(this,arguments)}function la(){return(la=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:resetPassword",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return(pa=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e,t){return ya.apply(this,arguments)}function ya(){return(ya=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithPassword",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return ga.apply(this,arguments)}function ga(){return(ga=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:sendOobCode",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e,t){return ba.apply(this,arguments)}function ba(){return(ba=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(e,t){return _a.apply(this,arguments)}function _a(){return(_a=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(e,t){return Sa.apply(this,arguments)}function Sa(){return(Sa=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,t){return Ia.apply(this,arguments)}function Ia(){return(Ia=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t){return Ca.apply(this,arguments)}function Ca(){return(Ca=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Aa=function(e){b(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",va(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ta(t,{email:this._email,oobCode:this._password}));case 5:Ur(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Na(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ur(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ua);function Pa(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithIdp",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Da=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ur("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=br(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ua);function La(e,t){return Ma.apply(this,arguments)}function Ma(){return(Ma=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:sendVerificationCode",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(){return(Fa=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithPhoneNumber",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(){return(ja=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(t,"POST","/v1/accounts:signInWithPhoneNumber",ri(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw hi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ua=rt({},"USER_NOT_FOUND","user-not-found");function Va(){return(Va=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithPhoneNumber",ri(t,r),Ua));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ba=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Fa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ja.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Va.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ua);var qa=function(){function e(t){var n,r,i,a,o,s;p(this,e);var u=zt(Wt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Wr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=zt(Wt(e)).link,n=t?zt(Wt(t)).deep_link_id:null,r=zt(Wt(e)).deep_link_id;return(r?zt(Wt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(YN){return null}}}]),e}();var za=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Aa._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qa.parseLink(t);return Wr(n,"argument-error"),Aa._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();za.PROVIDER_ID="password",za.EMAIL_PASSWORD_SIGN_IN_METHOD="password",za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Wa=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ka=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(Wa),Ga=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Wr(e.idToken||e.accessToken,"argument-error"),Da._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Wr("providerId"in t&&"signInMethod"in t,"argument-error"),Da._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Ka),Ha=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YN){return null}}}]),n}(Ka);Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ha.PROVIDER_ID="facebook.com";var Qa=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(YN){return null}}}]),n}(Ka);Qa.GOOGLE_SIGN_IN_METHOD="google.com",Qa.PROVIDER_ID="google.com";var Ya=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(YN){return null}}}]),n}(Ka);Ya.GITHUB_SIGN_IN_METHOD="github.com",Ya.PROVIDER_ID="github.com";var $a=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ua),Ja=function(e){b(n,e);var t=E(n);function n(e){return p(this,n),Wr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=$a.fromJSON(e);return Wr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return $a._create(r,n)}catch(i){return null}}}]),n}(Wa),Xa=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Da._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(YN){return null}}}]),n}(Ka);function Za(e,t){return eo.apply(this,arguments)}function eo(){return(eo=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signUp",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Xa.TWITTER_SIGN_IN_METHOD="twitter.com",Xa.PROVIDER_ID="twitter.com";var to=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=nt(et().mark((function t(n,r,i){var a,o,s,u,c=arguments;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Fi._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=no(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=nt(et().mark((function t(n,r,i){var a;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=no(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function no(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ro(){return ro=nt(et().mark((function e(t){var n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ra(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new to({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Za(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,to._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}var io=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o,s;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Nt);function ao(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw io._fromErrorAndOperation(e,n,t,r);throw n}))}function oo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function so(e,t){return uo.apply(this,arguments)}function uo(){return uo=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jt(t),e.next=3,fo(!0,r,n);case 3:return e.t0=vi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=oo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=nt(et().mark((function e(t,n){var r,i,a=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=xi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",to._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(e,t,n){return ho.apply(this,arguments)}function ho(){return(ho=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ci(n);case 2:i=oo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Wr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=nt(et().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,xi(t,ao(i,a,n,t),r);case 6:return Wr((o=e.sent).idToken,i,"internal-error"),Wr(s=_i(o.idToken),i,"internal-error"),u=s.sub,Wr(t.uid===u,i,"user-mismatch"),e.abrupt("return",to._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ur(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),vo.apply(this,arguments)}function yo(e,t){return mo.apply(this,arguments)}function mo(){return mo=nt(et().mark((function e(t,n){var r,i,a,o,s=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ao(t,i,n);case 4:return a=e.sent,e.next=7,to._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function go(e,t){return ko.apply(this,arguments)}function ko(){return(ko=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yo(ra(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return(wo=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jt(t),e.next=3,fo(!1,r,n.providerId);case 3:return e.abrupt("return",co(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t){return xo.apply(this,arguments)}function xo(){return(xo=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",po(Jt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithCustomToken",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(){return(Io=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ra(t),e.next=3,So(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,to._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var To=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Co._fromServerResponse(e,t):Ur(e,"internal-error")}}]),e}(),Co=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(To);function No(e,t,n){var r;Wr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Wr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Wr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Wr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ro(){return(Ro=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jt(t),a={requestType:"PASSWORD_RESET",email:n},r&&No(i,a,r),e.next=5,wa(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(){return(Ao=nt(et().mark((function e(t,n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(Jt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(){return(Po=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(Jt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oo(e,t){return Do.apply(this,arguments)}function Do(){return(Do=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jt(t),e.next=3,ca(r,{oobCode:n});case 3:i=e.sent,Wr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Wr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Wr(i.mfaInfo,r,"internal-error");case 13:Wr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=To._fromServerResponse(ra(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(){return(Lo=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(Jt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e,t,n){return Fo.apply(this,arguments)}function Fo(){return(Fo=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ra(t),e.next=3,Za(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,to._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(){return(jo=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jt(t),a={requestType:"EMAIL_SIGNIN",email:n},Wr(r.handleCodeInApp,i,"argument-error"),r&&No(i,a,r),e.next=6,xa(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(){return(Uo=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jt(t),Wr((a=za.credentialWithLink(n,r||Yr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",go(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:createAuthUri",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(){return(qo=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$r()?Yr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vo(Jt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(){return(zo=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&No(r.auth,a,n),e.next=8,ka(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(){return(Wo=nt(et().mark((function e(t,n,r){var i,a,o,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&No(i.auth,o,r),e.next=8,Ea(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return(Go=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(){return(Ho=nt(et().mark((function e(t,n){var r,i,a,o,s,u,c;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Jt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,xi(a,Ko(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t,n){return Yo.apply(this,arguments)}function Yo(){return(Yo=nt(et().mark((function e(t,n,r){var i,a,o,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,xi(t,fa(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $o=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Jo=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}($o),Xo=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return g(n)}($o),Zo=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Jo),es=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return g(n)}($o),ts=function(e){b(n,e);var t=E(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Jo);function ns(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=_i(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new $o(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Xo(a,i);case"github.com":return new Zo(a,i);case"google.com":return new es(a,i);case"twitter.com":return new ts(a,i,e.screenName||null);case"custom":case"anonymous":return new $o(a,null);default:return new $o(a,r,i)}}(n)}var rs=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:rt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),is=function(){function e(t,n,r){p(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ra(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return To._fromServerResponse(r,e)}));Wr(i.mfaPendingCredential,r,"internal-error");var o=rs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=nt(et().mark((function e(t){var a,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,to._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Wr(n.user,r,"internal-error"),e.abrupt("return",to._forOperation(n.user,n.operationType,s));case 17:Ur(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function as(e,t){return ii(e,"POST","/v2/accounts/mfaEnrollment:start",ri(e,t))}var os=function(){function e(t){var n=this;p(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return To._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=rs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,xi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,xi(this.user,ii(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ri(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ss=new WeakMap;var us="__sak",cs=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch(YN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ls=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=yt();return Wi(e)||$i(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Zi(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Xi()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=nt(et().mark((function e(t,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(cs);ls.type="LOCAL";var fs=ls,hs=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(cs);hs.type="SESSION";var ds=hs;function ps(e){return Promise.all(e.map(function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var vs=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,s,u,c;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ps(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ys(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vs.receivers=[];var ms=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=nt(et().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ys("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function gs(){return window}function ks(e){gs().location.href=e}function bs(){return"undefined"!==typeof gs().WorkerGlobalScope&&"function"===typeof gs().importScripts}function ws(){return _s.apply(this,arguments)}function _s(){return(_s=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ss="firebaseLocalStorageDb",Es="firebaseLocalStorage",Is="fbase_key",Ts=function(){function e(t){p(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Cs(e,t){return e.transaction([Es],t?"readwrite":"readonly").objectStore(Es)}function Ns(){var e=indexedDB.deleteDatabase(Ss);return new Ts(e).toPromise()}function Rs(){var e=indexedDB.open(Ss,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Es,{keyPath:Is})}catch(r){n(r)}})),e.addEventListener("success",nt(et().mark((function n(){var r;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Es)){n.next=12;break}return r.close(),n.next=5,Ns();case 5:return n.t0=t,n.next=8,Rs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function As(e,t,n){return Ps.apply(this,arguments)}function Ps(){return Ps=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cs(t,!0).put((rt(i={},Is,n),rt(i,"value",r),i)),e.abrupt("return",new Ts(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Os(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cs(t,!1).get(n),e.next=3,new Ts(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Ls(e,t){var n=Cs(e,!0).delete(t);return new Ts(n).toPromise()}var Ms=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Rs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=vs._getInstance(bs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=nt(et().mark((function e(n,r){var i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ms(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Rs();case 5:return t=e.sent,e.next=8,As(t,us,"1");case 8:return e.next=10,Ls(t,us);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=nt(et().mark((function e(t,n){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return As(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Os(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ls(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Cs(e,!1).getAll();return new Ts(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=N(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ms.type="LOCAL";var Fs=Ms;function js(e,t){return ii(e,"POST","/v2/accounts/mfaSignIn:start",ri(e,t))}function Us(e){return Vs.apply(this,arguments)}function Vs(){return(Vs=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Vr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var zs=1e12,Ws=function(){function e(t){p(this,e),this.auth=t,this.counter=zs,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ks(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||zs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||zs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||zs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ks=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Wr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Gs=qs("rcb"),Hs=new Xr(3e4,6e4),Qs="https://www.google.com/recaptcha/api.js?",Ys=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=gs().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Wr($s(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(gs().grecaptcha):new Promise((function(r,i){var a=gs().setTimeout((function(){i(Vr(e,"network-request-failed"))}),Hs.get());gs()[Gs]=function(){gs().clearTimeout(a),delete gs()[Gs];var o=gs().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Vr(e,"internal-error"))},Bs("".concat(Qs,"?").concat(qt({onload:Gs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Vr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=gs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function $s(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Js=function(){function e(){p(this,e)}return g(e,[{key:"load",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ws(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Xs="recaptcha",Zs={theme:"light",type:"image"},eu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Zs),r=arguments.length>2?arguments[2]:void 0;p(this,e),this.parameters=n,this.type=Xs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ra(r),this.isInvisible="invisible"===this.parameters.size,Wr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Wr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Js:new Ys,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=nt(et().mark((function e(){var t,n,r,i=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Wr(!this.parameters.sitekey,this.auth,"argument-error"),Wr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Wr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=gs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Wr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wr($r()&&!bs(),this.auth,"internal-error"),e.next=3,tu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Us(this.auth);case 8:Wr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Wr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function tu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var nu=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=Ba._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ru(){return(ru=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ra(t),e.next=3,su(i,n,Jt(r));case 3:return a=e.sent,e.abrupt("return",new nu(a,(function(e){return go(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return(au=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jt(t),e.next=3,fo(!1,i,"phone");case 3:return e.next=5,su(i.auth,n,Jt(r));case 5:return a=e.sent,e.abrupt("return",new nu(a,(function(e){return bo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(){return(ou=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jt(t),e.next=3,su(i.auth,n,Jt(r));case 3:return a=e.sent,e.abrupt("return",new nu(a,(function(e){return _o(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(e,t,n){return uu.apply(this,arguments)}function uu(){return uu=nt(et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Wr("string"===typeof a,t,"argument-error"),Wr(r.type===Xs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Wr("enroll"===s.type,t,"internal-error"),e.next=13,as(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Wr("signin"===s.type,t,"internal-error"),Wr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,js(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,La(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),uu.apply(this,arguments)}function cu(){return(cu=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co(Jt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lu=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=ra(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return su(this.auth,e,Jt(t))}}],[{key:"credential",value:function(e,t){return Ba._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ba._fromTokenResponse(n,r):null}}]),e}();function fu(e,t){return t?Qr(t):(Wr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lu.PROVIDER_ID="phone",lu.PHONE_SIGN_IN_METHOD="phone";var hu=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ua);function du(e){return yo(e.auth,new hu(e),e.bypassAuthState)}function pu(e){var t=e.auth,n=e.user;return Wr(n,t,"internal-error"),po(n,new hu(e),e.bypassAuthState)}function vu(e){return yu.apply(this,arguments)}function yu(){return(yu=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Wr(r=t.user,n,"internal-error"),e.abrupt("return",co(r,new hu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=nt(et().mark((function t(n,r){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=nt(et().mark((function e(t){var n,r,i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return du;case"linkViaPopup":case"linkViaRedirect":return vu;case"reauthViaPopup":case"reauthViaRedirect":return pu;default:Ur(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gu=new Xr(2e3,1e4);function ku(e,t,n){return bu.apply(this,arguments)}function bu(){return(bu=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ra(t),qr(t,n,Wa),a=fu(i,r),o=new Su(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(){return(wu=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=Jt(t)).auth,n,Wa),a=fu(i.auth,r),o=new Su(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t,n){return xu.apply(this,arguments)}function xu(){return(xu=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=Jt(t)).auth,n,Wa),a=fu(i.auth,r),o=new Su(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Su=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o){var s;return p(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Wr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nt(et().mark((function e(){var t,n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr(1===this.filter.length,"Popup operations only handle one event"),t=ys(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Vr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Vr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Vr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,gu.get())}()}}]),n}(mu);Su.currentPopupAction=null;var Eu=new Map,Iu=function(e){b(n,e);var t=E(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=nt(et().mark((function e(){var t,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Eu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Tu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,kr(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Eu.set(this.auth._key(),t);case 21:return this.bypassAuthState||Eu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=nt(et().mark((function e(t){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",kr(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",kr(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(mu);function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ou(n),i=Pu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Nu(e,t){return Ru.apply(this,arguments)}function Ru(){return(Ru=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t)._set(Ou(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t){Eu.set(e._key(),t)}function Pu(e){return Qr(e._redirectPersistence)}function Ou(e){return Vi("pendingRedirect",e.config.apiKey,e.name)}function Du(e,t,n){return function(e,t,n){return Lu.apply(this,arguments)}(e,t,n)}function Lu(){return(Lu=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ra(t),qr(t,n,Wa),a=fu(i,r),e.next=5,Nu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(e,t,n){return function(e,t,n){return Fu.apply(this,arguments)}(e,t,n)}function Fu(){return(Fu=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=Jt(t)).auth,n,Wa),a=fu(i.auth,r),e.next=5,Nu(a,i.auth);case 5:return e.next=7,Wu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t,n){return function(e,t,n){return Uu.apply(this,arguments)}(e,t,n)}function Uu(){return(Uu=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr((i=Jt(t)).auth,n,Wa),a=fu(i.auth,r),e.next=5,fo(!1,i,n.providerId);case 5:return e.next=7,Nu(a,i.auth);case 7:return e.next=9,Wu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(t)._initializationPromise;case 2:return e.abrupt("return",qu(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(e,t){return zu.apply(this,arguments)}function zu(){return zu=nt(et().mark((function e(t,n){var r,i,a,o,s,u=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ra(t),a=fu(i,n),o=new Iu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function Wu(e){return Ku.apply(this,arguments)}function Ku(){return(Ku=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ys("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gu=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Qu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Hu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Hu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Qu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Yu(e){return $u.apply(this,arguments)}function $u(){return $u=nt(et().mark((function e(t){var n,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ii(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}var Ju=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xu=/^https?/;function Zu(){return(Zu=nt(et().mark((function e(t){var n,r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yu(t);case 4:n=e.sent,r=n.authorizedDomains,i=N(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ec(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ur(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ec(e){var t=Yr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Xu.test(r))return!1;if(Ju.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var tc=new Xr(3e4,6e4);function nc(){var e=gs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rc=null;function ic(e){return rc=rc||function(e){return new Promise((function(t,n){var r,i,a;function o(){nc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){nc(),n(Vr(e,"network-request-failed"))},timeout:tc.get()})}if(null===(i=null===(r=gs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=gs().gapi)||void 0===a?void 0:a.load)){var s=qs("iframefcb");return gs()[s]=function(){gapi.load?o():n(Vr(e,"network-request-failed"))},Bs("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw rc=null,e}))}(e),rc}var ac=new Xr(5e3,15e3),oc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uc(e){var t=e.config;Wr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Zr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yn},i=sc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(qt(r).slice(1))}function cc(e){return lc.apply(this,arguments)}function lc(){return lc=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ic(t);case 2:return n=e.sent,Wr(r=gs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:uc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oc,dontclear:!0},(function(e){return new Promise(function(){var n=nt(et().mark((function n(r,i){var a,o,s;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){gs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Vr(t,"network-request-failed"),o=gs().setTimeout((function(){i(a)}),ac.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hc="_blank",dc="http://localhost",pc=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},fc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=yt().toLowerCase();n&&(s=Ki(c)?hc:n),zi(c)&&(t=t||dc,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ji(c)&&"_self"!==s)return yc(t||"",s),new pc(null);var h=window.open(t||"",s,l);Wr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new pc(h)}function yc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var mc="__/auth/handler",gc="emulator/auth/handler";function kc(e,t,n,r,i,a){Wr(e.config.authDomain,e,"auth-domain-config-required"),Wr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yn,eventId:i};if(t instanceof Wa){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",jt(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=f(u[s],2),l=c[0],h=c[1];o[l]=h}}if(t instanceof Ka){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(mc);return Zr(t,gc)}(e),"?").concat(qt(p).slice(1))}var bc="webStorageSupport",wc=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=qu,this._overrideRedirectResult=Au}return g(e,[{key:"_openPopup",value:function(){var e=nt(et().mark((function e(t,n,r,i){var a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=kc(t,n,r,Yr(),i),e.abrupt("return",vc(t,o,ys()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nt(et().mark((function e(t,n,r,i){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return ks(kc(t,n,r,Yr(),i)),e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Gr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(t);case 2:return n=e.sent,r=new Gu(t),n.register("authEvent",(function(e){return Wr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bc,{type:bc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bc];void 0!==i&&t(!!i),Ur(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Zi()||Wi()||$i()}}]),e}(),_c=wc,xc=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ii(e,"POST","/v2/accounts/mfaEnrollment:finalize",ri(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ii(e,"POST","/v2/accounts/mfaSignIn:finalize",ri(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){p(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Kr("unexpected MultiFactorSessionType")}}}]),e}()),Sc=function(){function e(){p(this,e)}return g(e,null,[{key:"assertion",value:function(e){return xc._fromCredential(e)}}]),e}();Sc.FACTOR_ID="phone";var Ec="@firebase/auth",Ic="0.21.0",Tc=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Wr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Cc;!function(e){var t;null===(t=Et())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");Cc="Browser",qn(new Xt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Wr(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Wr(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Cc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ea(Cc)},i=new na(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),qn(new Xt("auth-internal",(function(e){return function(e){return new Tc(e)}(ra(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Ec,Ic,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Cc)),tr(Ec,Ic,"esm2017");var Nc="@firebase/database",Rc="0.14.0",Ac="";var Pc=function(){function e(t){p(this,e),this.domStorage_=t,this.prefix_="firebase:"}return g(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ot(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Oc=function(){function e(){p(this,e),this.cache_={},this.isInMemoryStorage=!0}return g(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Mt(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Dc=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Pc(t)}}catch(n){}return new Oc},Lc=Dc("localStorage"),Mc=Dc("sessionStorage"),Fc=new fn("@firebase/database"),jc=function(){var e=1;return function(){return e++}}(),Uc=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,st(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Kt;n.update(t);var r=n.digest();return lt.encodeByteArray(r)},Vc=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Dt(r):r,t+=" "}return t},Bc=null,qc=!0,zc=function(e,t){st(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Fc.logLevel=rn.VERBOSE,Bc=Fc.log.bind(Fc),t&&Mc.set("logging_enabled",!0)):"function"===typeof e?Bc=e:(Bc=null,Mc.remove("logging_enabled"))},Wc=function(){if(!0===qc&&(qc=!1,null===Bc&&!0===Mc.get("logging_enabled")&&zc(!0)),Bc){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Vc.apply(null,t);Bc(r)}},Kc=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Wc.apply(void 0,[e].concat(n))}},Gc=function(){var e="FIREBASE INTERNAL ERROR: "+Vc.apply(void 0,arguments);Fc.error(e)},Hc=function(){var e="FIREBASE FATAL ERROR: ".concat(Vc.apply(void 0,arguments));throw Fc.error(e),new Error(e)},Qc=function(){var e="FIREBASE WARNING: "+Vc.apply(void 0,arguments);Fc.warn(e)},Yc=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},$c="[MIN_NAME]",Jc="[MAX_NAME]",Xc=function(e,t){if(e===t)return 0;if(e===$c||t===Jc)return-1;if(t===$c||e===Jc)return 1;var n=ol(e),r=ol(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Zc=function(e,t){return e===t?0:e<t?-1:1},el=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Dt(t))},tl=function e(t){if("object"!==typeof t||null===t)return Dt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Dt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},nl=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function rl(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var il=function(e){st(!Yc(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var al=new RegExp("^-?(0*)\\d{1,10}$"),ol=function(e){if(al.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},sl=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Qc("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ul=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},cl=function(){function e(t,n){var r=this;p(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Qc('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ll=function(){function e(t,n,r){var i=this;p(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return g(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Wc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qc(e)}}]),e}(),fl=function(){function e(t){p(this,e),this.accessToken=t}return g(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();fl.OWNER="owner";var hl="5",dl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pl="ac",vl="websocket",yl="long_polling",ml=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];p(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lc.get("host:"+t)||this._host}return g(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lc.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function gl(e,t,n){var r;if(st("string"===typeof t,"typeof type must == string"),st("object"===typeof n,"typeof params must == object"),t===vl)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==yl)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return rl(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var kl=function(){function e(){p(this,e),this.counters_={}}return g(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Mt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return function(e){return pt(void 0,e)}(this.counters_)}}]),e}(),bl={},wl={};function _l(e){var t=e.toString();return bl[t]||(bl[t]=new kl),bl[t]}var xl=function(){function e(t){p(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return g(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&sl((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Sl="start",El="close",Il=function(){function e(t,n,r,i,a,o,s){var u=this;p(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kc(t),this.stats_=_l(n),this.urlFn=function(e){return u.appCheckToken&&(e[pl]=u.appCheckToken),gl(n,yl,e)}}return g(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xl(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(_t()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Tl((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Sl)n.id=a,n.password=o;else{if(i!==El)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Sl]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=hl,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[pl]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&dl.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Dt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ft(t),r=nl(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!_t()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Dt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!_t()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Tl=function(){function e(t,n,r,i){if(p(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,_t())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=jc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Wc("frame writing exception"),s.stack&&Wc(s.stack),Wc(s)}}}return g(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;_t()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Wc("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Wc("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Cl=null;"undefined"!==typeof MozWebSocket?Cl=MozWebSocket:"undefined"!==typeof WebSocket&&(Cl=WebSocket);var Nl=function(){function e(t,n,r,i,a,o,s){p(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kc(this.connId),this.stats_=_l(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return g(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lc.set("previous_websocket_failure",!0);try{var r;if(_t()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(hl,"/").concat(Ac,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Cl(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Lc.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ot(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(st(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Dt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=nl(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=hl,!_t()&&"undefined"!==typeof location&&location.hostname&&dl.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[pl]=r),i&&(a.p=i),gl(e,vl,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Cl&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Lc.isInMemoryStorage||!0===Lc.get("previous_websocket_failure")}}]),e}();Nl.responsesRequiredToBeHealthy=2,Nl.healthyTimeout=3e4;var Rl=function(){function e(t){p(this,e),this.initTransports_(t)}return g(e,[{key:"initTransports_",value:function(t){var n=Nl&&Nl.isAvailable(),r=n&&!Nl.previouslyFailed();if(t.webSocketOnly&&(n||Qc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nl];else{var i,a=this.transports_=[],o=N(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Il,Nl]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Rl.globalTransportInitialized_=!1;var Al=function(){function e(t,n,r,i,a,o,s,u,c,l){p(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kc("c:"+this.id+":"),this.transportManager_=new Rl(n),this.log_("Connection created"),this.start_()}return g(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ul((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=el("t",e),n=el("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=el("t",e),n=el("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=el("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Gc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gc("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),hl!==n&&Qc("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ul((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ul((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Pl=function(){function e(){p(this,e)}return g(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Ol=function(){function e(t){p(this,e),this.allowedEvents_=t,this.listeners_={},st(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return g(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=d(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){st(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Dl=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||mt()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return g(n,[{key:"getInitialEvent",value:function(e){return st("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ol),Ll=function(){function e(t,n){if(p(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return g(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ml(){return new Ll("")}function Fl(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function jl(e){return e.pieces_.length-e.pieceNum_}function Ul(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ll(e.pieces_,t)}function Vl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ql(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ll(t,0)}function zl(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ll)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ll(n,0)}function Wl(e){return e.pieceNum_>=e.pieces_.length}function Kl(e,t){var n=Fl(e),r=Fl(t);if(null===n)return t;if(n===r)return Kl(Ul(e),Ul(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Gl(e,t){if(jl(e)!==jl(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Hl(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(jl(e)>jl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ql=g((function e(t,n){p(this,e),this.errorPrefix_=n,this.parts_=Bl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=$t(this.parts_[r]);Yl(this)}));function Yl(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$l(e))}function $l(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Jl=function(e){b(n,e);var t=E(n);function n(){var e,r,i;return p(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return g(n,[{key:"getInitialEvent",value:function(e){return st("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ol),Xl=1e3,Zl=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s,u,c){var l;if(p(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Kc("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Xl,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!_t())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Jl.getInstance().on("visible",l.onVisible_,x(l)),-1===e.host.indexOf("fblocal")&&Dl.getInstance().on("online",l.onOnline_,x(l)),l}return g(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Dt(i)),st(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Tt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),st(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),st(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Lt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Lt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),st(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Dt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Gc("Unrecognized action received from server: "+Dt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;st(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xl),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=nt(et().mark((function e(){var t,r,i,a,o,s,u,c,l,h,d,p,v,y,m=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){st(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=f(d,2),v=p[0],y=p[1],s?Wc("getToken() completed but was canceled"):(Wc("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,u=new Al(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Qc(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Qc(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Wc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Wc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jt(this.interruptReasons_)&&(this.reconnectDelay_=Xl,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return tl(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ll(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Wc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Wc("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=N(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=N(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";_t()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ac.replace(/\./g,"-")]=1,mt()?e["framework.cordova"]=1:bt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Dl.getInstance().currentlyOnline();return jt(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Mt(e,"w")){var n=Ft(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Qc("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Pl);Zl.nextPersistentConnectionId_=0,Zl.nextConnectionId_=0;var ef,tf=function(){function e(t,n){p(this,e),this.name=t,this.node=n}return g(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),nf=function(){function e(){p(this,e)}return g(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new tf($c,e),r=new tf($c,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return tf.MIN}}]),e}(),rf=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){return Xc(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw ut("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return tf.MIN}},{key:"maxPost",value:function(){return new tf(Jc,ef)}},{key:"makePost",value:function(e,t){return st("string"===typeof e,"KeyIndex indexValue must always be a string."),new tf(e,ef)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return ef},set:function(e){ef=e}}]),n}(nf),af=new rf,of=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;p(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return g(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),sf=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:lf.EMPTY_NODE,this.right=null!=a?a:lf.EMPTY_NODE}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return lf.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return lf.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();sf.RED=!0,sf.BLACK=!1;var uf,cf=function(){function e(){p(this,e)}return g(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new sf(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),lf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;p(this,e),this.comparator_=t,this.root_=n}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,sf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,sf.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new of(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new of(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new of(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new of(this.root_,null,this.comparator_,!0,e)}}]),e}();function ff(e,t){return Xc(e.name,t.name)}function hf(e,t){return Xc(e,t)}lf.EMPTY_NODE=new cf;var df,pf,vf,yf=function(e){return"number"===typeof e?"number:"+il(e):"string:"+e},mf=function(e){if(e.isLeafNode()){var t=e.val();st("string"===typeof t||"number"===typeof t||"object"===typeof t&&Mt(t,".sv"),"Priority must be a string or number.")}else st(e===uf||e.isEmpty(),"priority of unexpected type.");st(e===uf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},gf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;p(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,st(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mf(this.priorityNode_)}return g(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Wl(t)?this:".priority"===Fl(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Fl(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(st(".priority"!==r||1===jl(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ul(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+yf(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?il(this.value_):this.value_,this.lazyHash_=Uc(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(st(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return st(i>=0,"Unknown leaf type: "+n),st(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return df},set:function(e){df=e}}]),e}();gf.VALUE_TYPE_ORDER=["object","boolean","number","string"];var kf,bf,wf=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Xc(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return tf.MIN}},{key:"maxPost",value:function(){return new tf(Jc,new gf("[PRIORITY-POST]",vf))}},{key:"makePost",value:function(e,t){var n=pf(e);return new tf(t,new gf("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(nf),_f=new wf,xf=Math.log(2),Sf=function(){function e(t){p(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/xf,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return g(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Ef=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new sf(o,a.node,sf.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new sf(o,a.node,sf.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new sf(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,sf.BLACK):(s(f,sf.BLACK),s(f,sf.RED))}return a}(new Sf(e.length));return new lf(r||t,a)},If={},Tf=function(){function e(t,n){p(this,e),this.indexes_=t,this.indexSet_=n}return g(e,[{key:"get",value:function(e){var t=Ft(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof lf?t:null}},{key:"hasIndex",value:function(e){return Mt(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){st(t!==af,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(tf.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Ef(i,t.getCompare()):If;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Ut(this.indexes_,(function(e,i){var a=Ft(r.indexSet_,i);if(st(a,"Missing index implementation for "+i),e===If){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(tf.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Ef(o,a.getCompare())}return If}var c=n.get(t.name),l=e;return c&&(l=l.remove(new tf(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ut(this.indexes_,(function(e){if(e===If)return e;var r=n.get(t.name);return r?e.remove(new tf(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return st(If&&_f,"ChildrenNode.ts has not been loaded"),kf=kf||new e({".priority":If},{".priority":_f})}}]),e}(),Cf=function(){function e(t,n,r){p(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mf(this.priorityNode_),this.children_.isEmpty()&&st(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return g(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||bf}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?bf:t}},{key:"getChild",value:function(e){var t=Fl(e);return null===t?this:this.getImmediateChild(t).getChild(Ul(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(st(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new tf(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?bf:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Fl(e);if(null===n)return t;st(".priority"!==Fl(e)||1===jl(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ul(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(_f,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+yf(this.getPriority().val())+":"),this.forEachChild(_f,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Uc(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new tf(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new tf(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new tf(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,tf.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,tf.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Nf?-1:0}},{key:"withIndex",value:function(t){if(t===af||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===af||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(_f),r=t.getIterator(_f),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===af?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return bf||(bf=new e(new lf(hf),null,Tf.Default))}}]),e}();Cf.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Nf=new(function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.call(this,new lf(hf),Cf.EMPTY_NODE,Tf.Default)}return g(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Cf.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Cf));Object.defineProperties(tf,{MIN:{value:new tf($c,Cf.EMPTY_NODE)},MAX:{value:new tf(Jc,Nf)}}),rf.__EMPTY_NODE=Cf.EMPTY_NODE,gf.__childrenNodeConstructor=Cf,uf=Nf,function(e){vf=e}(Nf);function Rf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Cf.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),st(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new gf(n,Rf(t))}if(e instanceof Array){var r=Cf.EMPTY_NODE;return rl(e,(function(t,n){if(Mt(e,t)&&"."!==t.substring(0,1)){var i=Rf(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Rf(t))}var i=[],a=!1,o=e;if(rl(o,(function(e,t){if("."!==e.substring(0,1)){var n=Rf(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new tf(e,n)))}})),0===i.length)return Cf.EMPTY_NODE;var s=Ef(i,ff,(function(e){return e.name}),hf);if(a){var u=Ef(i,_f.getCompare());return new Cf(s,Rf(t),new Tf({".priority":u},{".priority":_f}))}return new Cf(s,Rf(t),Tf.Default)}!function(e){pf=e}(Rf);var Af=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).indexPath_=e,st(!Wl(e)&&".priority"!==Fl(e),"Can't create PathIndex with empty path or .priority key"),r}return g(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Xc(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Rf(e),r=Cf.EMPTY_NODE.updateChild(this.indexPath_,n);return new tf(t,r)}},{key:"maxPost",value:function(){var e=Cf.EMPTY_NODE.updateChild(this.indexPath_,Nf);return new tf(Jc,e)}},{key:"toString",value:function(){return Bl(this.indexPath_,0).join("/")}}]),n}(nf),Pf=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Xc(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return tf.MIN}},{key:"maxPost",value:function(){return tf.MAX}},{key:"makePost",value:function(e,t){var n=Rf(e);return new tf(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(nf),Of=new Pf;function Df(e){return{type:"value",snapshotNode:e}}function Lf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Mf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ff(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var jf=function(){function e(){p(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_f}return g(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return st(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return st(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$c}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return st(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return st(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jc}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return st(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===_f}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Uf(e){var t,n={};if(e.isDefault())return n;if(e.index_===_f?t="$priority":e.index_===Of?t="$value":e.index_===af?t="$key":(st(e.index_ instanceof Af,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Dt(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Dt(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Dt(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Dt(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Dt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Vf(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==_f&&(t.i=e.index_.toString()),t}var Bf=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Kc("p:rest:"),o.listens_={},o}return g(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Uf(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Ft(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Uf(e._queryParams),r=e._path.toString(),i=new Tt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=f(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+qt(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Ot(c.responseText)}catch(n){Qc("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&Qc("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(st(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Pl),qf=function(){function e(){p(this,e),this.rootNode_=Cf.EMPTY_NODE}return g(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function zf(){return{value:null,children:new Map}}function Wf(e,t,n){if(Wl(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Fl(t);e.children.has(r)||e.children.set(r,zf()),Wf(e.children.get(r),t=Ul(t),n)}}function Kf(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Kf(r,new Ll(t.toString()+"/"+e),n)}))}var Gf,Hf=function(){function e(t){p(this,e),this.collection_=t,this.last_=null}return g(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&rl(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Qf=function(){function e(t,n){p(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Hf(t);var r=1e4+2e4*Math.random();ul(this.reportStats_.bind(this),Math.floor(r))}return g(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;rl(t,(function(t,i){i>0&&Mt(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ul(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Yf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gf||(Gf={}));var $f,Jf=function(){function e(t,n,r){p(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Gf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return g(e,[{key:"operationForChild",value:function(t){if(Wl(this.path)){if(null!=this.affectedTree.value)return st(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ll(t));return new e(Ml(),n,this.revert)}return st(Fl(this.path)===t,"operationForChild called for unrelated child."),new e(Ul(this.path),this.affectedTree,this.revert)}}]),e}(),Xf=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.snap=r,this.type=Gf.OVERWRITE}return g(e,[{key:"operationForChild",value:function(t){return Wl(this.path)?new e(this.source,Ml(),this.snap.getImmediateChild(t)):new e(this.source,Ul(this.path),this.snap)}}]),e}(),Zf=function(){function e(t,n,r){p(this,e),this.source=t,this.path=n,this.children=r,this.type=Gf.MERGE}return g(e,[{key:"operationForChild",value:function(t){if(Wl(this.path)){var n=this.children.subtree(new Ll(t));return n.isEmpty()?null:n.value?new Xf(this.source,Ml(),n.value):new e(this.source,Ml(),n)}return st(Fl(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ul(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),eh=function(){function e(t,n,r){p(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return g(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Wl(e))return this.isFullyInitialized()&&!this.filtered_;var t=Fl(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function th(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ut("Should only compare child_ events.");var r=new tf(t.childName,t.snapshotNode),i=new tf(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function nh(e,t){return{eventCache:e,serverCache:t}}function rh(e,t,n,r){return nh(new eh(t,n,r),e.serverCache)}function ih(e,t,n,r){return nh(e.eventCache,new eh(t,n,r))}function ah(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function oh(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sh=function(){return $f||($f=new lf(Zc)),$f},uh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sh();p(this,e),this.value=t,this.children=n}return g(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ml(),value:this.value};if(Wl(e))return null;var n=Fl(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ul(e),t);return null!=i?{path:zl(new Ll(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Wl(t))return this;var n=Fl(t),r=this.children.get(n);return null!==r?r.subtree(Ul(t)):new e(null)}},{key:"set",value:function(t,n){if(Wl(t))return new e(n,this.children);var r=Fl(t),i=(this.children.get(r)||new e(null)).set(Ul(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Wl(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Fl(t),r=this.children.get(n);if(r){var i,a=r.remove(Ul(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Wl(e))return this.value;var t=Fl(e),n=this.children.get(t);return n?n.get(Ul(e)):null}},{key:"setTree",value:function(t,n){if(Wl(t))return n;var r,i=Fl(t),a=(this.children.get(i)||new e(null)).setTree(Ul(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ml(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(zl(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ml(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Wl(e))return null;var i=Fl(e),a=this.children.get(i);return a?a.findOnPath_(Ul(e),zl(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ml(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Wl(t))return this;this.value&&r(n,this.value);var i=Fl(t),a=this.children.get(i);return a?a.foreachOnPath_(Ul(t),zl(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ml(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(zl(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return rl(t,(function(e,t){n=n.set(new Ll(e),t)})),n}}]),e}(),ch=function(){function e(t){p(this,e),this.writeTree_=t}return g(e,null,[{key:"empty",value:function(){return new e(new uh(null))}}]),e}();function lh(e,t,n){if(Wl(t))return new ch(new uh(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Kl(i,t);return a=a.updateChild(o,n),new ch(e.writeTree_.set(i,a))}var s=new uh(n),u=e.writeTree_.setTree(t,s);return new ch(u)}function fh(e,t,n){var r=e;return rl(n,(function(e,n){r=lh(r,zl(t,e),n)})),r}function hh(e,t){if(Wl(t))return ch.empty();var n=e.writeTree_.setTree(t,new uh(null));return new ch(n)}function dh(e,t){return null!=ph(e,t)}function ph(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kl(n.path,t)):null}function vh(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_f,(function(e,n){t.push(new tf(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new tf(e,n.value))})),t}function yh(e,t){if(Wl(t))return e;var n=ph(e,t);return new ch(null!=n?new uh(n):e.writeTree_.subtree(t))}function mh(e){return e.writeTree_.isEmpty()}function gh(e,t){return kh(Ml(),e.writeTree_,t)}function kh(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(st(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=kh(zl(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zl(e,".priority"),r)),n}function bh(e,t){return Dh(t,e)}function wh(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function _h(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));st(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&xh(s,r.path)?i=!1:Hl(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Eh(e.allWrites,Sh,Ml()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=hh(e.visibleWrites,r.path):rl(r.children,(function(t){e.visibleWrites=hh(e.visibleWrites,zl(r.path,t))}));return!0}return!1}function xh(e,t){if(e.snap)return Hl(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Hl(zl(e.path,n),t))return!0;return!1}function Sh(e){return e.visible}function Eh(e,t,n){for(var r=ch.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Hl(n,o)?r=lh(r,s=Kl(n,o),a.snap):Hl(o,n)&&(s=Kl(o,n),r=lh(r,Ml(),a.snap.getChild(s)));else{if(!a.children)throw ut("WriteRecord should have .snap or .children");if(Hl(n,o))r=fh(r,s=Kl(n,o),a.children);else if(Hl(o,n))if(Wl(s=Kl(o,n)))r=fh(r,Ml(),a.children);else{var u=Ft(a.children,Fl(s));if(u){var c=u.getChild(Ul(s));r=lh(r,Ml(),c)}}}}}return r}function Ih(e,t,n,r,i){if(r||i){var a=yh(e.visibleWrites,t);if(!i&&mh(a))return n;if(i||null!=n||dh(a,Ml())){return gh(Eh(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Hl(e.path,t)||Hl(t,e.path))}),t),n||Cf.EMPTY_NODE)}return null}var o=ph(e.visibleWrites,t);if(null!=o)return o;var s=yh(e.visibleWrites,t);return mh(s)?n:null!=n||dh(s,Ml())?gh(s,n||Cf.EMPTY_NODE):null}function Th(e,t,n,r){return Ih(e.writeTree,e.treePath,t,n,r)}function Ch(e,t){return function(e,t,n){var r=Cf.EMPTY_NODE,i=ph(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(_f,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=yh(e.visibleWrites,t);return n.forEachChild(_f,(function(e,t){var n=gh(yh(a,new Ll(e)),t);r=r.updateImmediateChild(e,n)})),vh(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return vh(yh(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Nh(e,t,n,r){return function(e,t,n,r,i){st(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=zl(t,n);if(dh(e.visibleWrites,a))return null;var o=yh(e.visibleWrites,a);return mh(o)?i.getChild(n):gh(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Rh(e,t){return function(e,t){return ph(e.visibleWrites,t)}(e.writeTree,zl(e.treePath,t))}function Ah(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=yh(e.visibleWrites,t),c=ph(u,Ml());if(null!=c)s=c;else{if(null==n)return[];s=gh(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Ph(e,t,n){return function(e,t,n,r){var i=zl(t,n),a=ph(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?gh(yh(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Oh(e,t){return Dh(zl(e.treePath,t),e.writeTree)}function Dh(e,t){return{treePath:e,writeTree:t}}var Lh=function(){function e(){p(this,e),this.changeMap=new Map}return g(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;st("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),st(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ff(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Mf(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Lf(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ut("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ff(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Mh=new(function(){function e(){p(this,e)}return g(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Fh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return g(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new eh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ph(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oh(this.viewCache_),i=Ah(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function jh(e,t,n,r,i){var a,o,s=new Lh;if(n.type===Gf.OVERWRITE){var u=n;u.source.fromUser?a=Bh(e,t,u.path,u.snap,r,i,s):(st(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Wl(u.path),a=Vh(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Gf.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=zl(n,r);qh(t,Fl(c))&&(s=Bh(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=zl(n,r);qh(t,Fl(c))||(s=Bh(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(st(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Wh(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Gf.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Rh(r,n))return t;var s,u=new Fh(r,t,i),c=t.eventCache.getNode();if(Wl(n)||".priority"===Fl(n)){var l;if(t.serverCache.isFullyInitialized())l=Th(r,oh(t));else{var f=t.serverCache.getNode();st(f instanceof Cf,"serverChildren would be complete if leaf node"),l=Ch(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Fl(n),d=Ph(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Ul(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Cf.EMPTY_NODE,Ul(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Th(r,oh(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Rh(r,Ml()),rh(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Rh(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Wl(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Vh(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Wl(n)){var c=new uh(null);return u.getNode().forEachChild(af,(function(e,t){c=c.set(new Ll(e),t)})),Wh(e,t,n,c,i,a,s,o)}return t}var l=new uh(null);return r.foreach((function(e,t){var r=zl(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Wh(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Gf.LISTEN_COMPLETE)throw ut("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ih(t,a.getNode(),a.isFullyInitialized()||Wl(n),a.isFiltered());return Uh(e,o,n,r,Mh,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ah(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Df(ah(t)))}}(t,a,f),{viewCache:a,changes:f}}function Uh(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Rh(r,n))return t;if(Wl(n))if(st(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=oh(t),l=Ch(r,c instanceof Cf?c:Cf.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Th(r,oh(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Fl(n);if(".priority"===h){st(1===jl(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Nh(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=Ul(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=Nh(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=Ph(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return rh(t,o,u.isFullyInitialized()||Wl(n),e.filter.filtersNodes())}function Vh(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Wl(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Fl(n);if(!c.isCompleteForPath(n)&&jl(n)>1)return t;var d=Ul(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Mh,null)}var v=ih(t,u,c.isFullyInitialized()||Wl(n),l.filtersNodes());return Uh(e,v,n,i,new Fh(i,v,a),s)}function Bh(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Fh(i,t,a);if(Wl(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=rh(t,u,!0,e.filter.filtersNodes());else{var f=Fl(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=rh(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Ul(n),p=c.getNode().getImmediateChild(f);if(Wl(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Vl(d)&&v.getChild(ql(d)).isEmpty()?v:v.updateChild(d,r):Cf.EMPTY_NODE}if(p.equals(h))s=t;else s=rh(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function qh(e,t){return e.eventCache.isCompleteForChild(t)}function zh(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Wh(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Wl(n)?r:new uh(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=zh(0,t.serverCache.getNode().getImmediateChild(n),r);c=Vh(e,c,new Ll(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=zh(0,t.serverCache.getNode().getImmediateChild(n),r);c=Vh(e,c,new Ll(n),f,i,a,o,s)}})),c}var Kh;function Gh(e,t){var n=oh(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Wl(t)&&!n.getImmediateChild(Fl(t)).isEmpty())?n.getChild(t):null}function Hh(e,t,n,r){t.type===Gf.MERGE&&null!==t.source.queryId&&(st(oh(e.viewCache_),"We should always have a full cache before handling merges"),st(ah(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=jh(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,st(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),st(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),st(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Qh(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Qh(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),th(e,i,"child_removed",t,r,n),th(e,i,"child_added",t,r,n),th(e,i,"child_moved",a,r,n),th(e,i,"child_changed",t,r,n),th(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Yh;function $h(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return st(null!=a,"SyncTree gave us an op for an invalid query."),Hh(a,t,n,r)}var o,s=[],u=N(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(Hh(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function Jh(e,t){var n,r=null,i=N(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Gh(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var Xh=g((function e(t){p(this,e),this.listenProvider_=t,this.syncPointTree_=new uh(null),this.pendingWriteTree_={visibleWrites:ch.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Zh(e,t,n,r,i){return function(e,t,n,r,i){st(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=lh(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?id(e,new Xf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ed(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=wh(e.pendingWriteTree_,t),i=_h(e.pendingWriteTree_,t);if(i){var a=new uh(null);return null!=r.snap?a=a.set(Ml(),!0):rl(r.children,(function(e){a=a.set(new Ll(e),!0)})),id(e,new Jf(r.path,a,n))}return[]}function td(e,t,n){return id(e,new Xf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function nd(e,t,n,r){var i=sd(e,r);if(null!=i){var a=ud(i),o=a.path,s=a.queryId,u=Kl(o,t);return cd(e,o,new Xf(Yf(s),u,n))}return[]}function rd(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Jh(n,Kl(e,t));if(r)return r}));return Ih(r,t,i,n,!0)}function id(e,t){return ad(t,e.syncPointTree_,null,bh(e.pendingWriteTree_,Ml()))}function ad(e,t,n,r){if(Wl(e.path))return od(e,t,n,r);var i=t.get(Ml());null==n&&null!=i&&(n=Jh(i,Ml()));var a=[],o=Fl(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Oh(r,o);a=a.concat(ad(s,u,c,l))}return i&&(a=a.concat($h(i,e,r,n))),a}function od(e,t,n,r){var i=t.get(Ml());null==n&&null!=i&&(n=Jh(i,Ml()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Oh(r,t),u=e.operationForChild(t);u&&(a=a.concat(od(u,i,o,s)))})),i&&(a=a.concat($h(i,e,r,n))),a}function sd(e,t){return e.tagToQueryMap.get(t)}function ud(e){var t=e.indexOf("$");return st(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ll(e.substr(0,t))}}function cd(e,t,n){var r=e.syncPointTree_.get(t);return st(r,"Missing sync point for query tag that we're tracking"),$h(r,n,bh(e.pendingWriteTree_,t),null)}var ld=function(){function e(t){p(this,e),this.node_=t}return g(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),fd=function(){function e(t,n){p(this,e),this.syncTree_=t,this.path_=n}return g(e,[{key:"getImmediateChild",value:function(t){var n=zl(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return rd(this.syncTree_,this.path_)}}]),e}(),hd=function(e,t,n){return e&&"object"===typeof e?(st(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?dd(e[".sv"],t,n):"object"===typeof e[".sv"]?pd(e[".sv"],t):void st(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},dd=function(e,t,n){if("timestamp"===e)return n.timestamp;st(!1,"Unexpected server value: "+e)},pd=function(e,t,n){e.hasOwnProperty("increment")||st(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&st(!1,"Unexpected increment value: "+r);var i=t.node();if(st(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},vd=function(e,t,n,r){return md(t,new fd(n,e),r)},yd=function(e,t,n){return md(e,new ld(t),n)};function md(e,t,n){var r,i=e.getPriority().val(),a=hd(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=hd(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new gf(s,Rf(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new gf(a))),u.forEachChild(_f,(function(e,i){var a=md(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var gd=g((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};p(this,e),this.name=t,this.parent=n,this.node=r}));function kd(e,t){for(var n=t instanceof Ll?t:new Ll(t),r=e,i=Fl(n);null!==i;){var a=Ft(r.node.children,i)||{children:{},childCount:0};r=new gd(i,r,a),i=Fl(n=Ul(n))}return r}function bd(e){return e.node.value}function wd(e,t){e.node.value=t,Id(e)}function _d(e){return e.node.childCount>0}function xd(e,t){rl(e.node.children,(function(n,r){t(new gd(n,e,r))}))}function Sd(e,t,n,r){n&&!r&&t(e),xd(e,(function(e){Sd(e,t,!0,r)})),n&&r&&t(e)}function Ed(e){return new Ll(null===e.parent?e.name:Ed(e.parent)+"/"+e.name)}function Id(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===bd(e)&&!_d(e)}(n),i=Mt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Id(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Id(e))}(e.parent,e.name,e)}var Td=/[\[\].#$\/\u0000-\u001F\u007F]/,Cd=/[\[\].#$\u0000-\u001F\u007F]/,Nd=10485760,Rd=function(e){return"string"===typeof e&&0!==e.length&&!Td.test(e)},Ad=function(e){return"string"===typeof e&&0!==e.length&&!Cd.test(e)},Pd=function e(t,n,r){var i=r instanceof Ll?new Ql(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+$l(i));if("function"===typeof n)throw new Error(t+"contains a function "+$l(i)+" with contents = "+n.toString());if(Yc(n))throw new Error(t+"contains "+n.toString()+" "+$l(i));if("string"===typeof n&&n.length>Nd/3&&$t(n)>Nd)throw new Error(t+"contains a string greater than "+Nd+" utf8 bytes "+$l(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(rl(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Rd(n)))throw new Error(t+" contains an invalid key ("+n+") "+$l(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=$t(u),Yl(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=$t(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+$l(i)+" in addition to actual children.")}},Od=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ad(e)}(n))throw new Error(Yt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Dd=g((function e(){p(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Ld(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Gl(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Md(e,t,n){Ld(e,n),Fd(e,(function(e){return Hl(e,t)||Hl(t,e)}))}function Fd(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(jd(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function jd(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Bc&&Wc("event: "+n.toString()),sl(r)}}}var Ud="repo_interrupt",Vd=function(){function e(t,n,r,i){p(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zf(),this.transactionQueueTree_=new gd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return g(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Bd(e,t,n){if(e.stats_=_l(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Bf(e.repoInfo_,(function(t,n,r,i){Wd(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Kd(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Zl(e.repoInfo_,t,(function(t,n,r,i){Wd(e,t,n,r,i)}),(function(t){Kd(e,t)}),(function(t){!function(e,t){rl(t,(function(t,n){Gd(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return wl[n]||(wl[n]=t()),wl[n]}(e.repoInfo_,(function(){return new Qf(e.stats_,e.server_)})),e.infoData_=new qf,e.infoSyncTree_=new Xh({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=td(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Gd(e,"connected",!1),e.serverSyncTree_=new Xh({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Md(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function qd(e){var t=e.infoData_.getNode(new Ll(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function zd(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:qd(e)})}function Wd(e,t,n,r,i){e.dataUpdateCount++;var a=new Ll(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Ut(n,(function(e){return Rf(e)}));o=function(e,t,n,r){var i=sd(e,r);if(i){var a=ud(i),o=a.path,s=a.queryId,u=Kl(o,t),c=uh.fromObject(n);return cd(e,o,new Zf(Yf(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Rf(n);o=nd(e.serverSyncTree_,a,u,i)}else if(r){var c=Ut(n,(function(e){return Rf(e)}));o=function(e,t,n){var r=uh.fromObject(n);return id(e,new Zf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Rf(n);o=td(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Zd(e,a)),Md(e.eventQueue_,f,o)}function Kd(e,t){Gd(e,"connected",t),!1===t&&function(e){Yd(e,"onDisconnectEvents");var t=zd(e),n=zf();Kf(e.onDisconnect_,Ml(),(function(r,i){var a=vd(r,i,e.serverSyncTree_,t);Wf(n,r,a)}));var r=[];Kf(n,Ml(),(function(t,n){r=r.concat(td(e.serverSyncTree_,t,n));var i=ip(e,t);Zd(e,i)})),e.onDisconnect_=zf(),Md(e.eventQueue_,Ml(),r)}(e)}function Gd(e,t,n){var r=new Ll("/.info/"+t),i=Rf(n);e.infoData_.updateSnapshot(r,i);var a=td(e.infoSyncTree_,r,i);Md(e.eventQueue_,r,a)}function Hd(e){return e.nextWriteId_++}function Qd(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ud)}function Yd(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Wc.apply(void 0,[t].concat(r))}function $d(e,t,n){return rd(e.serverSyncTree_,t,n)||Cf.EMPTY_NODE}function Jd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||rp(e,t),bd(t)){var n=tp(e,t);st(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Xd(e,Ed(t),n)}else _d(t)&&xd(t,(function(t){Jd(e,t)}))}function Xd(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=$d(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];st(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Kl(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Yd(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(ed(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);rp(e,kd(e.transactionQueueTree_,t)),Jd(e,e.transactionQueueTree_),Md(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)sl(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Qc("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Zd(e,t)}}),o)}function Zd(e,t){var n=ep(e,t),r=Ed(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=Kl(n,u.path),l=!1,f=void 0;if(st(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(ed(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(ed(e.serverSyncTree_,u.currentWriteId,!0));else{var h=$d(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Pd("transaction failed: Data returned ",d,u.path);var p=Rf(d);"object"===typeof d&&null!=d&&Mt(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,y=zd(e),m=yd(p,h,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=Hd(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Zh(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(ed(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(ed(e.serverSyncTree_,u.currentWriteId,!0))}Md(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);rp(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)sl(r[c]);Jd(e,e.transactionQueueTree_)}(e,tp(e,n),r),r}function ep(e,t){var n,r=e.transactionQueueTree_;for(n=Fl(t);null!==n&&void 0===bd(r);)r=kd(r,n),n=Fl(t=Ul(t));return r}function tp(e,t){var n=[];return np(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function np(e,t,n){var r=bd(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);xd(t,(function(t){np(e,t,n)}))}function rp(e,t){var n=bd(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,wd(t,n.length>0?n:void 0)}xd(t,(function(t){rp(e,t)}))}function ip(e,t){var n=Ed(ep(e,t)),r=kd(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ap(e,t)})),ap(e,r),Sd(r,(function(t){ap(e,t)})),n}function ap(e,t){var n=bd(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(st(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(st(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ed(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?wd(t,void 0):n.length=a+1,Md(e.eventQueue_,Ed(t),i);for(var s=0;s<r.length;s++)sl(r[s])}}var op=function(e,t){var n=sp(e),r=n.namespace;"firebase.com"===n.domain&&Hc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Hc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Qc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ml(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ll(n.pathString)}},sp=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=N(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Qc("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},up="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cp=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){p(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return g(e,[{key:"key",get:function(){return Wl(this._path)?null:Vl(this._path)}},{key:"ref",get:function(){return new lp(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Vf(this._queryParams),t=tl(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Vf(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Jt(t))instanceof e))return!1;var n=this._repo===t._repo,r=Gl(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}());var lp=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,r,new jf,!1)}return g(n,[{key:"parent",get:function(){var e=ql(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(cp);!function(e){st(!Kh,"__referenceConstructor has already been defined"),Kh=e}(lp),function(e){st(!Yh,"__referenceConstructor has already been defined"),Yh=e}(lp);var fp={},hp=!1;function dp(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Hc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wc("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=op(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=op(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new fl(fl.OWNER):new ll(e.name,e.options,t);Od("Invalid Firebase Database URL",s),Wl(s.path)||Hc("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=fp[t.name];i||(i={},fp[t.name]=i);var a=i[e.toURLString()];a&&Hc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Vd(e,hp,n,r),i[e.toURLString()]=a,a}(u,e,l,new cl(e.name,n));return new pp(f,e)}var pp=function(){function e(t,n){p(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return g(e,[{key:"_repo",get:function(){return this._instanceStarted||(Bd(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new lp(this._repo,Ml())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=fp[t];n&&n[e.key]===e||Hc("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Qd(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Hc("Cannot call "+e+" on a deleted database.")}}]),e}();Zl.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Zl.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var vp;!function(e){!function(e){Ac=e}(Yn),qn(new Xt("database",(function(e,t){var n=t.instanceIdentifier;return dp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),tr(Nc,Rc,e),tr(Nc,Rc,"esm2017")}();var yp=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,Vn(t,new Xt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Zn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Bn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),mp=(rt(vp={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),rt(vp,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vp),gp=new Rt("app-compat","Firebase",mp);var kp=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=$n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Mt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:tr,setLogLevel:rr,onLog:nr,apps:null,SDK_VERSION:Yn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(qn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw gp.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&pt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Mt(n,e=e||Mn))throw gp.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(yp);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){pt(n,e)},createSubscribe:Gt,ErrorFactory:Rt,deepExtend:pt}),n}(),bp=new fn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){bp.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var wp=self.firebase.SDK_VERSION;wp&&wp.indexOf("LITE")>=0&&bp.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _p=kp;!function(e){tr("@firebase/app-compat","0.2.0",e)}();_p.registerVersion("firebase","9.15.0","app-compat");var xp=n(184),Sp=i.createContext(),Ep=function(e){var t=e.children,n=(_p.initializeApp({apiKey:"AIzaSyAOw97yHq9wLjuEExVfLgJUhN81LIk6j2M",authDomain:"cs554-d4db1.firebaseapp.com",projectId:"cs554-d4db1",storageBucket:"cs554-d4db1.appspot.com",messagingSenderId:"51147416105",appId:"1:51147416105:web:96f7197a4f6b97f97e3238",measurementId:"G-YV4S1YRTN5"}),_p.auth()),r=(_p.firestore(),f((0,i.useState)(null),2)),a=r[0],o=r[1],s=f((0,i.useState)(!0),2),u=s[0],c=s[1];return(0,i.useEffect)((function(){n.onAuthStateChanged((function(e){o(e),c(!1)}))}),[]),u?(0,xp.jsx)("div",{children:(0,xp.jsx)("h1",{children:"Loading...."})}):(0,xp.jsx)(Sp.Provider,{value:{currentUser:a},children:t})};var Ip=function(){var e=(0,i.useContext)(Sp).currentUser;return(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h1",{children:"Welcome to SpeedType!"}),(0,xp.jsx)("p",{children:"SpeedType is a site where you can test your typing skills by matching up against other players in a typing free-for-all!"}),e&&(0,xp.jsx)("div",{children:(0,xp.jsxs)("div",{className:"home-card",children:[(0,xp.jsx)("h2",{children:"Find a game!"}),(0,xp.jsx)("p",{children:"Play against other players on the site's server!"}),(0,xp.jsx)($e,{to:"/game/",children:"Play"})]})}),!e&&(0,xp.jsxs)("div",{className:"home-card",children:[(0,xp.jsx)("h2",{children:"Login or Create an Account!"}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:"Login"}),(0,xp.jsx)($e,{to:"/login",children:"Login"})]}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:"Sign up"}),(0,xp.jsx)($e,{to:"/signup",children:"Create Account"})]})]})]})};function Tp(){return window}function Cp(e,t,n){return Np.apply(this,arguments)}function Np(){return Np=nt(et().mark((function e(t,n,r){var i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tp(),o=a.BuildInfo,Gr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Lp(n.sessionId);case 4:return s=e.sent,u={},$i()?u.ibi=o.packageName:Hi()?u.apn=o.packageName:Ur(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",kc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}function Rp(){return(Rp=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tp(),r=n.BuildInfo,i={},$i()?i.iosBundleId=r.packageName:Hi()?i.androidPackageName=r.packageName:Ur(t,"operation-not-supported-in-this-environment"),e.next=5,Yu(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ap(e){var t=Tp().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Pp(e,t,n){return Op.apply(this,arguments)}function Op(){return Op=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tp(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Vr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Hi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Op.apply(this,arguments)}function Dp(e){var t,n,r,i,a,o,s,u,c,l,f=Tp();Wr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Wr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Wr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wr("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Lp(e){return Mp.apply(this,arguments)}function Mp(){return(Mp=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fp(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fp(e){if(Gr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var jp=function(e){b(n,e);var t=E(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),kr(w(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gu);function Up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Wp(),postBody:null,tenantId:e.tenantId,error:Vr(e,"no-auth-event")}}function Vp(e,t){return Kp()._set(Gp(e),t)}function Bp(e){return qp.apply(this,arguments)}function qp(){return(qp=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kp()._get(Gp(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Kp()._remove(Gp(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zp(e,t){var n,r,i=function(e){var t=Hp(e),n=t.link?decodeURIComponent(t.link):void 0,r=Hp(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Hp(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Hp(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Vr(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Wp(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Kp(){return Qr(fs)}function Gp(e){return Vi("authEvent",e.config.apiKey,e.name)}function Hp(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=C(e.split("?"));t[0];return zt(t.slice(1).join("?"))}var Qp=function(){function e(){p(this,e),this._redirectPersistence=ds,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qu,this._overrideRedirectResult=Au}return g(e,[{key:"_initialize",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new jp(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ur(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=nt(et().mark((function e(t,n,r,i){var a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dp(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Eu.clear(),e.next=10,this._originValidation(t);case 10:return o=Up(t,r,i),e.next=13,Vp(t,o);case 13:return e.next=15,Cp(t,o,n);case 15:return s=e.sent,e.next=18,Ap(s);case 18:return u=e.sent,e.abrupt("return",Pp(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Tp(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Bp(e);case 2:t.onEvent($p());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=nt(et().mark((function n(r){var i,a;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Bp(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=zp(i,r.url)),t.onEvent(a||$p());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Tp().handleOpenURL=function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Yp=Qp;function $p(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vr("no-auth-event")}}function Jp(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Xp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return!("file:"!==Jp()&&"ionic:"!==Jp()&&"capacitor:"!==Jp()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zp(){return wt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return/Edge\/\d+/.test(e)}function tv(){try{var e=self.localStorage,t=ys();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt();return Zp()||ev(e)}()||xt()}catch(n){return nv()&&xt()}return!1}function nv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function rv(){return("http:"===Jp()||"https:"===Jp()||kt()||Xp())&&!(bt()||gt())&&tv()&&!nv()}function iv(){return Xp()&&"undefined"!==typeof document}function av(){return ov.apply(this,arguments)}function ov(){return(ov=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sv={LOCAL:"local",NONE:"none",SESSION:"session"},uv=Wr,cv="persistence";function lv(e,t){uv(Object.values(sv).includes(t),e,"invalid-persistence-type"),bt()?uv(t!==sv.SESSION,e,"unsupported-persistence-type"):gt()?uv(t===sv.NONE,e,"unsupported-persistence-type"):nv()?uv(t===sv.NONE||t===sv.LOCAL&&xt(),e,"unsupported-persistence-type"):uv(t===sv.NONE||tv(),e,"unsupported-persistence-type")}function fv(e){return hv.apply(this,arguments)}function hv(){return hv=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=dv(),r=Vi(cv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var pv=Wr,vv=function(){function e(){p(this,e),this.browserResolver=Qr(_c),this.cordovaResolver=Qr(Yp),this.underlyingResolver=null,this._redirectPersistence=ds,this._completeRedirectFn=qu,this._overrideRedirectResult=Au}return g(e,[{key:"_initialize",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=nt(et().mark((function e(t,n,r,i){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=nt(et().mark((function e(t,n,r,i){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return iv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return pv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,av();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yv(e){return e.unwrap()}function mv(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new _v(e,function(e,t){var n,r=Jt(e),i=t;return Wr(t.customData.operationType,r,"argument-error"),Wr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),is._fromError(r,i)}(e,t));else if(r){var i=gv(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function gv(e){var t=(e instanceof Nt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Nt)&&"temporaryProof"in t&&"phoneNumber"in t)return lu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Er)return null;switch(r){case Sr:n=Qa;break;case _r:n=Ha;break;case xr:n=Ya;break;case Ir:n=Xa;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?$a._create(r,s):Da._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ga(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Nt?n.credentialFromError(e):n.credentialFromResult(e)}function kv(e,t){return t.catch((function(t){throw t instanceof Nt&&mv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,gv(t)),additionalUserInfo:ns(e),user:xv.getOrCreate(r)}}))}function bv(e,t){return wv.apply(this,arguments)}function wv(){return(wv=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return kv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _v=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return kv(yv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),xv=function(){function e(t){p(this,e),this._delegate=t,this.multiFactor=function(e){var t=Jt(e);return ss.has(t)||ss.set(t,os._fromUser(t)),ss.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kv(this.auth,bo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bv(this.auth,iu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kv(this.auth,_u(this._delegate,t,vv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fv(ra(this.auth));case 2:return e.abrupt("return",ju(this._delegate,t,vv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kv(this.auth,_o(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return bv(this.auth,function(e,t,n){return ou.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return kv(this.auth,function(e,t,n){return wu.apply(this,arguments)}(this._delegate,e,vv))}},{key:"reauthenticateWithRedirect",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fv(ra(this.auth));case 2:return e.abrupt("return",Mu(this._delegate,t,vv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return zo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Qo(Jt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Qo(Jt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ho.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Wo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();xv.USER_MAP=new WeakMap;var Sv=Wr,Ev=function(){function e(t,n){if(p(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Sv(r,"invalid-api-key",{appName:t.name}),Sv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?vv:void 0;this._delegate=n.initialize({options:{persistence:Tv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Dr),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?xv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){aa(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Po.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Oo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ao.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kv(this._delegate,Mo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return qo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=qa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sv(rv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vu(this._delegate,vv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",kv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ra(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Iv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Iv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return jo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ro.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lv(this._delegate,t),e.t0=t,e.next=e.t0===sv.SESSION?4:e.t0===sv.LOCAL?6:e.t0===sv.NONE?11:13;break;case 4:return n=ds,e.abrupt("break",14);case 6:return e.next=8,Qr(Fs)._isAvailable();case 8:return r=e.sent,n=r?Fs:fs,e.abrupt("break",14);case 11:return n=Ui,e.abrupt("break",14);case 13:return e.abrupt("return",Ur("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return kv(this._delegate,function(e){return ro.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return kv(this._delegate,go(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return kv(this._delegate,function(e,t){return Io.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return kv(this._delegate,function(e,t,n){return go(Jt(e),za.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return kv(this._delegate,function(e,t,n){return Uo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return bv(this._delegate,function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sv(rv(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",kv(this._delegate,ku(this._delegate,t,vv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sv(rv(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,fv(this._delegate);case 3:return e.abrupt("return",Du(this._delegate,t,vv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Lo.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Iv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&xv.getOrCreate(e))},error:t,complete:n}}function Tv(e,t){var n=function(e,t){var n=dv();if(!n)return[];var r=Vi(cv,e,t);switch(n.getItem(r)){case sv.NONE:return[Ui];case sv.LOCAL:return[Fs,ds];case sv.SESSION:return[ds];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Fs)||n.push(Fs),"undefined"!==typeof window)for(var r=0,i=[fs,ds];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ui)||n.push(Ui),n}Ev.Persistence=sv;var Cv=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new lu(yv(_p.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return lu.credential(e,t)}}]),e}();Cv.PHONE_SIGN_IN_METHOD=lu.PHONE_SIGN_IN_METHOD,Cv.PROVIDER_ID=lu.PROVIDER_ID;var Nv,Rv=Wr,Av=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_p.app();p(this,e),Rv(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new eu(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Nv=_p).INTERNAL.registerComponent(new Xt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ev(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Tr,PASSWORD_RESET:Cr,RECOVER_EMAIL:Nr,REVERT_SECOND_FACTOR_ADDITION:Rr,VERIFY_AND_CHANGE_EMAIL:Ar,VERIFY_EMAIL:Pr}},EmailAuthProvider:za,FacebookAuthProvider:Ha,GithubAuthProvider:Ya,GoogleAuthProvider:Qa,OAuthProvider:Ga,SAMLAuthProvider:Ja,PhoneAuthProvider:Cv,PhoneMultiFactorGenerator:Sc,RecaptchaVerifier:Av,TwitterAuthProvider:Xa,Auth:Ev,AuthCredential:ua,Error:Nt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Nv.registerVersion("@firebase/auth-compat","0.3.0");var Pv,Ov="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Dv={},Lv=Lv||{},Mv=Ov||self;function Fv(){}function jv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Uv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Vv="closure_uid_"+(1e9*Math.random()>>>0),Bv=0;function qv(e,t,n){return e.call.apply(e.bind,arguments)}function zv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Wv(e,t,n){return(Wv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qv:zv).apply(null,arguments)}function Kv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gv(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Hv(){this.s=this.s,this.o=this.o}Hv.prototype.s=!1,Hv.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Vv)&&e[Vv]||(e[Vv]=++Bv))},Hv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Qv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Yv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $v(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(jv(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Jv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Jv.prototype.h=function(){this.defaultPrevented=!0};var Xv=function(){if(!Mv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Mv.addEventListener("test",Fv,t),Mv.removeEventListener("test",Fv,t)}catch(n){}return e}();function Zv(e){return/^[\s\xa0]*$/.test(e)}var ey=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ty(e,t){return e<t?-1:e>t?1:0}function ny(){var e=Mv.navigator;return e&&(e=e.userAgent)?e:""}function ry(e){return-1!=ny().indexOf(e)}function iy(e){return iy[" "](e),e}iy[" "]=Fv;var ay,oy=ry("Opera"),sy=ry("Trident")||ry("MSIE"),uy=ry("Edge"),cy=uy||sy,ly=ry("Gecko")&&!(-1!=ny().toLowerCase().indexOf("webkit")&&!ry("Edge"))&&!(ry("Trident")||ry("MSIE"))&&!ry("Edge"),fy=-1!=ny().toLowerCase().indexOf("webkit")&&!ry("Edge");function hy(){var e=Mv.document;return e?e.documentMode:void 0}e:{var dy="",py=function(){var e=ny();return ly?/rv:([^\);]+)(\)|;)/.exec(e):uy?/Edge\/([\d\.]+)/.exec(e):sy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fy?/WebKit\/(\S+)/.exec(e):oy?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(py&&(dy=py?py[1]:""),sy){var vy=hy();if(null!=vy&&vy>parseFloat(dy)){ay=String(vy);break e}}ay=dy}var yy,my={};function gy(){return function(e){var t=my;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ey(String(ay)).split("."),n=ey("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ty(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ty(0==a[2].length,0==o[2].length)||ty(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Mv.document&&sy){var ky=hy();yy=ky||(parseInt(ay,10)||void 0)}else yy=void 0;var by=yy;function wy(e,t){if(Jv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ly){e:{try{iy(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_y[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wy.X.h.call(this)}}Gv(wy,Jv);var _y={2:"touch",3:"pen",4:"mouse"};wy.prototype.h=function(){wy.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xy="closure_listenable_"+(1e6*Math.random()|0),Sy=0;function Ey(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Sy,this.ba=this.ea=!1}function Iy(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ty(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Cy(e){var t={};for(var n in e)t[n]=e[n];return t}var Ny="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ry(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ny.length;a++)n=Ny[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ay(e){this.src=e,this.g={},this.h=0}function Py(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Qv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Iy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Oy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Ay.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Oy(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Ey(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Dy="closure_lm_"+(1e6*Math.random()|0),Ly={};function My(e,t,n,r,i){if(r&&r.once)return jy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)My(e,t[a],n,r,i);return null}return n=Ky(n),e&&e[xy]?e.N(t,n,Uv(r)?!!r.capture:!!r,i):Fy(e,t,n,!1,r,i)}function Fy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Uv(i)?!!i.capture:!!i,s=zy(e);if(s||(e[Dy]=s=new Ay(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(By(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jy(e,t[a],n,r,i);return null}return n=Ky(n),e&&e[xy]?e.O(t,n,Uv(r)?!!r.capture:!!r,i):Fy(e,t,n,!0,r,i)}function Uy(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Uy(e,t[a],n,r,i);else r=Uv(r)?!!r.capture:!!r,n=Ky(n),e&&e[xy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Oy(a=e.g[t],n,r,i))&&(Iy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=zy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oy(t,n,r,i)),(n=-1<e?t[e]:null)&&Vy(n))}function Vy(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[xy])Py(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(By(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zy(t))?(Py(n,e),0==n.h&&(n.src=null,t[Dy]=null)):Iy(e)}}}function By(e){return e in Ly?Ly[e]:Ly[e]="on"+e}function qy(e,t){if(e.ba)e=!0;else{t=new wy(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Vy(e),e=n.call(r,t)}return e}function zy(e){return(e=e[Dy])instanceof Ay?e:null}var Wy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ky(e){return"function"===typeof e?e:(e[Wy]||(e[Wy]=function(t){return e.handleEvent(t)}),e[Wy])}function Gy(){Hv.call(this),this.i=new Ay(this),this.P=this,this.I=null}function Hy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Jv(t,e);else if(t instanceof Jv)t.target=t.target||e;else{var i=t;Ry(t=new Jv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Qy(o,r,!0,t)&&i}if(i=Qy(o=t.g=e,r,!0,t)&&i,i=Qy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Qy(o=t.g=n[a],r,!1,t)&&i}function Qy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Py(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Gv(Gy,Hv),Gy.prototype[xy]=!0,Gy.prototype.removeEventListener=function(e,t,n,r){Uy(this,e,t,n,r)},Gy.prototype.M=function(){if(Gy.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Iy(n[r]);delete t.g[e],t.h--}}this.I=null},Gy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yy=Mv.JSON.stringify;function $y(){var e=im,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jy,Xy=function(){function e(){p(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Zy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Zy=new(function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new em}),(function(e){return e.reset()})),em=function(){function e(){p(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function tm(e){Mv.setTimeout((function(){throw e}),0)}function nm(e,t){Jy||function(){var e=Mv.Promise.resolve(void 0);Jy=function(){e.then(am)}}(),rm||(Jy(),rm=!0),im.add(e,t)}var rm=!1,im=new Xy;function am(){for(var e;e=$y();){try{e.h.call(e.g)}catch(n){tm(n)}var t=Zy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rm=!1}function om(e,t){Gy.call(this),this.h=e||1,this.g=t||Mv,this.j=Wv(this.lb,this),this.l=Date.now()}function sm(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function um(e,t,n){if("function"===typeof e)n&&(e=Wv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Wv(e.handleEvent,e)}return 2147483647<Number(t)?-1:Mv.setTimeout(e,t||0)}function cm(e){e.g=um((function(){e.g=null,e.i&&(e.i=!1,cm(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Gv(om,Gy),(Pv=om.prototype).ca=!1,Pv.R=null,Pv.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hy(this,"tick"),this.ca&&(sm(this),this.start()))}},Pv.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pv.M=function(){om.X.M.call(this),sm(this),delete this.g};var lm=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:cm(this)}},{key:"M",value:function(){kr(w(n.prototype),"M",this).call(this),this.g&&(Mv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Hv);function fm(e){Hv.call(this),this.h=e,this.g={}}Gv(fm,Hv);var hm=[];function dm(e,t,n,r){Array.isArray(n)||(n&&(hm[0]=n.toString()),n=hm);for(var i=0;i<n.length;i++){var a=My(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function pm(e){Ty(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vy(e)}),e),e.g={}}function vm(){this.g=!0}function ym(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Yy(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}fm.prototype.M=function(){fm.X.M.call(this),pm(this)},fm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vm.prototype.Aa=function(){this.g=!1},vm.prototype.info=function(){};var mm={},gm=null;function km(){return gm=gm||new Gy}function bm(e){Jv.call(this,mm.Pa,e)}function wm(e){var t=km();Hy(t,new bm(t))}function _m(e,t){Jv.call(this,mm.STAT_EVENT,e),this.stat=t}function xm(e){var t=km();Hy(t,new _m(t,e))}function Sm(e,t){Jv.call(this,mm.Qa,e),this.size=t}function Em(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Mv.setTimeout((function(){e()}),t)}mm.Pa="serverreachability",Gv(bm,Jv),mm.STAT_EVENT="statevent",Gv(_m,Jv),mm.Qa="timingevent",Gv(Sm,Jv);var Im={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Tm={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Cm(){}function Nm(e){return e.h||(e.h=e.i())}function Rm(){}Cm.prototype.h=null;var Am,Pm={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Om(){Jv.call(this,"d")}function Dm(){Jv.call(this,"c")}function Lm(){}function Mm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new fm(this),this.O=jm,e=cy?125:void 0,this.T=new om(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Fm}function Fm(){this.i=null,this.g="",this.h=!1}Gv(Om,Jv),Gv(Dm,Jv),Gv(Lm,Cm),Lm.prototype.g=function(){return new XMLHttpRequest},Lm.prototype.i=function(){return{}},Am=new Lm;var jm=45e3,Um={},Vm={};function Bm(e,t,n){e.K=1,e.v=og(tg(t)),e.s=n,e.P=!0,qm(e,null)}function qm(e,t){e.F=Date.now(),Gm(e),e.A=tg(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),kg(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Fm,e.g=bk(e.l,n?t:null,!e.s),0<e.N&&(e.L=new lm(Wv(e.La,e,e.g),e.N)),dm(e.S,e.g,"readystatechange",e.ib),t=e.H?Cy(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),wm(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function zm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Wm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Km(e,n))==Vm){4==t&&(e.o=4,xm(14),i=!1),ym(e.j,e.m,null,"[Incomplete Response]");break}if(r==Um){e.o=4,xm(15),ym(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ym(e.j,e.m,r,null),Jm(e,r)}zm(e)&&r!=Vm&&r!=Um&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,xm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),hk(t),t.K=!0,xm(11))):(ym(e.j,e.m,n,"[Invalid Chunked Response]"),$m(e),Ym(e))}function Km(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vm:(n=Number(t.substring(n,r)),isNaN(n)?Um:(r+=1)+n>t.length?Vm:(t=t.substr(r,n),e.C=r+n,t))}function Gm(e){e.V=Date.now()+e.O,Hm(e,e.O)}function Hm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Em(Wv(e.gb,e),t)}function Qm(e){e.B&&(Mv.clearTimeout(e.B),e.B=null)}function Ym(e){0==e.l.G||e.I||vk(e.l,e)}function $m(e){Qm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,sm(e.T),pm(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Jm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Tg(n.h,e)))if(!e.J&&Tg(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;pk(n),ik(n)}fk(n),xm(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Em(Wv(n.cb,n),6e3));if(1>=Ig(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else mk(n,11)}else if((e.J||n.g==e)&&pk(n),!Zv(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Cg(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,ag(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=kk(r,r.H?r.ka:null,r.V),d.J){Ng(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Qm(p),Gm(p)),r.g=d}else lk(r);0<n.i.length&&ok(n)}else"stop"!=a[0]&&"close"!=a[0]||mk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mk(n,7):rk(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}wm()}catch(a){}}function Xm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(jv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(jv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Pv=Mm.prototype).setTimeout=function(e){this.O=e},Pv.ib=function(e){e=e.target;var t=this.L;t&&3==Jg(e)?t.l():this.La(e)},Pv.La=function(e){try{if(e==this.g)e:{var t=Jg(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||cy||this.g&&(this.h.h||this.g.fa()||Xg(this.g)))){this.I||4!=t||7==n||wm(),Qm(this);var r=this.g.aa();this.Y=r;t:if(zm(this)){var i=Xg(this.g);e="";var a=i.length,o=4==Jg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$m(this),Ym(this);var s="";break t}this.h.i=new Mv.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zv(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,xm(12),$m(this),Ym(this);break e}ym(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jm(this,r)}this.P?(Wm(this,t,s),cy&&this.i&&3==t&&(dm(this.S,this.T,"tick",this.hb),this.T.start())):(ym(this.j,this.m,s,null),Jm(this,s)),4==t&&$m(this),this.i&&!this.I&&(4==t?vk(this.l,this):(this.i=!1,Gm(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,xm(12)):(this.o=0,xm(13)),$m(this),Ym(this)}}}catch(t){}},Pv.hb=function(){if(this.g){var e=Jg(this.g),t=this.g.fa();this.C<t.length&&(Qm(this),Wm(this,e,t),this.i&&4!=e&&Gm(this))}},Pv.cancel=function(){this.I=!0,$m(this)},Pv.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(wm(),xm(17)),$m(this),this.o=2,Ym(this)):Hm(this,this.V-e)};var Zm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eg(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof eg){this.h=void 0!==t?t:e.h,ng(this,e.j),this.s=e.s,this.g=e.g,rg(this,e.m),this.l=e.l,t=e.i;var n=new vg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ig(this,n),this.o=e.o}else e&&(n=String(e).match(Zm))?(this.h=!!t,ng(this,n[1]||"",!0),this.s=sg(n[2]||""),this.g=sg(n[3]||"",!0),rg(this,n[4]),this.l=sg(n[5]||"",!0),ig(this,n[6]||"",!0),this.o=sg(n[7]||"")):(this.h=!!t,this.i=new vg(null,this.h))}function tg(e){return new eg(e)}function ng(e,t,n){e.j=n?sg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ig(e,t,n){t instanceof vg?(e.i=t,function(e,t){t&&!e.j&&(yg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mg(this,t),kg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ug(t,dg)),e.i=new vg(t,e.h))}function ag(e,t,n){e.i.set(t,n)}function og(e){return ag(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ug(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}eg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ug(t,lg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ug(t,lg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ug(n,"/"==n.charAt(0)?hg:fg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ug(n,pg)),e.join("")};var lg=/[#\/\?@]/g,fg=/[#\?:]/g,hg=/[#\?]/g,dg=/[#\?@]/g,pg=/#/g;function vg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mg(e,t){yg(e),t=bg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function gg(e,t){return yg(e),t=bg(e,t),e.g.has(t)}function kg(e,t,n){mg(e,t),0<n.length&&(e.i=null,e.g.set(bg(e,t),Yv(n)),e.h+=n.length)}function bg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Pv=vg.prototype).add=function(e,t){yg(this),this.i=null,e=bg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Pv.forEach=function(e,t){yg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Pv.oa=function(){yg(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Pv.W=function(e){yg(this);var t=[];if("string"===typeof e)gg(this,e)&&(t=t.concat(this.g.get(bg(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Pv.set=function(e,t){return yg(this),this.i=null,gg(this,e=bg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Pv.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Pv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var wg=g((function e(t,n){p(this,e),this.h=t,this.g=n}));function _g(e){this.l=e||Sg,Mv.PerformanceNavigationTiming?e=0<(e=Mv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Mv.g&&Mv.g.Ga&&Mv.g.Ga()&&Mv.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xg,Sg=10;function Eg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ig(e){return e.h?1:e.g?e.g.size:0}function Tg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cg(e,t){e.g?e.g.add(t):e.h=t}function Ng(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=N(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Yv(e.i)}function Ag(){}function Pg(){this.g=new Ag}function Og(e,t,n){var r=n||"";try{Xm(e,(function(e,n){var i=e;Uv(e)&&(i=Yy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Lg(e){this.l=e.ac||null,this.j=e.jb||!1}function Mg(e,t){Gy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_g.prototype.cancel=function(){if(this.i=Rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=N(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ag.prototype.stringify=function(e){return Mv.JSON.stringify(e,void 0)},Ag.prototype.parse=function(e){return Mv.JSON.parse(e,void 0)},Gv(Lg,Cm),Lg.prototype.g=function(){return new Mg(this.l,this.j)},Lg.prototype.i=(xg={},function(){return xg}),Gv(Mg,Gy);var Fg=0;function jg(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Ug(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vg(e)}function Vg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Pv=Mg.prototype).open=function(e,t){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vg(this)},Pv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Mv).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Pv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ug(this)),this.readyState=Fg},Pv.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vg(this)),this.g&&(this.readyState=3,Vg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Mv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jg(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Pv.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ug(this):Vg(this),3==this.readyState&&jg(this)}},Pv.Va=function(e){this.g&&(this.response=this.responseText=e,Ug(this))},Pv.Ua=function(e){this.g&&(this.response=e,Ug(this))},Pv.ga=function(){this.g&&Ug(this)},Pv.setRequestHeader=function(e,t){this.v.append(e,t)},Pv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Pv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bg=Mv.JSON.parse;function qg(e){Gy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zg,this.K=this.L=!1}Gv(qg,Gy);var zg="",Wg=/^https?$/i,Kg=["POST","PUT"];function Gg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hg(e),Yg(e)}function Hg(e){e.D||(e.D=!0,Hy(e,"complete"),Hy(e,"error"))}function Qg(e){if(e.h&&"undefined"!=typeof Lv&&(!e.C[1]||4!=Jg(e)||2!=e.aa()))if(e.v&&4==Jg(e))um(e.Ha,0,e);else if(Hy(e,"readystatechange"),4==Jg(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Zm)[1]||null;if(!a&&Mv.self&&Mv.self.location){var o=Mv.self.location.protocol;a=o.substr(0,o.length-1)}i=!Wg.test(a?a.toLowerCase():"")}t=i}if(t)Hy(e,"complete"),Hy(e,"success");else{e.m=6;try{var s=2<Jg(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Hg(e)}}finally{Yg(e)}}}function Yg(e,t){if(e.g){$g(e);var n=e.g,r=e.C[0]?Fv:null;e.g=null,e.C=null,t||Hy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function $g(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Mv.clearTimeout(e.A),e.A=null)}function Jg(e){return e.g?e.g.readyState:0}function Xg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Mk){return null}}function Zg(e){var t="";return Ty(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ek(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ag(e,t,n))}function tk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nk(e){this.Ca=0,this.i=[],this.j=new vm,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=tk("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=tk("baseRetryDelayMs",5e3,e),this.bb=tk("retryDelaySeedMs",1e4,e),this.$a=tk("forwardChannelMaxRetries",2,e),this.ta=tk("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new _g(e&&e.concurrentRequestLimit),this.Fa=new Pg,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rk(e){if(ak(e),3==e.G){var t=e.U++,n=tg(e.F);ag(n,"SID",e.I),ag(n,"RID",t),ag(n,"TYPE","terminate"),uk(e,n),(t=new Mm(e,e.j,t,void 0)).K=2,t.v=og(tg(n)),n=!1,Mv.navigator&&Mv.navigator.sendBeacon&&(n=Mv.navigator.sendBeacon(t.v.toString(),"")),!n&&Mv.Image&&((new Image).src=t.v,n=!0),n||(t.g=bk(t.l,null),t.g.da(t.v)),t.F=Date.now(),Gm(t)}gk(e)}function ik(e){e.g&&(hk(e),e.g.cancel(),e.g=null)}function ak(e){ik(e),e.u&&(Mv.clearTimeout(e.u),e.u=null),pk(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Mv.clearTimeout(e.m),e.m=null)}function ok(e){Eg(e.h)||e.m||(e.m=!0,nm(e.Ja,e),e.C=0)}function sk(e,t){var n;n=t?t.m:e.U++;var r=tg(e.F);ag(r,"SID",e.I),ag(r,"RID",n),ag(r,"AID",e.T),uk(e,r),e.o&&e.s&&ek(r,e.o,e.s),n=new Mm(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=ck(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Cg(e.h,n),Bm(n,r,t)}function uk(e,t){e.ia&&Ty(e.ia,(function(e,n){ag(t,n,e)})),e.l&&Xm({},(function(e,n){ag(t,n,e)}))}function ck(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Wv(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Og(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function lk(e){e.g||e.u||(e.Z=1,nm(e.Ia,e),e.A=0)}function fk(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Em(Wv(e.Ia,e),yk(e,e.A)),e.A++,!0)}function hk(e){null!=e.B&&(Mv.clearTimeout(e.B),e.B=null)}function dk(e){e.g=new Mm(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=tg(e.sa);ag(t,"RID","rpc"),ag(t,"SID",e.I),ag(t,"CI",e.L?"0":"1"),ag(t,"AID",e.T),ag(t,"TYPE","xmlhttp"),uk(e,t),e.o&&e.s&&ek(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=og(tg(t)),n.s=null,n.P=!0,qm(n,e)}function pk(e){null!=e.v&&(Mv.clearTimeout(e.v),e.v=null)}function vk(e,t){var n=null;if(e.g==t){pk(e),hk(e),e.g=null;var r=2}else{if(!Tg(e.h,t))return;n=t.D,Ng(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Hy(r=km(),new Sm(r,n)),ok(e)}else lk(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Ig(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Em(Wv(e.Ja,e,t),yk(e,e.C)),e.C++,!0))}(e,t)||2==r&&fk(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mk(e,5);break;case 4:mk(e,10);break;case 3:mk(e,6);break;default:mk(e,2)}}function yk(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function mk(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Wv(e.kb,e);n||(n=new eg("//www.google.com/images/cleardot.gif"),Mv.location&&"http"==Mv.location.protocol||ng(n,"https"),og(n)),function(e,t){var n=new vm;if(Mv.Image){var r=new Image;r.onload=Kv(Dg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Kv(Dg,n,r,"TestLoadImage: error",!1,t),r.onabort=Kv(Dg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Kv(Dg,n,r,"TestLoadImage: timeout",!1,t),Mv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else xm(2);e.G=0,e.l&&e.l.va(t),gk(e),ak(e)}function gk(e){if(e.G=0,e.la=[],e.l){var t=Rg(e.h);0==t.length&&0==e.i.length||($v(e.la,t),$v(e.la,e.i),e.h.i.length=0,Yv(e.i),e.i.length=0),e.l.ua()}}function kk(e,t,n){var r=n instanceof eg?tg(n):new eg(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),rg(r,r.m);else{var i=Mv.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new eg(null,void 0);r&&ng(a,r),t&&(a.g=t),i&&rg(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&ag(r,n,t),ag(r,"VER",e.ma),uk(e,r),r}function bk(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new qg(new Lg({jb:!0})):new qg(e.ra)).Ka(e.H),t}function wk(){}function _k(){if(sy&&!(10<=Number(by)))throw Error("Environmental error: no available transport.")}function xk(e,t){Gy.call(this),this.g=new nk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Zv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ik(this)}function Sk(e){Om.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ek(){Dm.call(this),this.status=1}function Ik(e){this.g=e}(Pv=qg.prototype).Ka=function(e){this.L=e},Pv.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Am.g(),this.C=this.u?Nm(this.u):Nm(Am),this.g.onreadystatechange=Wv(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Gg(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=N(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Mv.FormData&&e instanceof Mv.FormData,!(0<=Qv(Kg,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=N(n);try{for(c.s();!(u=c.n()).done;){var l=f(u.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$g(this),0<this.B&&((this.K=function(e){return sy&&gy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wv(this.qa,this)):this.A=um(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Gg(this,s)}},Pv.qa=function(){"undefined"!=typeof Lv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hy(this,"timeout"),this.abort(8))},Pv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hy(this,"complete"),Hy(this,"abort"),Yg(this))},Pv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yg(this,!0)),qg.X.M.call(this)},Pv.Ha=function(){this.s||(this.F||this.v||this.l?Qg(this):this.fb())},Pv.fb=function(){Qg(this)},Pv.aa=function(){try{return 2<Jg(this)?this.g.status:-1}catch(xg){return-1}},Pv.fa=function(){try{return this.g?this.g.responseText:""}catch(xg){return""}},Pv.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bg(t)}},Pv.Ea=function(){return this.m},Pv.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Pv=nk.prototype).ma=8,Pv.G=1,Pv.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Mm(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Ry(n=Cy(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ck(this,t,r),ag(i=tg(this.F),"RID",e),ag(i,"CVER",22),this.D&&ag(i,"X-HTTP-Session-Id",this.D),uk(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Zg(n)))+"&"+r:this.o&&ek(i,this.o,n)),Cg(this.h,t),this.Ya&&ag(i,"TYPE","init"),this.O?(ag(i,"$req",r),ag(i,"SID","null"),t.Z=!0,Bm(t,i,null)):Bm(t,i,r),this.G=2}}else 3==this.G&&(e?sk(this,e):0==this.i.length||Eg(this.h)||sk(this))},Pv.Ia=function(){if(this.u=null,dk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Em(Wv(this.eb,this),e)}},Pv.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xm(10),ik(this),dk(this))},Pv.cb=function(){null!=this.v&&(this.v=null,ik(this),fk(this),xm(19))},Pv.kb=function(e){e?(this.j.info("Successfully pinged google.com"),xm(2)):(this.j.info("Failed to ping google.com"),xm(1))},(Pv=wk.prototype).xa=function(){},Pv.wa=function(){},Pv.va=function(){},Pv.ua=function(){},Pv.Ra=function(){},_k.prototype.g=function(e,t){return new xk(e,t)},Gv(xk,Gy),xk.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;xm(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=kk(e,null,e.V),ok(e)},xk.prototype.close=function(){rk(this.g)},xk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yy(e),e=n);t.i.push(new wg(t.ab++,e)),3==t.G&&ok(t)},xk.prototype.M=function(){this.g.l=null,delete this.j,rk(this.g),delete this.g,xk.X.M.call(this)},Gv(Sk,Om),Gv(Ek,Dm),Gv(Ik,wk),Ik.prototype.xa=function(){Hy(this.g,"a")},Ik.prototype.wa=function(e){Hy(this.g,new Sk(e))},Ik.prototype.va=function(e){Hy(this.g,new Ek)},Ik.prototype.ua=function(){Hy(this.g,"b")},_k.prototype.createWebChannel=_k.prototype.g,xk.prototype.send=xk.prototype.u,xk.prototype.open=xk.prototype.m,xk.prototype.close=xk.prototype.close,Im.NO_ERROR=0,Im.TIMEOUT=8,Im.HTTP_ERROR=6,Tm.COMPLETE="complete",Rm.EventType=Pm,Pm.OPEN="a",Pm.CLOSE="b",Pm.ERROR="c",Pm.MESSAGE="d",Gy.prototype.listen=Gy.prototype.N,qg.prototype.listenOnce=qg.prototype.O,qg.prototype.getLastError=qg.prototype.Oa,qg.prototype.getLastErrorCode=qg.prototype.Ea,qg.prototype.getStatus=qg.prototype.aa,qg.prototype.getResponseJson=qg.prototype.Sa,qg.prototype.getResponseText=qg.prototype.fa,qg.prototype.send=qg.prototype.da,qg.prototype.setWithCredentials=qg.prototype.Ka;var Tk=Dv.createWebChannelTransport=function(){return new _k},Ck=Dv.getStatEventTarget=function(){return km()},Nk=Dv.ErrorCode=Im,Rk=Dv.EventType=Tm,Ak=Dv.Event=mm,Pk=Dv.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ok=Dv.FetchXmlHttpFactory=Lg,Dk=Dv.WebChannel=Rm,Lk=Dv.XhrIo=qg,Mk="@firebase/firestore",Fk=function(){function e(t){p(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Fk.UNAUTHENTICATED=new Fk(null),Fk.GOOGLE_CREDENTIALS=new Fk("google-credentials-uid"),Fk.FIRST_PARTY=new Fk("first-party-uid"),Fk.MOCK_USER=new Fk("mock-user");var jk="9.15.0",Uk=new fn("@firebase/firestore");function Vk(){return Uk.logLevel}function Bk(e){if(Uk.logLevel<=rn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wk);Uk.debug.apply(Uk,["Firestore (".concat(jk,"): ").concat(e)].concat(d(i)))}}function qk(e){if(Uk.logLevel<=rn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wk);Uk.error.apply(Uk,["Firestore (".concat(jk,"): ").concat(e)].concat(d(i)))}}function zk(e){if(Uk.logLevel<=rn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wk);Uk.warn.apply(Uk,["Firestore (".concat(jk,"): ").concat(e)].concat(d(i)))}}function Wk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Kk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(jk,") INTERNAL ASSERTION FAILED: ")+e;throw qk(t),new Error(t)}function Gk(e,t){e||Kk()}function Hk(e,t){return e}var Qk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yk=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Nt),$k=g((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Jk=g((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xk=function(){function e(){p(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Fk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Zk=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),eb=function(){function e(t){p(this,e),this.t=t,this.currentUser=Fk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new $k;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new $k,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Bk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Bk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $k)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Bk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Gk("string"==typeof n.accessToken),new Jk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Gk(null===e||"string"==typeof e),new Fk(e)}}]),e}(),tb=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Fk.FIRST_PARTY,this.p=new Map}return g(e,[{key:"I",value:function(){return this.g?this.g():(Gk(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),nb=function(){function e(t,n,r,i){p(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new tb(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Fk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),rb=g((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ib=function(){function e(t){p(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Bk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Bk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Bk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Bk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Gk("string"==typeof t.token),e.A=t.token,new rb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ab(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ob=function(){function e(){p(this,e)}return g(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ab(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function sb(e,t){return e<t?-1:e>t?1:0}function ub(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function cb(e){return e+"\0"}var lb=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Yk(Qk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Yk(Qk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Yk(Qk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yk(Qk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?sb(this.nanoseconds,e.nanoseconds):sb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),fb=function(){function e(t){p(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new lb(0,0))}},{key:"max",value:function(){return new e(new lb(253402300799,999999999))}}]),e}(),hb=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&Kk(),void 0===r?r=t.length-n:r>t.length-n&&Kk(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),db=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,d(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hb),pb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vb=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return pb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Yk(Qk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Yk(Qk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Yk(Qk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(hb),yb=function(){function e(t){p(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===db.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(db.fromString(t))}},{key:"fromName",value:function(t){return new e(db.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(db.emptyPath())}},{key:"comparator",value:function(e,t){return db.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new db(t.slice()))}}]),e}(),mb=g((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function gb(e){return e.fields.find((function(e){return 2===e.kind}))}function kb(e){return e.fields.filter((function(e){return 2!==e.kind}))}mb.UNKNOWN_ID=-1;var bb=g((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var wb=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,Sb.min())}}]),e}();function _b(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=fb.fromTimestamp(1e9===r?new lb(n+1,0):new lb(n,r));return new Sb(i,yb.empty(),t)}function xb(e){return new Sb(e.readTime,e.key,-1)}var Sb=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(fb.min(),yb.empty(),-1)}},{key:"max",value:function(){return new e(fb.max(),yb.empty(),-1)}}]),e}();function Eb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=yb.comparator(e.documentKey,t.documentKey))?n:sb(e.largestBatchId,t.largestBatchId)}var Ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Tb=function(){function e(){p(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Cb(e){return Nb.apply(this,arguments)}function Nb(){return Nb=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Qk.FAILED_PRECONDITION&&t.message===Ib){e.next=2;break}throw t;case 2:Bk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Nb.apply(this,arguments)}var Rb=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Kk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=N(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ab=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new $k,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Db(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Ub(e.target.error);r.P.reject(new Db(t,n))}}return g(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Bk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Mb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Db(n,t)}}}]),e}(),Pb=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(yt())&&qk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"F",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Bk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Db(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Yk(Qk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Yk(Qk.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Db(t,n))},i.onupgradeneeded=function(e){Bk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Bk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=nt(et().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(et().mark((function e(){var n,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Ab.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Rb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,Bk("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Bk("SimpleDb","Removing database:",e),Fb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!xt())return!1;if(e.N())return!0;var t=yt(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ob=function(){function e(t){p(this,e),this.q=t,this.U=!1,this.K=null}return g(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Fb(this.q.delete())}}]),e}(),Db=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,Qk.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(Yk);function Lb(e){return"IndexedDbTransactionError"===e.name}var Mb=function(){function e(t){p(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Bk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Bk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Fb(n)}},{key:"add",value:function(e){return Bk("SimpleDb","ADD",this.store.name,e,e),Fb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Fb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Bk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Bk("SimpleDb","DELETE",this.store.name,e),Fb(this.store.delete(e))}},{key:"count",value:function(){return Bk("SimpleDb","COUNT",this.store.name),Fb(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Rb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Rb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Bk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Rb((function(n,r){t.onerror=function(e){var t=Ub(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Rb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ob(i),o=t(i.primaryKey,i.value,a);if(o instanceof Rb){var s=o.catch((function(e){return a.done(),Rb.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Rb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Fb(e){return new Rb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ub(e.target.error);n(t)}}))}var jb=!1;function Ub(e){var t=Pb.D(yt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Yk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return jb||(jb=!0,setTimeout((function(){throw r}),0)),r}}return e}var Vb=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.et=n,this.task=null}return g(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Bk("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Bk,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Lb(e.t4)){e.next=17;break}Bk("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Cb(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Bb=function(){function e(t,n){p(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"st",value:function(){var e=nt(et().mark((function e(){var t,n=this,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Rb.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Bk("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Bk("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=xb(t);Eb(r,n)>0&&(n=r)})),new Sb(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),qb=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();qb.at=-1;var zb=g((function e(t,n,r,i,a,o,s,u){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Wb=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Kb(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qb(e){return null==e}function Yb(e){return 0===e&&1/e==-1/0}function $b(e){return"number"==typeof e&&Number.isInteger(e)&&!Yb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jb=function(e){function t(e){p(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return sb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Jb.EMPTY_BYTE_STRING=new Jb("");var Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zb(e){if(Gk(!!e),"string"==typeof e){var t=0,n=Xb.exec(e);if(Gk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ew(e.seconds),nanos:ew(e.nanos)}}function ew(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tw(e){return"string"==typeof e?Jb.fromBase64String(e):Jb.fromUint8Array(e)}function nw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rw(e){var t=e.mapValue.fields.__previous_value__;return nw(t)?rw(t):t}function iw(e){var t=Zb(e.mapValue.fields.__local_write_time__.timestampValue);return new lb(t.seconds,t.nanos)}var aw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ow={nullValue:"NULL_VALUE"};function sw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nw(e)?4:ww(e)?9007199254740991:10:Kk()}function uw(e,t){if(e===t)return!0;var n=sw(e);if(n!==sw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return iw(e).isEqual(iw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zb(e.timestampValue),r=Zb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tw(e.bytesValue).isEqual(tw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ew(e.geoPointValue.latitude)===ew(t.geoPointValue.latitude)&&ew(e.geoPointValue.longitude)===ew(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ew(e.integerValue)===ew(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ew(e.doubleValue),r=ew(t.doubleValue);return n===r?Yb(n)===Yb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ub(e.arrayValue.values||[],t.arrayValue.values||[],uw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Kb(n)!==Kb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uw(n[i],r[i])))return!1;return!0}(e,t);default:return Kk()}}function cw(e,t){return void 0!==(e.values||[]).find((function(e){return uw(e,t)}))}function lw(e,t){if(e===t)return 0;var n=sw(e),r=sw(t);if(n!==r)return sb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ew(e.integerValue||e.doubleValue),r=ew(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fw(e.timestampValue,t.timestampValue);case 4:return fw(iw(e),iw(t));case 5:return sb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=tw(e),r=tw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=sb(n[i],r[i]);if(0!==a)return a}return sb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=sb(ew(e.latitude),ew(t.latitude));return 0!==n?n:sb(ew(e.longitude),ew(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=lw(n[i],r[i]);if(a)return a}return sb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===aw.mapValue&&t===aw.mapValue)return 0;if(e===aw.mapValue)return 1;if(t===aw.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=sb(r[o],a[o]);if(0!==s)return s;var u=lw(n[r[o]],i[a[o]]);if(0!==u)return u}return sb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Kk()}}function fw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sb(e,t);var n=Zb(e),r=Zb(t),i=sb(n.seconds,r.seconds);return 0!==i?i:sb(n.nanos,r.nanos)}function hw(e){return dw(e)}function dw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Zb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,yb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=N(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=dw(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=N(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(dw(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Kk();var t,n}function pw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function vw(e){return!!e&&"integerValue"in e}function yw(e){return!!e&&"arrayValue"in e}function mw(e){return!!e&&"nullValue"in e}function gw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kw(e){return!!e&&"mapValue"in e}function bw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Gb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=bw(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=bw(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ww(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function _w(e){return"nullValue"in e?ow:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?pw(Wb.empty(),yb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Kk()}function xw(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?pw(Wb.empty(),yb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?aw:Kk()}function Sw(e,t){var n=lw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ew(e,t){var n=lw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Iw=g((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function Tw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?yb.comparator(yb.fromName(o.referenceValue),n.key):lw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Cw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!uw(e.position[n],t.position[n]))return!1;return!0}var Nw=g((function e(){p(this,e)})),Rw=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lw(t,this.value)):null!==t&&sw(this.value)===sw(t)&&this.matchesComparison(lw(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kk()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Vw(e,t,r):"array-contains"===t?new Ww(e,r):"in"===t?new Kw(e,r):"not-in"===t?new Gw(e,r):"array-contains-any"===t?new Hw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Bw(e,n):new qw(e,n)}}]),n}(Nw),Aw=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return g(n,[{key:"matches",value:function(e){return Pw(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=N(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Nw);function Pw(e){return"and"===e.op}function Ow(e){return"or"===e.op}function Dw(e){return Lw(e)&&Pw(e)}function Lw(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Aw)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Mw(e){if(e instanceof Rw)return e.field.canonicalString()+e.op.toString()+hw(e.value);var t=e.filters.map((function(e){return Mw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Fw(e,t){return e instanceof Rw?function(e,t){return t instanceof Rw&&e.op===t.op&&e.field.isEqual(t.field)&&uw(e.value,t.value)}(e,t):e instanceof Aw?function(e,t){return t instanceof Aw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Fw(n,t.filters[r])}),!0)}(e,t):void Kk()}function jw(e,t){var n=e.filters.concat(t);return Aw.create(n,e.op)}function Uw(e){return e instanceof Rw?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(hw(e.value))}(e):e instanceof Aw?function(e){return e.op.toString()+" {"+e.getFilters().map(Uw).join(" ,")+"}"}(e):"Filter"}var Vw=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=yb.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=yb.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Rw),Bw=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=zw("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rw),qw=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=zw("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rw);function zw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return yb.fromName(e.referenceValue)}))}var Ww=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return yw(t)&&cw(t.arrayValue,this.value)}}]),n}(Rw),Kw=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&cw(this.value.arrayValue,t)}}]),n}(Rw),Gw=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(cw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!cw(this.value.arrayValue,t)}}]),n}(Rw),Hw=function(e){b(n,e);var t=E(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return cw(t.value.arrayValue,e)}))}}]),n}(Rw),Qw=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function Yw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var $w=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||Xw.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Jw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Jw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Jw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Jw(this.root,e,this.comparator,!0)}}]),e}(),Jw=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xw=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Kk();if(this.right.isRed())throw Kk();var e=this.left.check();if(e!==this.right.check())throw Kk();return e+(this.isRed()?0:1)}}]),e}();Xw.EMPTY=null,Xw.RED=!0,Xw.BLACK=!1,Xw.EMPTY=new(function(){function e(){p(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw Kk()}},{key:"value",get:function(){throw Kk()}},{key:"color",get:function(){throw Kk()}},{key:"left",get:function(){throw Kk()}},{key:"right",get:function(){throw Kk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Zw=function(){function e(t){p(this,e),this.comparator=t,this.data=new $w(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new e_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new e_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),e_=function(){function e(t){p(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function t_(e){return e.hasNext()?e.getNext():void 0}var n_=function(){function e(t){p(this,e),this.fields=t,t.sort(vb.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new Zw(vb.comparator),i=N(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=N(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=N(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ub(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),r_=function(){function e(t){p(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!kw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bw(t)}},{key:"setAll",value:function(e){var t=this,n=vb.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=bw(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());kw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return uw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];kw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Gb(t,(function(t,n){return e[t]=n}));var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(bw(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function i_(e){var t=[];return Gb(e.fields,(function(e,n){var r=new vb([e]);if(kw(n)){var i=i_(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=N(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new n_(t)}var a_=function(){function e(t,n,r,i,a,o,s){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(fb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=r_.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=r_.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=fb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,fb.min(),fb.min(),fb.min(),r_.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,fb.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,fb.min(),fb.min(),r_.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,fb.min(),fb.min(),r_.empty(),2)}}]),e}(),o_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function s_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new o_(e,t,n,r,i,a,o)}function u_(e){var t=Hk(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Mw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Qb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return hw(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return hw(e)})).join(",")),t.ft=n}return t.ft}function c_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Yw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Fw(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cw(e.startAt,t.startAt)&&Cw(e.endAt,t.endAt)}function l_(e){return yb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function f_(e,t){return e.filters.filter((function(e){return e instanceof Rw&&e.field.isEqual(t)}))}function h_(e,t,n){var r,i=ow,a=!0,o=N(f_(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=ow,c=!0;switch(s.op){case"<":case"<=":u=_w(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=ow}Sw({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Sw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function d_(e,t,n){var r,i=aw,a=!0,o=N(f_(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=aw,c=!0;switch(s.op){case">=":case">":u=xw(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=aw}Ew({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ew({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var p_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function v_(e,t,n,r,i,a,o,s){return new p_(e,t,n,r,i,a,o,s)}function y_(e){return new p_(e)}function m_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function g_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function k_(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function b_(e){return null!==e.collectionGroup}function w_(e){var t=Hk(e);if(null===t.dt){t.dt=[];var n=k_(t),r=g_(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Qw(n)),t.dt.push(new Qw(vb.keyField(),"asc"));else{var i,a=!1,o=N(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Qw(vb.keyField(),u))}}}return t.dt}function __(e){var t=Hk(e);if(!t._t)if("F"===t.limitType)t._t=s_(t.path,t.collectionGroup,w_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=N(w_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Qw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Iw(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Iw(t.startAt.position,t.startAt.inclusive):null;t._t=s_(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function x_(e,t){t.getFirstInequalityField(),k_(e);var n=e.filters.concat([t]);return new p_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function S_(e,t,n){return new p_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function E_(e,t){return c_(__(e),__(t))&&e.limitType===t.limitType}function I_(e){return"".concat(u_(__(e)),"|lt:").concat(e.limitType)}function T_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Uw(e)})).join(", "),"]")),Qb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return hw(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return hw(e)})).join(",")),"Target(".concat(t,")")}(__(e)),"; limitType=").concat(e.limitType,")")}function C_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):yb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=N(w_(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=N(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Tw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,w_(e),t))&&!(e.endAt&&!function(e,t,n){var r=Tw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,w_(e),t))}(e,t)}function N_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function R_(e){return function(t,n){var r,i=!1,a=N(w_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=A_(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function A_(e,t,n){var r=e.field.isKeyField()?yb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lw(r,i):Kk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Kk()}}function P_(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yb(t)?"-0":t}}function O_(e){return{integerValue:""+e}}function D_(e,t){return $b(t)?O_(t):P_(e,t)}var L_=g((function e(){p(this,e),this._=void 0}));function M_(e,t,n){return e instanceof U_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof V_?B_(e,t):e instanceof q_?z_(e,t):function(e,t){var n=j_(e,t),r=K_(n)+K_(e.gt);return vw(n)&&vw(e.gt)?O_(r):P_(e.yt,r)}(e,t)}function F_(e,t,n){return e instanceof V_?B_(e,t):e instanceof q_?z_(e,t):n}function j_(e,t){return e instanceof W_?vw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var U_=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(L_),V_=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(L_);function B_(e,t){var n,r=G_(t),i=N(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return uw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var q_=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(L_);function z_(e,t){var n,r=G_(t),i=N(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!uw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var W_=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return g(n)}(L_);function K_(e){return ew(e.integerValue||e.doubleValue)}function G_(e){return yw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var H_=g((function e(t,n){p(this,e),this.field=t,this.transform=n}));var Q_=g((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),Y_=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function $_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var J_=g((function e(){p(this,e)}));function X_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lx(e.key,Y_.none()):new rx(e.key,e.data,Y_.none());var n,r=e.data,i=r_.empty(),a=new Zw(vb.comparator),o=N(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new ix(e.key,i,new n_(a.toArray()),Y_.none())}function Z_(e,t,n){e instanceof rx?function(e,t,n){var r=e.value.clone(),i=ox(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ix?function(e,t,n){if($_(e.precondition,t)){var r=ox(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ax(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ex(e,t,n,r){return e instanceof rx?function(e,t,n,r){if(!$_(e.precondition,t))return n;var i=e.value.clone(),a=sx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ix?function(e,t,n,r){if(!$_(e.precondition,t))return n;var i=sx(e.fieldTransforms,r,t),a=t.data;return a.setAll(ax(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return $_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tx(e,t){var n,r=null,i=N(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=j_(a.transform,o||null);null!=s&&(null===r&&(r=r_.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function nx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ub(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof V_&&t instanceof V_||e instanceof q_&&t instanceof q_?ub(e.elements,t.elements,uw):e instanceof W_&&t instanceof W_?uw(e.gt,t.gt):e instanceof U_&&t instanceof U_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var rx=function(e){b(n,e);var t=E(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(J_),ix=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(J_);function ax(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ox(e,t,n){var r=new Map;Gk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,F_(o,s,n[i]))}return r}function sx(e,t,n){var r,i=new Map,a=N(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,M_(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ux,cx,lx=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(J_),fx=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(J_),hx=g((function e(t){p(this,e),this.count=t}));function dx(e){switch(e){default:return Kk();case Qk.CANCELLED:case Qk.UNKNOWN:case Qk.DEADLINE_EXCEEDED:case Qk.RESOURCE_EXHAUSTED:case Qk.INTERNAL:case Qk.UNAVAILABLE:case Qk.UNAUTHENTICATED:return!1;case Qk.INVALID_ARGUMENT:case Qk.NOT_FOUND:case Qk.ALREADY_EXISTS:case Qk.PERMISSION_DENIED:case Qk.FAILED_PRECONDITION:case Qk.ABORTED:case Qk.OUT_OF_RANGE:case Qk.UNIMPLEMENTED:case Qk.DATA_LOSS:return!0}}function px(e){if(void 0===e)return qk("GRPC error has no .code"),Qk.UNKNOWN;switch(e){case ux.OK:return Qk.OK;case ux.CANCELLED:return Qk.CANCELLED;case ux.UNKNOWN:return Qk.UNKNOWN;case ux.DEADLINE_EXCEEDED:return Qk.DEADLINE_EXCEEDED;case ux.RESOURCE_EXHAUSTED:return Qk.RESOURCE_EXHAUSTED;case ux.INTERNAL:return Qk.INTERNAL;case ux.UNAVAILABLE:return Qk.UNAVAILABLE;case ux.UNAUTHENTICATED:return Qk.UNAUTHENTICATED;case ux.INVALID_ARGUMENT:return Qk.INVALID_ARGUMENT;case ux.NOT_FOUND:return Qk.NOT_FOUND;case ux.ALREADY_EXISTS:return Qk.ALREADY_EXISTS;case ux.PERMISSION_DENIED:return Qk.PERMISSION_DENIED;case ux.FAILED_PRECONDITION:return Qk.FAILED_PRECONDITION;case ux.ABORTED:return Qk.ABORTED;case ux.OUT_OF_RANGE:return Qk.OUT_OF_RANGE;case ux.UNIMPLEMENTED:return Qk.UNIMPLEMENTED;case ux.DATA_LOSS:return Qk.DATA_LOSS;default:return Kk()}}(cx=ux||(ux={}))[cx.OK=0]="OK",cx[cx.CANCELLED=1]="CANCELLED",cx[cx.UNKNOWN=2]="UNKNOWN",cx[cx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cx[cx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cx[cx.NOT_FOUND=5]="NOT_FOUND",cx[cx.ALREADY_EXISTS=6]="ALREADY_EXISTS",cx[cx.PERMISSION_DENIED=7]="PERMISSION_DENIED",cx[cx.UNAUTHENTICATED=16]="UNAUTHENTICATED",cx[cx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cx[cx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cx[cx.ABORTED=10]="ABORTED",cx[cx.OUT_OF_RANGE=11]="OUT_OF_RANGE",cx[cx.UNIMPLEMENTED=12]="UNIMPLEMENTED",cx[cx.INTERNAL=13]="INTERNAL",cx[cx.UNAVAILABLE=14]="UNAVAILABLE",cx[cx.DATA_LOSS=15]="DATA_LOSS";var vx=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Gb(this.inner,(function(t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Hb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),yx=new $w(yb.comparator);function mx(){return yx}var gx=new $w(yb.comparator);function kx(){for(var e=gx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function bx(e){var t=gx;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function wx(){return xx()}function _x(){return xx()}function xx(){return new vx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Sx=new $w(yb.comparator),Ex=new Zw(yb.comparator);function Ix(){for(var e=Ex,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Tx=new Zw(sb);function Cx(){return Tx}var Nx=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Rx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(fb.min(),i,Cx(),mx(),Ix())}}]),e}(),Rx=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ix(),Ix(),Ix())}}]),e}(),Ax=g((function e(t,n,r,i){p(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Px=g((function e(t,n){p(this,e),this.targetId=t,this.Et=n})),Ox=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Dx=function(){function e(){p(this,e),this.At=0,this.Rt=Fx(),this.bt=Jb.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return g(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Ix(),t=Ix(),n=Ix();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Kk()}})),new Rx(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=Fx()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),Lx=function(){function e(t){p(this,e),this.$t=t,this.Bt=new Map,this.Lt=mx(),this.qt=Mx(),this.Ut=new Zw(sb)}return g(e,[{key:"Kt",value:function(e){var t,n=N(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=N(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:Kk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(l_(i))if(0===n){var a=new yb(i.path);this.Qt(t,a,a_.newNoDocument(a,fb.min()))}else Gk(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&l_(a.target)){var o=new yb(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,a_.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Ix();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Nx(e,n,this.Ut,this.Lt,r);return this.Lt=mx(),this.qt=Mx(),this.Ut=new Zw(sb),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Dx,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Zw(sb),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Bk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Dx),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function Mx(){return new $w(yb.comparator)}function Fx(){return new $w(yb.comparator)}var jx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vx={and:"AND",or:"OR"},Bx=g((function e(t,n){p(this,e),this.databaseId=t,this.wt=n}));function qx(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function zx(e,t){return e.wt?t.toBase64():t.toUint8Array()}function Wx(e,t){return qx(e,t.toTimestamp())}function Kx(e){return Gk(!!e),fb.fromTimestamp(function(e){var t=Zb(e);return new lb(t.seconds,t.nanos)}(e))}function Gx(e,t){return function(e){return new db(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Hx(e){var t=db.fromString(e);return Gk(yS(t)),t}function Qx(e,t){return Gx(e.databaseId,t.path)}function Yx(e,t){var n=Hx(t);if(n.get(1)!==e.databaseId.projectId)throw new Yk(Qk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yk(Qk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yb(Zx(n))}function $x(e,t){return Gx(e.databaseId,t)}function Jx(e){var t=Hx(e);return 4===t.length?db.emptyPath():Zx(t)}function Xx(e){return new db(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zx(e){return Gk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function eS(e,t,n){return{name:Qx(e,t),fields:n.value.mapValue.fields}}function tS(e,t,n){var r=Yx(e,t.name),i=Kx(t.updateTime),a=t.createTime?Kx(t.createTime):fb.min(),o=new r_({mapValue:{fields:t.fields}}),s=a_.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function nS(e,t){return"found"in t?function(e,t){Gk(!!t.found),t.found.name,t.found.updateTime;var n=Yx(e,t.found.name),r=Kx(t.found.updateTime),i=t.found.createTime?Kx(t.found.createTime):fb.min(),a=new r_({mapValue:{fields:t.found.fields}});return a_.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Gk(!!t.missing),Gk(!!t.readTime);var n=Yx(e,t.missing),r=Kx(t.readTime);return a_.newNoDocument(n,r)}(e,t):Kk()}function rS(e,t){var n;if(t instanceof rx)n={update:eS(e,t.key,t.value)};else if(t instanceof lx)n={delete:Qx(e,t.key)};else if(t instanceof ix)n={update:eS(e,t.key,t.data),updateMask:vS(t.fieldMask)};else{if(!(t instanceof fx))return Kk();n={verify:Qx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof U_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof V_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof q_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof W_)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Kk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Wx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Kk()}(e,t.precondition)),n}function iS(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Y_.updateTime(Kx(e.updateTime)):void 0!==e.exists?Y_.exists(e.exists):Y_.none()}(t.currentDocument):Y_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Gk("REQUEST_TIME"===t.setToServerValue),n=new U_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new V_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new q_(i)}else"increment"in t?n=new W_(e,t.increment):Kk();var a=vb.fromServerFormat(t.fieldPath);return new H_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Yx(e,t.update.name),a=new r_({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new n_(t.map((function(e){return vb.fromServerFormat(e)})))}(t.updateMask);return new ix(i,a,o,n,r)}return new rx(i,a,n,r)}if(t.delete){var s=Yx(e,t.delete);return new lx(s,n)}if(t.verify){var u=Yx(e,t.verify);return new fx(u,n)}return Kk()}function aS(e,t){return{documents:[$x(e,t.path)]}}function oS(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$x(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$x(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return pS(Aw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:hS(e.field),direction:cS(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||Qb(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sS(e){var t=Jx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=uS(e);return t instanceof Aw&&Dw(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Qw(dS(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Qb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Iw(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Iw(n,t)}(n.endAt)),v_(t,i,s,o,u,"F",c,l)}function uS(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=dS(e.unaryFilter.field);return Rw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=dS(e.unaryFilter.field);return Rw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=dS(e.unaryFilter.field);return Rw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=dS(e.unaryFilter.field);return Rw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Kk()}}(e):void 0!==e.fieldFilter?function(e){return Rw.create(dS(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kk()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Aw.create(e.compositeFilter.filters.map((function(e){return uS(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Kk()}}(e.compositeFilter.op))}(e):Kk()}function cS(e){return jx[e]}function lS(e){return Ux[e]}function fS(e){return Vx[e]}function hS(e){return{fieldPath:e.canonicalString()}}function dS(e){return vb.fromServerFormat(e.fieldPath)}function pS(e){return e instanceof Rw?function(e){if("=="===e.op){if(gw(e.value))return{unaryFilter:{field:hS(e.field),op:"IS_NAN"}};if(mw(e.value))return{unaryFilter:{field:hS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gw(e.value))return{unaryFilter:{field:hS(e.field),op:"IS_NOT_NAN"}};if(mw(e.value))return{unaryFilter:{field:hS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hS(e.field),op:lS(e.op),value:e.value}}}(e):e instanceof Aw?function(e){var t=e.getFilters().map((function(e){return pS(e)}));return 1===t.length?t[0]:{compositeFilter:{op:fS(e.op),filters:t}}}(e):Kk()}function vS(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function yS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function mS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=kS(t)),t=gS(e.get(n),t);return kS(t)}function gS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function kS(e){return e+"\x01\x01"}function bS(e){var t=e.length;if(Gk(t>=2),2===t)return Gk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),db.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Kk(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Kk()}a=o+2}return new db(r)}var wS=["userId","batchId"];function _S(e,t){return[e,mS(t)]}function xS(e,t,n){return[e,mS(t),n]}var SS={},ES=["prefixPath","collectionGroup","readTime","documentId"],IS=["prefixPath","collectionGroup","documentId"],TS=["collectionGroup","readTime","prefixPath","documentId"],CS=["canonicalId","targetId"],NS=["targetId","path"],RS=["path","targetId"],AS=["collectionId","parent"],PS=["indexId","uid"],OS=["uid","sequenceNumber"],DS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LS=["indexId","uid","orderedDocumentKey"],MS=["userId","collectionPath","documentId"],FS=["userId","collectionPath","largestBatchId"],jS=["userId","collectionGroup","largestBatchId"],US=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),VS=[].concat(d(US),["documentOverlays"]),BS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qS=BS,zS=[].concat(qS,["indexConfiguration","indexState","indexEntries"]),WS=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return g(n)}(Tb);function KS(e,t){var n=Hk(e);return Pb.M(n.se,t)}var GS=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Z_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=N(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ex(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=N(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=ex(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=_x();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=X_(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(fb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ix())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ub(this.mutations,e.mutations,(function(e,t){return nx(e,t)}))&&ub(this.baseMutations,e.baseMutations,(function(e,t){return nx(e,t)}))}}]),e}(),HS=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){Gk(t.mutations.length===r.length);for(var i=Sx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),QS=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),YS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fb.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jb.EMPTY_BYTE_STRING;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),$S=g((function e(t){p(this,e),this.ie=t}));function JS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:XS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Qx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qx(e,t.version.toTimestamp()),createTime:qx(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ZS(t.version)};else{if(!t.isUnknownDocument())return Kk();r.unknownDocument={path:n.path.toArray(),version:ZS(t.version)}}return r}function XS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ZS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function eE(e){var t=new lb(e.seconds,e.nanoseconds);return fb.fromTimestamp(t)}function tE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return iS(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return iS(e.ie,t)})),s=lb.fromMillis(t.localWriteTimeMs);return new GS(t.batchId,s,n,o)}function nE(e){var t,n,r=eE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?eE(e.lastLimboFreeSnapshotVersion):fb.min();return void 0!==e.query.documents?(Gk(1===(n=e.query).documents.length),t=__(y_(Jx(n.documents[0])))):t=function(e){return __(sS(e))}(e.query),new YS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Jb.fromBase64String(e.resumeToken))}function rE(e,t){var n,r=ZS(t.snapshotVersion),i=ZS(t.lastLimboFreeSnapshotVersion);n=l_(t.target)?aS(e.ie,t.target):oS(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:u_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function iE(e){var t=sS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?S_(t,t.limit,"L"):t}function aE(e,t){return new QS(t.largestBatchId,iS(e.ie,t.overlayMutation))}function oE(e,t){var n=t.path.lastSegment();return[e,mS(t.path.popLast()),n]}function sE(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ZS(r.readTime),documentKey:mS(r.documentKey.path),largestBatchId:r.largestBatchId}}var uE=function(){function e(){p(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return cE(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:eE(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return cE(e).put({bundleId:(n=t).id,createTime:ZS(Kx(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return lE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:iE(t.bundledQuery),readTime:eE(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return lE(e).put(function(e){return{name:e.name,readTime:ZS(Kx(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function cE(e){return KS(e,"bundles")}function lE(e){return KS(e,"namedQueries")}var fE=function(){function e(t,n){p(this,e),this.yt=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return hE(e).get(oE(this.userId,t)).next((function(e){return e?aE(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=wx();return Rb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new QS(t,a);i.push(r.oe(e,o))})),Rb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(mS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(hE(e).Y("collectionPathOverlayIndex",i))})),Rb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=wx(),a=mS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return hE(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=aE(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=wx(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hE(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=aE(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return hE(e).put(function(e,t,n){var r=f(oE(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rS(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function hE(e){return KS(e,"documentOverlays")}var dE=function(){function e(){p(this,e)}return g(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ew(e.integerValue));else if("doubleValue"in e){var n=ew(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Yb(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(tw(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?ww(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Kk()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),yb.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function pE(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function vE(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=pE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}dE.Ie=new dE;var yE=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=vE(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=vE(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),mE=function(){function e(t){p(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),gE=function(){function e(t){p(this,e),this.$e=t}return g(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),kE=function(){function e(){p(this,e),this.$e=new yE,this.Be=new mE(this.$e),this.Le=new gE(this.$e)}return g(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),bE=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function wE(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=_E(e.arrayValue,t.arrayValue))?n:0!==(n=_E(e.directionalValue,t.directionalValue))?n:yb.comparator(e.documentKey,t.documentKey)}function _E(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var xE=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=N(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"je",value:function(e){Gk(e.collectionGroup===this.collectionId);var t=gb(e);if(void 0!==t&&!this.We(t))return!1;for(var n=kb(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=N(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function SE(e){var t,n;if(Gk(e instanceof Rw||e instanceof Aw),e instanceof Rw){if(e instanceof Kw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Rw.create(e.field,"==",t)})))||[];return Aw.create(r,"or")}return e}var i=e.filters.map((function(e){return SE(e)}));return Aw.create(i,e.op)}function EE(e){if(0===e.getFilters().length)return[];var t=NE(SE(e));return Gk(CE(t)),IE(t)||TE(t)?[t]:t.getFilters()}function IE(e){return e instanceof Rw}function TE(e){return e instanceof Aw&&Dw(e)}function CE(e){return IE(e)||TE(e)||function(e){if(e instanceof Aw&&Ow(e)){var t,n=N(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!IE(r)&&!TE(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function NE(e){if(Gk(e instanceof Rw||e instanceof Aw),e instanceof Rw)return e;if(1===e.filters.length)return NE(e.filters[0]);var t=e.filters.map((function(e){return NE(e)})),n=Aw.create(t,e.op);return CE(n=PE(n))?n:(Gk(n instanceof Aw),Gk(Pw(n)),Gk(n.filters.length>1),n.filters.reduce((function(e,t){return RE(e,t)})))}function RE(e,t){var n;return Gk(e instanceof Rw||e instanceof Aw),Gk(t instanceof Rw||t instanceof Aw),n=e instanceof Rw?t instanceof Rw?function(e,t){return Aw.create([e,t],"and")}(e,t):AE(e,t):t instanceof Rw?AE(t,e):function(e,t){if(Gk(e.filters.length>0&&t.filters.length>0),Pw(e)&&Pw(t))return jw(e,t.getFilters());var n=Ow(e)?e:t,r=Ow(e)?t:e,i=n.filters.map((function(e){return RE(e,r)}));return Aw.create(i,"or")}(e,t),PE(n)}function AE(e,t){if(Pw(t))return jw(t,e.getFilters());var n=t.filters.map((function(t){return RE(e,t)}));return Aw.create(n,"or")}function PE(e){if(Gk(e instanceof Rw||e instanceof Aw),e instanceof Rw)return e;var t=e.getFilters();if(1===t.length)return PE(t[0]);if(Lw(e))return e;var n=t.map((function(e){return PE(e)})),r=[];return n.forEach((function(t){t instanceof Rw?r.push(t):t instanceof Aw&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:Aw.create(r,e.op)}var OE=function(){function e(){p(this,e),this.Je=new DE}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),Rb.resolve()}},{key:"getCollectionParents",value:function(e,t){return Rb.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Rb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Rb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Rb.resolve(null)}},{key:"getIndexType",value:function(e,t){return Rb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Rb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Rb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Rb.resolve(Sb.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Rb.resolve(Sb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Rb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Rb.resolve()}}]),e}(),DE=function(){function e(){p(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zw(db.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Zw(db.comparator)).toArray()}}]),e}(),LE=new Uint8Array(0),ME=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this.Ye=new DE,this.Xe=new vx((function(e){return u_(e)}),(function(e,t){return c_(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:mS(i)};return FE(e).put(a)}return Rb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[cb(t),""],!1,!0);return FE(e).W(r).next((function(e){var r,i=N(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(bS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=UE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=VE(e);return a.next((function(e){o.put(sE(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=UE(e),r=VE(e),i=jE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=jE(e),i=!0,a=new Map;return Rb.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ix(),o=[];return Rb.forEach(a,(function(i,a){var s;Bk("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(u_(t)));var u=function(e,t){var n=gb(t);if(void 0===n)return null;var r,i=N(f_(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=N(kb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=N(f_(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=N(kb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?h_(e,o.fieldPath,e.startAt):d_(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Iw(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=N(kb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?d_(e,o.fieldPath,e.endAt):h_(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Iw(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Rb.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=yb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Rb.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:EE(Aw.create(e.filters,"and")).map((function(t){return s_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.rn(t[u/c]):LE,h=s.on(e,f,n[u%c],r),p=s.un(e,f,i[u%c],a),v=o.map((function(t){return s.on(e,f,t,!0)}));l.push.apply(l,d(s.createRange(h,p,v)))},h=0;h<u;++h)f(h);return l}},{key:"on",value:function(e,t,n,r){var i=new bE(e,yb.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new bE(e,yb.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new xE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Rb.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Zw(vb.comparator),r=!1,i=N(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=N(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=N(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new kE,i=N(kb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);dE.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new kE;return dE.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new kE;return dE.Ie.ue(pw(this.databaseId,t),n.qe(function(e){var t=kb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new kE);var i,a=0,o=N(kb(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=N(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&yw(c))r=this.ln(r,u,c);else{var h=f.qe(u.kind);dE.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=d(e),a=[],o=N(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=N(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new kE;f.seed(l.Fe()),dE.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Rw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=UE(e),i=VE(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Rb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new wb(t.sequenceNumber,new Sb(eE(t.readTime),new yb(bS(t.documentKey)),t.largestBatchId)):wb.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new bb(vb.fromServerFormat(n),r)}));return new mb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:sb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=UE(e),a=VE(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Rb.forEach(t,(function(t){return a.put(sE(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Rb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Rb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Rb.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Rb.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return jE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return jE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=jE(e),i=new Zw(wE);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new bE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Zw(wE),r=this.cn(t,e);if(null==r)return n;var i=gb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(yw(a)){var o,s=N(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new bE(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new bE(t.indexId,e.key,LE,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Bk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=t_(a),u=t_(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=t_(o)):l?(i(s),s=t_(a)):(s=t_(a),u=t_(o))}}(r,i,wE,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),Rb.waitFor(o)}},{key:"dn",value:function(e){var t=1;return VE(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return wE(e,t)})).filter((function(e,t,n){return!t||0!==wE(e,n[t-1])}));var r=[];r.push(e);var i,a=N(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=wE(o,e),u=wE(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,LE,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,LE,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return wE(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(BE)}},{key:"getMinOffset",value:function(e,t){var n=this;return Rb.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||Kk()}))})).next(BE)}}]),e}();function FE(e){return KS(e,"collectionParents")}function jE(e){return KS(e,"indexEntries")}function UE(e){return KS(e,"indexConfiguration")}function VE(e){return KS(e,"indexState")}function BE(e){Gk(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Eb(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Sb(t.readTime,t.documentKey,n)}var qE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function WE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Gk(1===s)})));var c,l=[],f=N(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=xS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Rb.waitFor(a).next((function(){return l}))}function KE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Kk();t=e.noDocument}return JSON.stringify(t).length}zE.DEFAULT_COLLECTION_PERCENTILE=10,zE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zE.DEFAULT=new zE(41943040,zE.DEFAULT_COLLECTION_PERCENTILE,zE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zE.DISABLED=new zE(-1,0,0);var GE=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return QE(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=YE(e),o=QE(e);return o.add({}).next((function(s){Gk("number"==typeof s);var u,c=new GS(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return rS(e.ie,t)})),i=n.mutations.map((function(t){return rS(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new Zw((function(e,t){return sb(e.canonicalString(),t.canonicalString())})),d=N(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=xS(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,SS))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),Rb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return QE(e).get(t).next((function(e){return e?(Gk(e.userId===n.userId),tE(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Rb.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return QE(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Gk(t.batchId>=r),a=tE(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return QE(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return QE(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return tE(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=_S(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return YE(e).Z({range:i},(function(r,i,o){var s=f(r,3),u=s[0],c=s[1],l=s[2],h=bS(c);if(u===n.userId&&t.path.isEqual(h))return QE(e).get(l).next((function(e){if(!e)throw Kk();Gk(e.userId===n.userId),a.push(tE(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zw(sb),i=[];return t.forEach((function(t){var a=_S(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=YE(e).Z({range:o},(function(e,i,a){var o=f(e,3),s=o[0],u=o[1],c=o[2],l=bS(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Rb.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=_S(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Zw(sb);return YE(e).Z({range:o},(function(e,t,a){var o=f(e,3),u=o[0],c=o[1],l=o[2],h=bS(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(QE(e).get(t).next((function(e){if(null===e)throw Kk();Gk(e.userId===n.userId),r.push(tE(n.yt,e))})))})),Rb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return WE(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Rb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Rb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return YE(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=bS(e[1]);i.push(a)}else r.done()})).next((function(){Gk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return HE(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return $E(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return Gk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function HE(e,t,n){var r=_S(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return YE(e).Z({range:a,X:!0},(function(e,n,r){var a=f(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function QE(e){return KS(e,"mutations")}function YE(e){return KS(e,"documentMutations")}function $E(e){return KS(e,"mutationQueues")}var JE=function(){function e(t){p(this,e),this.bn=t}return g(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),XE=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.yt=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new JE(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return fb.fromTimestamp(new lb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ZE(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Gk(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ZE(e).Z((function(o,s){var u=nE(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Rb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ZE(e).Z((function(e,n){var r=nE(n);t(r)}))}},{key:"Vn",value:function(e){return eI(e).get("targetGlobalKey").next((function(e){return Gk(null!==e),e}))}},{key:"Sn",value:function(e,t){return eI(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return ZE(e).put(rE(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=u_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ZE(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=nE(n);c_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=tI(e);return t.forEach((function(t){var o=mS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Rb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=tI(e);return Rb.forEach(t,(function(t){var a=mS(t.path);return Rb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=tI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=tI(e),i=Ix();return r.Z({range:n,X:!0},(function(e,t,n){var r=bS(e[1]),a=new yb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=mS(t.path),r=IDBKeyRange.bound([n],[cb(n)],!1,!0),i=0;return tI(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return ZE(e).get(t).next((function(e){return e?nE(e):null}))}}]),e}();function ZE(e){return KS(e,"targets")}function eI(e){return KS(e,"targetGlobal")}function tI(e){return KS(e,"targetDocuments")}function nI(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],s=a[1],u=sb(r,o);return 0===u?sb(i,s):u}var rI=function(){function e(t){p(this,e),this.xn=t,this.buffer=new Zw(nI),this.Nn=0}return g(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();nI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),iI=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Bk("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Lb(e.t0)){e.next=12;break}Bk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Cb(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),aI=function(){function e(t,n){p(this,e),this.$n=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Rb.resolve(qb.at);var r=new rI(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Bk("LruGarbageCollector","Garbage collection skipped; disabled"),Rb.resolve(qE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Bk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),qE):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Bk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Vk()<=rn.DEBUG&&Bk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Rb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),oI=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=function(e,t){return new aI(e,t)}(this,n)}return g(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return sI(e,n)}},{key:"removeReference",value:function(e,t,n){return sI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return sI(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return $E(e).tt((function(r){return HE(e,r,t).next((function(e){return e&&(n=!0),Rb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,fb.min()),tI(e).delete([0,mS(o.path)])}))}));i.push(u)}})).next((function(){return Rb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return sI(e,t)}},{key:"Kn",value:function(e,t){var n,r=tI(e),i=qb.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==qb.at&&t(new yb(bS(n)),i),i=u,n=s):i=qb.at})).next((function(){i!==qb.at&&t(new yb(bS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function sI(e,t){return tI(e).put(function(e,t){return{targetId:0,path:mS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var uI=function(){function e(){p(this,e),this.changes=new vx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,a_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Rb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),cI=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return dI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return dI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],XS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=a_.newInvalidDocument(t);return dI(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pI(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:a_.newInvalidDocument(t)};return dI(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pI(t))},(function(e,i){r={document:n.jn(t,i),size:KE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=mx();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=mx(),i=new $w(yb.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,KE(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Rb.resolve();var r=new Zw(yI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(pI(r.first()),pI(r.last())),a=r.getIterator(),o=a.getNext();return dI(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=yb.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&yI(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(pI(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),XS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dI(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=mx(),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(yb.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=mx(),o=vI(t,n),s=vI(t,Sb.max());return dI(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(yb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new fI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return hI(e).get("remoteDocumentGlobalKey").next((function(e){return Gk(!!e),e}))}},{key:"Qn",value:function(e,t){return hI(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=tS(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=yb.fromSegments(t.noDocument.path),i=eE(t.noDocument.readTime);n=a_.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Kk();var a=yb.fromSegments(t.unknownDocument.path),o=eE(t.unknownDocument.version);n=a_.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new lb(e[0],e[1]);return fb.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(fb.min()))return n}return a_.newInvalidDocument(e)}}]),e}();function lI(e){return new cI(e)}var fI=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new vx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Zw((function(e,t){return sb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=JS(t.Yn.yt,o);i=i.add(a.path.popLast());var c=KE(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=JS(t.Yn.yt,o.convertToNoDocument(fb.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Rb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(uI);function hI(e){return KS(e,"remoteDocumentGlobal")}function dI(e){return KS(e,"remoteDocumentsV14")}function pI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vI(e,t){var n=t.documentKey.path.toArray();return[e,XS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=sb(n[a],r[a]))return i;return(i=sb(n.length,r.length))||((i=sb(n[n.length-2],r[r.length-2]))||sb(n[n.length-1],r[r.length-1]))}var mI=g((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),gI=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&ex(r.mutation,e,n_.empty(),lb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ix()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ix(),i=wx();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=kx();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=wx();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ix())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=mx(),a=xx(),o=xx();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ix)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),ex(o.mutation,t,o.mutation.getFieldMask(),lb.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new mI(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=xx(),i=new $w((function(e,t){return e-t})),a=Ix();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=N(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||n_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ix()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=_x();c.forEach((function(e){if(!a.has(e)){var n=X_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Rb.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return yb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Rb.resolve(wx()),s=-1,u=a;return o.next((function(t){return Rb.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Rb.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ix())})).next((function(e){return{batchId:s,changes:bx(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new yb(t)).next((function(e){var t=kx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=kx();return this.indexManager.getCollectionParents(e,i).next((function(o){return Rb.forEach(o,(function(o){var s=function(e,t){return new p_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,a_.newInvalidDocument(n)))}));var n=kx();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&ex(a.mutation,i,n_.empty(),lb.now()),C_(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),kI=function(){function e(t){p(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Rb.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Kx(n.createTime)}),Rb.resolve()}},{key:"getNamedQuery",value:function(e,t){return Rb.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:iE(e.bundledQuery),readTime:Kx(e.readTime)}}(t)),Rb.resolve()}}]),e}(),bI=function(){function e(){p(this,e),this.overlays=new $w(yb.comparator),this.es=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Rb.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=wx();return Rb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),Rb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Rb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=wx(),i=t.length+1,a=new yb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Rb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new $w((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=wx(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=wx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Rb.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new QS(t,n));var a=this.es.get(t);void 0===a&&(a=Ix(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),wI=function(){function e(){p(this,e),this.ns=new Zw(_I.ss),this.rs=new Zw(_I.os)}return g(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new _I(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new _I(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new yb(new db([])),r=new _I(n,e),i=new _I(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new yb(new db([])),n=new _I(t,e),r=new _I(t,e+1),i=Ix();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new _I(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),_I=function(){function e(t,n){p(this,e),this.key=t,this._s=n}return g(e,null,[{key:"ss",value:function(e,t){return yb.comparator(e.key,t.key)||sb(e._s,t._s)}},{key:"os",value:function(e,t){return sb(e._s,t._s)||yb.comparator(e.key,t.key)}}]),e}(),xI=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Zw(_I.ss)}return g(e,[{key:"checkEmpty",value:function(e){return Rb.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new GS(i,t,n,r);this.mutationQueue.push(a);var o,s=N(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new _I(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Rb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Rb.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Rb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Rb.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Rb.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new _I(t,0),i=new _I(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Rb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Zw(sb);return t.forEach((function(e){var t=new _I(e,0),i=new _I(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Rb.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;yb.isDocumentKey(i)||(i=i.child(""));var a=new _I(new yb(i),0),o=new Zw(sb);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Rb.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Gk(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Rb.forEach(t.mutations,(function(i){var a=new _I(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new _I(t,0),r=this.gs.firstAfterOrEqual(n);return Rb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Rb.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),SI=function(){function e(t){p(this,e),this.Es=t,this.docs=new $w(yb.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Rb.resolve(n?n.document.mutableCopy():a_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=mx();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():a_.newInvalidDocument(e))})),Rb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=mx(),i=new yb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Eb(xb(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Rb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Kk()}},{key:"As",value:function(e,t){return Rb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new EI(this)}},{key:"getSize",value:function(e){return Rb.resolve(this.size)}}]),e}(),EI=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).Yn=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Rb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(uI),II=function(){function e(t){p(this,e),this.persistence=t,this.Rs=new vx((function(e){return u_(e)}),c_),this.lastRemoteSnapshotVersion=fb.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wI,this.targetCount=0,this.vs=JE.Pn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Rb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Rb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Rb.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Rb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Rb.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new JE(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Rb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Rb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Rb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Rb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Rb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Rb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Rb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Rb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Rb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Rb.resolve(n)}},{key:"containsKey",value:function(e,t){return Rb.resolve(this.Ps.containsKey(t))}}]),e}(),TI=function(){function e(t,n){var r=this;p(this,e),this.Vs={},this.overlays={},this.Ss=new qb(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new II(this),this.indexManager=new OE,this.remoteDocumentCache=new SI((function(e){return r.referenceDelegate.xs(e)})),this.yt=new $S(n),this.Ns=new kI(this.yt)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new xI(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Bk("MemoryPersistence","Starting transaction:",e);var i=new CI(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Rb.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),CI=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Tb),NI=function(){function e(t){p(this,e),this.persistence=t,this.Fs=new wI,this.$s=null}return g(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Kk()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Rb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Rb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Rb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rb.forEach(this.Ls,(function(r){var i=yb.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,fb.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return Rb.or([function(){return Rb.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),RI=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Ab("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wS,{unique:!0}),e.createObjectStore("documentMutations")}(e),AI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Rb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),AI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Rb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:MS});t.createIndex("collectionPathOverlayIndex",FS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",jS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ES});t.createIndex("documentKeyIndex",IS),t.createIndex("collectionGroupIndex",TS)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:PS}).createIndex("sequenceNumberIndex",OS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:DS}).createIndex("documentKeyIndex",LS,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=KE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Rb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Rb.forEach(r,(function(r){Gk(r.userId===n.userId);var i=tE(t.yt,r);return WE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new db(n),o=function(e){return[0,mS(e)]}(a);r.push(t.get(o).next((function(n){return n?Rb.resolve():function(n){return t.put({targetId:0,path:mS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Rb.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:AS});var n=t.store("collectionParents"),r=new DE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:mS(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new db(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],bS(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=nE(r),a=rE(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new yb(db.fromString(i.document.name).popFirst(5)):i.noDocument?yb.fromSegments(i.noDocument.path):i.unknownDocument?yb.fromSegments(i.unknownDocument.path):Kk()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Rb.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=lI(this.yt),a=new TI(NI.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ix();tE(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Rb.forEach(r,(function(e,r){var o=new Fk(r),s=fE.re(n.yt,o),u=a.getIndexManager(o),c=GE.re(o,n.yt,u,a.referenceDelegate);return new gI(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new WS(t,qb.at),e).next()}))}))}}]),e}();function AI(e){e.createObjectStore("targetDocuments",{keyPath:NS}).createIndex("documentTargetsIndex",RS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CS,{unique:!0}),e.createObjectStore("targetGlobal")}var PI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",OI=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Yk(Qk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oI(this,i),this.ii=n+"main",this.yt=new $S(u),this.ri=new Pb(this.ii,this.Xs,new RI(this.yt)),this.Cs=new XE(this.referenceDelegate,this.yt),this.remoteDocumentCache=lI(this.yt),this.Ns=new uE,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&qk("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Yk(Qk.FAILED_PRECONDITION,PI);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new qb(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=nt(et().mark((function n(r){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return LI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Lb(t))return Bk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Bk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return DI(e).get("owner").next((function(e){return Rb.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return LI(e).delete(this.clientId)}},{key:"yi",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=KS(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Rb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=N(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Rb.resolve(!0):DI(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Yk(Qk.FAILED_PRECONDITION,PI);return!1}}return!(!t.networkEnabled||!t.inForeground)||LI(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Bk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new WS(e,qb.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return LI(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return GE.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ME(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return fE.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Bk("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?zS:14===i?qS:13===i?BS:12===i?VS:11===i?US:void Kk();return this.ri.runTransaction(e,o,s,(function(i){return a=new WS(i,r.Ss?r.Ss.next():qb.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw qk("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Yk(Qk.FAILED_PRECONDITION,Ib);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return DI(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Yk(Qk.FAILED_PRECONDITION,PI)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return DI(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=DI(e);return n.get("owner").next((function(e){return t.mi(e)?(Bk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Rb.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(qk("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Bk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return qk("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Gv){qk("Failed to set zombie client id.",Gv)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Gv){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Pb.C()}}]),e}();function DI(e){return KS(e,"owner")}function LI(e){return KS(e,"clientMetadata")}function MI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var FI=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return g(e,null,[{key:"Ci",value:function(t,n){var r,i=Ix(),a=Ix(),o=N(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),jI=function(){function e(){p(this,e),this.xi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(m_(t))return Rb.resolve(null);var r=__(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=S_(t,null,"F"),r=__(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ix.apply(void 0,d(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,S_(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return m_(t)||r.isEqual(fb.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Vk()<=rn.DEBUG&&Bk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),T_(t)),i.Bi(e,o,t,_b(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Zw(R_(e));return t.forEach((function(t,r){C_(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Vk()<=rn.DEBUG&&Bk("QueryEngine","Using full collection scan to execute query:",T_(t)),this.Ni.getDocumentsMatchingQuery(e,t,Sb.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),UI=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new $w(sb),this.Ui=new vx((function(e){return u_(e)}),c_),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return g(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gI(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function VI(e,t,n,r){return new UI(e,t,n,r)}function BI(e,t){return qI.apply(this,arguments)}function qI(){return qI=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ix(),u=N(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=N(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=N(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=N(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function zI(e,t){var n=Hk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Rb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Gk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ix(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function WI(e){var t=Hk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function KI(e,t){var n=Hk(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Jb.EMPTY_BYTE_STRING,fb.min()).withLastLimboFreeSnapshotVersion(fb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=mx(),u=Ix();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(GI(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(fb.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Rb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function GI(e,t,n){var r=Ix(),i=Ix();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=mx();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(fb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Bk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function HI(e,t){var n=Hk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function QI(e,t){var n=Hk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Rb.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new YS(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function YI(e,t,n){return $I.apply(this,arguments)}function $I(){return $I=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hk(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Lb(e.t1)){e.next=12;break}throw e.t1;case 12:Bk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),$I.apply(this,arguments)}function JI(e,t,n){var r=Hk(e),i=fb.min(),a=Ix();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Hk(e),i=r.Ui.get(n);return void 0!==i?Rb.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,__(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:fb.min(),n?a:Ix())})).next((function(e){return eT(r,N_(t),e),{documents:e,Hi:a}}))}))}function XI(e,t){var n=Hk(e),r=Hk(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function ZI(e,t){var n=Hk(e),r=n.Ki.get(t)||fb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,_b(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return eT(n,t,e),e}))}function eT(e,t,n){var r=e.Ki.get(t)||fb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function tT(e,t,n,r){return nT.apply(this,arguments)}function nT(){return nT=nt(et().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Hk(t),o=Ix(),s=mx(),u=N(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,QI(a,function(e){return __(y_(db.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return GI(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){return iT.apply(this,arguments)}function iT(){return iT=nt(et().mark((function e(t,n){var r,i,a,o=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ix(),e.next=3,QI(t,__(iE(n.bundledQuery)));case 3:return i=e.sent,a=Hk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Kx(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Jb.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function oT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function sT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var uT=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Yk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(qk("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),cT=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yk(i.error.code,i.error.message))),a?new e(t,i.state,r):(qk("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),lT=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Cx(),o=0;i&&o<r.activeTargetIds.length;++o)i=$b(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(qk("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),fT=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(qk("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),hT=function(){function e(){p(this,e),this.activeTargetIds=Cx()}return g(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),dT=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new $w(sb),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=aT(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new hT),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return g(e,[{key:"start",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=N(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(aT(this.persistenceKey,i)))&&(o=lT.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=N(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(sT(this.persistenceKey,e));if(n){var r=cT.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(sT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Bk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Bk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Bk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Bk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void qk("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(nt(et().mark((function e(){var r,i,a,o,s,u,c;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=qb.at;if(null!=e)try{var n=JSON.parse(e);Gk("number"==typeof n),t=n}catch(e){qk("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==qb.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new uT(this.currentUser,e,t,n),i=oT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=oT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=sT(this.persistenceKey,e),i=new cT(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return lT.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return uT.Zi(new Fk(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return cT.Zi(r,t)}},{key:"yr",value:function(e){return fT.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Bk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Cx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),pT=function(){function e(){p(this,e),this.Lr=new hT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new hT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),vT=function(){function e(){p(this,e)}return g(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),yT=function(){function e(){var t=this;p(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return g(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Bk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=N(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Bk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=N(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),mT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},gT=function(){function e(t){p(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return g(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),kT=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return g(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Lk;o.setWithCredentials(!0),o.listenOnce(Rk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Nk.NO_ERROR:var t=o.getResponseJson();Bk("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nk.TIMEOUT:Bk("Connection",'RPC "'+e+'" timed out'),a(new Yk(Qk.DEADLINE_EXCEEDED,"Request time out"));break;case Nk.HTTP_ERROR:var n=o.getStatus();if(Bk("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Qk).indexOf(t)>=0?t:Qk.UNKNOWN}(s.status);a(new Yk(u,s.message))}else a(new Yk(Qk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Yk(Qk.UNAVAILABLE,"Connection failed."));break;default:Kk()}}finally{Bk("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Tk(),a=Ck(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ok({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Bk("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new gT({Hr:function(e){l?Bk("Connection","Not sending because WebChannel is closed:",e):(c||(Bk("Connection","Opening WebChannel transport."),u.open(),c=!0),Bk("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Dk.EventType.OPEN,(function(){l||Bk("Connection","WebChannel transport opened.")})),h(u,Dk.EventType.CLOSE,(function(){l||(l=!0,Bk("Connection","WebChannel transport closed"),f.io())})),h(u,Dk.EventType.ERROR,(function(e){l||(l=!0,zk("Connection","WebChannel transport errored:",e),f.io(new Yk(Qk.UNAVAILABLE,"The operation could not be completed")))})),h(u,Dk.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Gk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Bk("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ux[e];if(void 0!==t)return px(t)}(a),s=i.message;void 0===o&&(o=Qk.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Yk(o,s)),u.close()}else Bk("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Ak.STAT_EVENT,(function(e){e.stat===Pk.PROXY?Bk("Connection","Detected buffering proxy"):e.stat===Pk.NOPROXY&&Bk("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Bk("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Bk("RestConnection","Received: ",e),e}),(function(t){throw zk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=mT[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function bT(){return"undefined"!=typeof window?window:null}function wT(){return"undefined"!=typeof document?document:null}function _T(e){return new Bx(e,!0)}var xT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Bk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),ST=function(){function e(t,n,r,i,a,o,s,u){p(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new xT(t,n)}return g(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Qk.RESOURCE_EXHAUSTED?(qk(n.toString()),qk("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Qk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Yk(Qk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Bk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Bk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ET=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return g(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Kk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(Gk(void 0===t||"string"==typeof t),Jb.fromBase64String(t||"")):(Gk(void 0===t||t instanceof Uint8Array),Jb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Qk.UNKNOWN:px(e.code);return new Yk(t,e.message||"")}(o);n=new Ox(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Yx(e,u.document.name),l=Kx(u.document.updateTime),f=u.document.createTime?Kx(u.document.createTime):fb.min(),h=new r_({mapValue:{fields:u.document.fields}}),d=a_.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Ax(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Yx(e,y.document),g=y.readTime?Kx(y.readTime):fb.min(),k=a_.newNoDocument(m,g),b=y.removedTargetIds||[];n=new Ax([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Yx(e,w.document),x=w.removedTargetIds||[];n=new Ax([],x,_,null)}else{if(!("filter"in t))return Kk();t.filter;var S=t.filter;S.targetId;var E=S.count||0,I=new hx(E),T=S.targetId;n=new Px(T,I)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return fb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?fb.min():t.readTime?Kx(t.readTime):fb.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Xx(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=l_(r)?{documents:aS(e,r)}:{query:oS(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=zx(e,t.resumeToken):t.snapshotVersion.compareTo(fb.min())>0&&(n.readTime=qx(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Kk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Xx(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(ST),IT=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return g(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,kr(w(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Gk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Gk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Kx(e.updateTime):Kx(t);return n.isEqual(fb.min())&&(n=Kx(t)),new Q_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Kx(e.commitTime);return this.listener.Zo(n,t)}return Gk(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Xx(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rS(t.yt,e)}))};this.Bo(n)}}]),n}(ST),TT=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return g(n,[{key:"su",value:function(){if(this.nu)throw new Yk(Qk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Yk(Qk.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qk.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Yk(Qk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return g((function e(){p(this,e)}))}());var CT=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return g(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(qk(t),this.ou=!1):Bk("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),NT=g((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=VT(o),!e.t0){e.next=5;break}return Bk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hk(t))._u.add(4),e.next=4,PT(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,RT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new CT(r,i)}));function RT(e){return AT.apply(this,arguments)}function AT(){return AT=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!VT(t)){e.next=18;break}n=N(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),AT.apply(this,arguments)}function PT(e){return OT.apply(this,arguments)}function OT(){return OT=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),OT.apply(this,arguments)}function DT(e,t){var n=Hk(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),UT(n)?jT(n):vC(n).ko()&&MT(n,t))}function LT(e,t){var n=Hk(e),r=vC(n);n.du.delete(t),r.ko()&&FT(n,t),0===n.du.size&&(r.ko()?r.Fo():VT(n)&&n.gu.set("Unknown"))}function MT(e,t){e.yu.Ot(t.targetId),vC(e).zo(t)}function FT(e,t){e.yu.Ot(t),vC(e).Ho(t)}function jT(e){e.yu=new Lx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),vC(e).start(),e.gu.uu()}function UT(e){return VT(e)&&!vC(e).No()&&e.du.size>0}function VT(e){return 0===Hk(e)._u.size}function BT(e){e.yu=void 0}function qT(e){return zT.apply(this,arguments)}function zT(){return zT=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){MT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function WT(e,t){return KT.apply(this,arguments)}function KT(){return KT=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:BT(t),UT(t)?(t.gu.hu(n),jT(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function GT(e,t,n){return HT.apply(this,arguments)}function HT(){return HT=nt(et().mark((function e(t,n,r){var i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Ox&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=N(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Bk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,QT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ax?t.yu.Kt(n):n instanceof Px?t.yu.Jt(n):t.yu.jt(n),r.isEqual(fb.min())){e.next=29;break}return e.prev=14,e.next=17,WI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Jb.EMPTY_BYTE_STRING,n.snapshotVersion)),FT(e,t);var r=new YS(n.target,t,1,n.sequenceNumber);MT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Bk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,QT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),HT.apply(this,arguments)}function QT(e,t,n){return YT.apply(this,arguments)}function YT(){return YT=nt(et().mark((function e(t,n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lb(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,PT(t);case 5:t.gu.set("Offline"),r||(r=function(){return WI(t.localStore)}),t.asyncQueue.enqueueRetryable(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,RT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function $T(e,t){return t().catch((function(n){return QT(e,n,t)}))}function JT(e){return XT.apply(this,arguments)}function XT(){return XT=nt(et().mark((function e(t){var n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hk(t),r=yC(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!ZT(n)){e.next=19;break}return e.prev=3,e.next=6,HI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,eC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,QT(n,e.t0);case 17:e.next=2;break;case 19:tC(n)&&nC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),XT.apply(this,arguments)}function ZT(e){return VT(e)&&e.fu.length<10}function eC(e,t){e.fu.push(t);var n=yC(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function tC(e){return VT(e)&&!yC(e).No()&&e.fu.length>0}function nC(e){yC(e).start()}function rC(e){return iC.apply(this,arguments)}function iC(){return iC=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yC(t).eu();case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e){return oC.apply(this,arguments)}function oC(){return oC=nt(et().mark((function e(t){var n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yC(t),r=N(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function sC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=HS.from(i,n,r),e.next=3,$T(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,JT(t);case 5:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&yC(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dx(i=n.code)||i===Qk.ABORTED){e.next=7;break}return r=t.fu.shift(),yC(t).Mo(),e.next=5,$T(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,JT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:tC(t)&&nC(t);case 5:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Hk(t)).asyncQueue.verifyOperationInProgress(),Bk("RemoteStore","RemoteStore received new credentials"),i=VT(r),r._u.add(3),e.next=6,PT(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,RT(r);case 12:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hk(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,RT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,PT(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e){return e.pu||(e.pu=function(e,t,n){var r=Hk(e);return r.su(),new ET(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:qT.bind(null,e),Zr:WT.bind(null,e),Wo:GT.bind(null,e)}),e.wu.push(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),UT(e)?jT(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:BT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function yC(e){return e.Iu||(e.Iu=function(e,t,n){var r=Hk(e);return r.su(),new IT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:rC.bind(null,e),Zr:cC.bind(null,e),tu:aC.bind(null,e),Zo:sC.bind(null,e)}),e.wu.push(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,JT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Bk("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var mC=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $k,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yk(Qk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function gC(e,t){if(qk("AsyncQueue","".concat(t,": ").concat(e)),Lb(e))return new Yk(Qk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var kC=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||yb.comparator(e.key,n.key)}:function(e,t){return yb.comparator(e.key,t.key)},this.keyedMap=kx(),this.sortedSet=new $w(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),bC=function(){function e(){p(this,e),this.Tu=new $w(yb.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Kk():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),wC=function(){function e(t,n,r,i,a,o,s,u,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&E_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,kC.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),_C=g((function e(){p(this,e),this.Au=void 0,this.listeners=[]})),xC=g((function e(){p(this,e),this.queries=new vx((function(e){return I_(e)}),E_),this.onlineState="Unknown",this.Ru=new Set}));function SC(e,t){return EC.apply(this,arguments)}function EC(){return EC=nt(et().mark((function e(t,n){var r,i,a,o,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new _C),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=gC(e.t0,"Initialization of query '".concat(T_(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&RC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),EC.apply(this,arguments)}function IC(e,t){return TC.apply(this,arguments)}function TC(){return TC=nt(et().mark((function e(t,n){var r,i,a,o,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t){var n,r=Hk(e),i=!1,a=N(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=N(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&RC(r)}function NC(e,t,n){var r=Hk(e),i=r.queries.get(t);if(i){var a,o=N(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function RC(e){e.Ru.forEach((function(e){e.next()}))}var AC=function(){function e(t,n,r){p(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=N(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new wC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=wC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),PC=function(){function e(t,n){p(this,e),this.ku=t,this.byteLength=n}return g(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),OC=function(){function e(t){p(this,e),this.yt=t}return g(e,[{key:"Ji",value:function(e){return Yx(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?tS(this.yt,e.document,!1):a_.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Kx(e)}}]),e}(),DC=function(){function e(t,n,r){p(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LC(t)}return g(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=db.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new OC(this.yt),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=N(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Ix()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tT(this.localStore,new OC(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=N(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,rT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function LC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var MC=g((function e(t){p(this,e),this.key=t})),FC=g((function e(t){p(this,e),this.key=t})),jC=function(){function e(t,n){p(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ix(),this.mutatedKeys=Ix(),this.Gu=R_(t),this.Qu=new kC(this.Gu)}return g(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new bC,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=C_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kk()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new wC(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new bC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ix(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new FC(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new MC(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Ix();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return wC.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),UC=g((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),VC=g((function e(t){p(this,e),this.key=t,this.nc=!1})),BC=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new vx((function(e){return I_(e)}),E_),this.rc=new Map,this.oc=new Set,this.uc=new $w(yb.comparator),this.cc=new Map,this.ac=new wI,this.hc={},this.lc=new Map,this.fc=JE.vn(),this.onlineState="Unknown",this.dc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function qC(e,t){return zC.apply(this,arguments)}function zC(){return zC=nt(et().mark((function e(t,n){var r,i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=LN(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,QI(r.localStore,__(n));case 8:return s=e.sent,r.isPrimaryClient&&DT(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,WC(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function WC(e,t,n,r,i){return KC.apply(this,arguments)}function KC(){return KC=nt(et().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=nt(et().mark((function e(t,n,r,i){var a,o,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,JI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(fN(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,JI(t.localStore,n,!0);case 3:return o=e.sent,s=new jC(n,o.Hi),u=s.Wu(o.documents),c=Rx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),fN(t,r,l.Xu),f=new UC(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function GC(e,t){return HC.apply(this,arguments)}function HC(){return HC=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hk(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!E_(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,YI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),LT(r.remoteStore,i.targetId),cN(r,i.targetId)})).catch(Cb);case 9:e.next=14;break;case 11:return cN(r,i.targetId),e.next=14,YI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function QC(e,t,n){return YC.apply(this,arguments)}function YC(){return YC=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Hk(e),a=lb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ix());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=mx(),u=Ix();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=N(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=tx(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new ix(c.key,l,i_(l.value.mapValue),Y_.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:bx(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new $w(sb)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,pN(i,a.changes);case 9:return e.next=11,JT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=gC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),YC.apply(this,arguments)}function $C(e,t){return JC.apply(this,arguments)}function JC(){return JC=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),e.prev=1,e.next=4,KI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Gk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Gk(n.nc):e.removedDocuments.size>0&&(Gk(n.nc),n.nc=!1))})),e.next=8,pN(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Cb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),JC.apply(this,arguments)}function XC(e,t,n){var r=Hk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Hk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=N(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&RC(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ZC(e,t,n){return eN.apply(this,arguments)}function eN(){return eN=nt(et().mark((function e(t,n,r){var i,a,o,s,u,c;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Hk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new $w(yb.comparator)).insert(o,a_.newNoDocument(o,fb.min())),u=Ix().add(o),c=new Nx(fb.min(),new Map,new Zw(sb),s,u),e.next=9,$C(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),dN(i),e.next=16;break;case 14:return e.next=16,YI(i.localStore,n,!1).then((function(){return cN(i,n,r)})).catch(Cb);case 16:case"end":return e.stop()}}),e)}))),eN.apply(this,arguments)}function tN(e,t){return nN.apply(this,arguments)}function nN(){return nN=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),i=n.batch.batchId,e.prev=1,e.next=4,zI(r.localStore,n);case 4:return a=e.sent,uN(r,i,null),sN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,pN(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Cb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),nN.apply(this,arguments)}function rN(e,t,n){return iN.apply(this,arguments)}function iN(){return iN=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hk(t),e.prev=1,e.next=4,function(e,t){var n=Hk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Gk(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,uN(i,n,r),sN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,pN(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Cb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),iN.apply(this,arguments)}function aN(e,t){return oN.apply(this,arguments)}function oN(){return oN=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VT((r=Hk(t)).remoteStore)||Bk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Hk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=gC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),oN.apply(this,arguments)}function sN(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function uN(e,t,n){var r=Hk(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function cN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=N(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||lN(e,t)}))}function lN(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(LT(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),dN(e))}function fN(e,t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof MC?(e.ac.addReference(a.key,t),hN(e,a)):a instanceof FC?(Bk("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||lN(e,a.key)):Kk()}}catch(o){i.e(o)}finally{i.f()}}function hN(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Bk("SyncEngine","New document in limbo: "+n),e.oc.add(r),dN(e))}function dN(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new yb(db.fromString(t)),r=e.fc.next();e.cc.set(r,new VC(n)),e.uc=e.uc.insert(n,r),DT(e.remoteStore,new YS(__(y_(n.path)),r,2,qb.at))}}function pN(e,t,n){return vN.apply(this,arguments)}function vN(){return vN=nt(et().mark((function e(t,n,r){var i,a,o,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hk(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=FI.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o,s,u,c,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Rb.forEach(n,(function(t){return Rb.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Rb.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Lb(e.t0)){e.next=10;break}throw e.t0;case 10:Bk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=N(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),vN.apply(this,arguments)}function yN(e,t){return mN.apply(this,arguments)}function mN(){return mN=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Hk(t)).currentUser.isEqual(n)){e.next=11;break}return Bk("SyncEngine","User change. New user:",n.toKey()),e.next=5,BI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Yk(Qk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,pN(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),mN.apply(this,arguments)}function gN(e,t){var n=Hk(e),r=n.cc.get(t);if(r&&r.nc)return Ix().add(r.key);var i=Ix(),a=n.rc.get(t);if(!a)return i;var o,s=N(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function kN(e,t){return bN.apply(this,arguments)}function bN(){return bN=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),e.next=3,JI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&fN(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),bN.apply(this,arguments)}function wN(e,t){return _N.apply(this,arguments)}function _N(){return _N=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),e.abrupt("return",ZI(r.localStore,n).then((function(e){return pN(r,e)})));case 2:case"end":return e.stop()}}),e)}))),_N.apply(this,arguments)}function xN(e,t,n,r){return SN.apply(this,arguments)}function SN(){return SN=nt(et().mark((function e(t,n,r,i){var a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Hk(t),e.next=3,function(e,t){var n=Hk(e),r=Hk(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Rb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,JT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(uN(a,n,i||null),sN(a,n),function(e,t){Hk(Hk(e).mutationQueue).An(t)}(a.localStore,n)):Kk();case 11:return e.next=13,pN(a,o);case 13:e.next=16;break;case 15:Bk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function EN(e,t){return IN.apply(this,arguments)}function IN(){return IN=nt(et().mark((function e(t,n){var r,i,a,o,s,u,c,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LN(r=Hk(t)),MN(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,TN(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,dC(r.remoteStore,!0);case 9:o=N(a);try{for(o.s();!(s=o.n()).done;)u=s.value,DT(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return cN(r,t),YI(r.localStore,t,!0)})),LT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,TN(r,c);case 21:return function(e){var t=Hk(e);t.cc.forEach((function(e,n){LT(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new $w(yb.comparator)}(r),r.dc=!1,e.next=25,dC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function TN(e,t,n){return CN.apply(this,arguments)}function CN(){return CN=nt(et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,y,m;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Hk(t),a=[],o=[],s=N(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,QI(i.localStore,__(f[0]));case 11:l=e.sent,h=N(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,kN(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,XI(i.localStore,c);case 36:return m=e.sent,e.next=39,QI(i.localStore,m);case 39:return l=e.sent,e.next=42,WC(i,NN(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),CN.apply(this,arguments)}function NN(e){return v_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function RN(e){var t=Hk(e);return Hk(Hk(t.localStore).persistence).vi()}function AN(e,t,n,r){return PN.apply(this,arguments)}function PN(){return PN=nt(et().mark((function e(t,n,r,i){var a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Hk(t)).dc){e.next=3;break}return e.abrupt("return",void Bk("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ZI(a.localStore,N_(o[0]));case 10:return s=e.sent,u=Nx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Jb.EMPTY_BYTE_STRING),e.next=14,pN(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,YI(a.localStore,n,!0);case 17:return cN(a,n,i),e.abrupt("break",20);case 19:Kk();case 20:case"end":return e.stop()}}),e)}))),PN.apply(this,arguments)}function ON(e,t,n){return DN.apply(this,arguments)}function DN(){return DN=nt(et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=LN(t)).dc){e.next=45;break}a=N(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return Bk("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,XI(i.localStore,s);case 12:return u=e.sent,e.next=15,QI(i.localStore,u);case 15:return c=e.sent,e.next=18,WC(i,NN(u),c.targetId,!1,c.resumeToken);case 18:DT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=N(r),e.prev=30,h=et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,YI(i.localStore,t,!1).then((function(){LT(i.remoteStore,t),cN(i,t)})).catch(Cb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),DN.apply(this,arguments)}function LN(e){var t=Hk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$C.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,t),t.sc.Wo=CC.bind(null,t.eventManager),t.sc.wc=NC.bind(null,t.eventManager),t}function MN(e){var t=Hk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rN.bind(null,t),t}function FN(e,t,n){var r=Hk(e);(function(){var e=nt(et().mark((function e(t,n,r){var i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Hk(e),r=Kx(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(LC(i)),a=new DC(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,pN(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Hk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(zk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var jN=function(){function e(){p(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=_T(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return VI(this.persistence,new jI,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new TI(NI.Bs,this.yt)}},{key:"gc",value:function(e){return new pT}},{key:"terminate",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),UN=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,MN(this.Ac.syncEngine);case 6:return e.next=8,JT(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return VI(this.persistence,new jI,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new iI(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Bb(t,this.persistence);return new Vb(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=MI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?zE.withCacheSize(this.cacheSizeBytes):zE.DEFAULT;return new OI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,bT(),wT(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new pT}}]),n}(jN),VN=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t){var r,i=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof dT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:xN.bind(null,r),$r:AN.bind(null,r),Br:ON.bind(null,r),vi:RN.bind(null,r),Mr:wN.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EN(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=bT();if(!dT.C(t))throw new Yk(Qk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=MI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(UN),BN=function(){function e(){p(this,e)}return g(e,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t,n){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return XC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yN.bind(null,this.syncEngine),e.next=12,dC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new xC}},{key:"createDatastore",value:function(e){var t,n=_T(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new kT(t));return function(e,t,n,r){return new TT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return XC(o.syncEngine,e,0)},a=yT.C()?new yT:new vT,new NT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new BC(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hk(t),Bk("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,PT(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function qN(e,t,n){if(!n)throw new Yk(Qk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zN(e,t,n,r){if(!0===t&&!0===r)throw new Yk(Qk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function WN(e){if(!yb.isDocumentKey(e))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function KN(e){if(yb.isDocumentKey(e))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function GN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Kk()}function HN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yk(Qk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=GN(e);throw new Yk(Qk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function QN(e,t){if(t<=0)throw new Yk(Qk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var YN=new Map,$N=function(){function e(t){var n;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Yk(Qk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Yk(Qk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),JN=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $N({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Yk(Qk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Yk(Qk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $N(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xk;switch(e.type){case"gapi":var t=e.client;return new nb(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Yk(Qk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YN.get(e);t&&(Bk("ComponentProvider","Removing Datastore"),YN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function XN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=HN(e,JN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&zk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Fk.MOCK_USER;else{o=Ct(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Yk(Qk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Fk(u)}e._authCredentials=new Zk(new Jk(o,s))}}var ZN=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new tR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),eR=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),tR=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,y_(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ZN(this.firestore,null,new yb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(eR);function nR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jt(e),qN("collection","path",t),e instanceof JN){var a=db.fromString.apply(db,[t].concat(r));return KN(a),new tR(e,null,a)}if(!(e instanceof ZN||e instanceof tR))throw new Yk(Qk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(db.fromString.apply(db,[t].concat(r)));return KN(o),new tR(e.firestore,null,o)}function rR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jt(e),1===arguments.length&&(t=ob.R()),qN("doc","path",t),e instanceof JN){var a=db.fromString.apply(db,[t].concat(r));return WN(a),new ZN(e,null,new yb(a))}if(!(e instanceof ZN||e instanceof tR))throw new Yk(Qk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(db.fromString.apply(db,[t].concat(r)));return WN(o),new ZN(e.firestore,e instanceof tR?e.converter:null,new yb(o))}function iR(e,t){return e=Jt(e),t=Jt(t),(e instanceof ZN||e instanceof tR)&&(t instanceof ZN||t instanceof tR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function aR(e,t){return e=Jt(e),t=Jt(t),e instanceof eR&&t instanceof eR&&e.firestore===t.firestore&&E_(e._query,t._query)&&e.converter===t.converter}function oR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return nt(et().mark((function r(){var i;return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var sR=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):qk("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),uR=function(){function e(t,n){var r=this;p(this,e),this.Pc=t,this.yt=n,this.metadata=new $k,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=nt(et().mark((function e(){var t,n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new PC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cR=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=nt(et().mark((function e(t){var n,r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Yk(Qk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),i=Xx(r.yt)+"/documents",a={documents:n.map((function(e){return Qx(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=nS(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Gk(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new lx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=nt(et().mark((function e(){var t,n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=yb.fromPath(t);n.mutations.push(new fx(r,n.precondition(r)))})),e.next=7,function(){var e=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hk(t),i=Xx(r.yt)+"/documents",a={writes:n.map((function(e){return rS(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Kk();t=fb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Yk(Qk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(fb.min())?Y_.exists(!1):Y_.updateTime(t):Y_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fb.min()))throw new Yk(Qk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Y_.updateTime(t)}return Y_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),lR=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new xT(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(nt(et().mark((function t(){var n,r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new cR(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Qb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!dx(t)}return!1}}]),e}(),fR=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fk.UNAUTHENTICATED,this.clientId=ob.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Bk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Yk(Qk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new $k;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(nt(et().mark((function n(){var r;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=gC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function hR(e,t){return dR.apply(this,arguments)}function dR(){return dR=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Bk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,BI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),dR.apply(this,arguments)}function pR(e,t){return vR.apply(this,arguments)}function vR(){return vR=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,yR(t);case 3:return r=e.sent,Bk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return fC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return fC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),vR.apply(this,arguments)}function yR(e){return mR.apply(this,arguments)}function mR(){return mR=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Bk("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,hR(t,new jN);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),mR.apply(this,arguments)}function gR(e){return kR.apply(this,arguments)}function kR(){return kR=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Bk("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,pR(t,new BN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),kR.apply(this,arguments)}function bR(e){return yR(e).then((function(e){return e.persistence}))}function wR(e){return yR(e).then((function(e){return e.localStore}))}function _R(e){return gR(e).then((function(e){return e.remoteStore}))}function xR(e){return gR(e).then((function(e){return e.syncEngine}))}function SR(e){return gR(e).then((function(e){return e.datastore}))}function ER(e){return IR.apply(this,arguments)}function IR(){return IR=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=qC.bind(null,n.syncEngine),r.onUnlisten=GC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),IR.apply(this,arguments)}function TR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $k;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sR({next:function(a){t.enqueueAndForget((function(){return IC(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Yk(Qk.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Yk(Qk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new AC(y_(n.path),a,{includeMetadataChanges:!0,Nu:!0});return SC(e,o)},i.next=3,ER(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function CR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $k;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sR({next:function(n){t.enqueueAndForget((function(){return IC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Yk(Qk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new AC(n,a,{includeMetadataChanges:!0,Nu:!0});return SC(e,o)},i.next=3,ER(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var NR=function(){function e(){var t=this;p(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new xT(this,"async_queue_retry"),this.Wc=function(){var e=wT();e&&Bk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=wT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return g(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=wT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new $k;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Lb(e.t0)){e.next=12;break}throw e.t0;case 12:Bk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=mC.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&Kk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=N(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=N(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function RR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=N(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var AR=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new $k,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),PR=function(e){b(n,e);var t=E(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new NR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||DR(this),this._firestoreClient.terminate()}}]),n}(JN);function OR(e){return e._firestoreClient||DR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function DR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new zb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new fR(e._authCredentials,e._appCheckCredentials,e._queue,r)}function LR(e,t,n){var r=new $k;return e.asyncQueue.enqueue(nt(et().mark((function i(){var a;return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,hR(e,n);case 3:return i.next=5,pR(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Qk.FAILED_PRECONDITION||e.code===Qk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:zk("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function MR(e){return function(e){return e.asyncQueue.enqueue(nt(et().mark((function t(){var n,r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bR(e);case 2:return n=t.sent,t.next=5,_R(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Hk(e);return t._u.delete(0),RT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(OR(e=HN(e,PR)))}function FR(e){return function(e){return e.asyncQueue.enqueue(nt(et().mark((function t(){var n,r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bR(e);case 2:return n=t.sent,t.next=5,_R(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hk(t))._u.add(0),e.next=4,PT(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(OR(e=HN(e,PR)))}function jR(e,t){var n=OR(e=HN(e,PR)),r=new AR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new uR(e,t)}(function(e,t){if(e instanceof Uint8Array)return oR(e,t);if(e instanceof ArrayBuffer)return oR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,_T(t));e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FN,t.next=3,xR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function UR(e,t){return function(e,t){return e.asyncQueue.enqueue(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Hk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,wR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(OR(e=HN(e,PR)),t).then((function(t){return t?new eR(e,null,t.query):null}))}function VR(e){if(e._initialized||e._terminated)throw new Yk(Qk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var BR=function(){function e(t){p(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Jb.fromBase64String(t))}catch(t){throw new Yk(Qk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Jb.fromUint8Array(t))}}]),e}(),qR=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vb(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var zR=g((function e(t){p(this,e),this._methodName=t})),WR=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new Yk(Qk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Yk(Qk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return sb(this._lat,e._lat)||sb(this._long,e._long)}}]),e}(),KR=/^__.*__$/,GR=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ix(e,this.data,this.fieldMask,t,this.fieldTransforms):new rx(e,this.data,t,this.fieldTransforms)}}]),e}(),HR=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new ix(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function QR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kk()}}var YR=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return vA(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(QR(this.sa)&&KR.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),$R=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||_T(t)}return g(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new YR({sa:e,methodName:t,fa:n,path:vb.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function JR(e){var t=e._freezeSettings(),n=_T(e._databaseId);return new $R(e._databaseId,!!t.ignoreUndefinedProperties,n)}function XR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);fA("Data must be an object, but it was:",o,r);var s,u,c=cA(r,o);if(a.merge)s=new n_(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=N(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=hA(t,d,n);if(!o.contains(p))throw new Yk(Qk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));yA(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new n_(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new GR(new r_(c),s,u)}var ZR=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zR);function eA(e,t,n){return new YR({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var tA=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new H_(e.path,new U_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(zR),nA=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=eA(this,e,!0),n=this._a.map((function(e){return uA(e,t)})),r=new V_(n);return new H_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zR),rA=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e))._a=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=eA(this,e,!0),n=this._a.map((function(e){return uA(e,t)})),r=new q_(n);return new H_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zR),iA=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).wa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new W_(e.yt,D_(e.yt,this.wa));return new H_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(zR);function aA(e,t,n,r){var i=e.da(1,t,n);fA("Data must be an object, but it was:",i,r);var a=[],o=r_.empty();Gb(r,(function(e,r){var s=pA(t,e,n);r=Jt(r);var u=i.ca(s);if(r instanceof ZR)a.push(s);else{var c=uA(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new n_(a);return new HR(o,s,i.fieldTransforms)}function oA(e,t,n,r,i,a){var o=e.da(1,t,n),s=[hA(t,r,n)],u=[i];if(a.length%2!=0)throw new Yk(Qk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(hA(t,a[c])),u.push(a[c+1]);for(var l=[],f=r_.empty(),h=s.length-1;h>=0;--h)if(!yA(l,s[h])){var d=s[h],p=u[h];p=Jt(p);var v=o.ca(d);if(p instanceof ZR)l.push(d);else{var y=uA(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new n_(l);return new HR(f,m,o.fieldTransforms)}function sA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return uA(n,e.da(r?4:3,t))}function uA(e,t){if(lA(e=Jt(e)))return fA("Unsupported field value:",t,e),cA(e,t);if(e instanceof zR)return function(e,t){if(!QR(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=N(e);try{for(a.s();!(n=a.n()).done;){var o=uA(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Jt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return D_(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=lb.fromDate(e);return{timestampValue:qx(t.yt,n)}}if(e instanceof lb){var r=new lb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qx(t.yt,r)}}if(e instanceof WR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof BR)return{bytesValue:zx(t.yt,e._byteString)};if(e instanceof ZN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Gx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(GN(e)))}(e,t)}function cA(e,t){var n={};return Hb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gb(e,(function(e,r){var i=uA(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function lA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof lb||e instanceof WR||e instanceof BR||e instanceof ZN||e instanceof zR)}function fA(e,t,n){if(!lA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=GN(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function hA(e,t,n){if((t=Jt(t))instanceof qR)return t._internalPath;if("string"==typeof t)return pA(e,t);throw vA("Field path arguments must be of type string or ",e,!1,void 0,n)}var dA=new RegExp("[~\\*/\\[\\]]");function pA(e,t,n){if(t.search(dA)>=0)throw vA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(qR,d(t.split(".")))._internalPath}catch(r){throw vA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function vA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Yk(Qk.INVALID_ARGUMENT,s+e+u)}function yA(e,t){return e.some((function(e){return e.isEqual(t)}))}var mA=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ZN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new gA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(kA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),gA=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return kr(w(n.prototype),"data",this).call(this)}}]),n}(mA);function kA(e,t){return"string"==typeof t?pA(e,t):t instanceof qR?t._internalPath:t._delegate._internalPath}function bA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Yk(Qk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wA=g((function e(){p(this,e)})),_A=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(wA);function xA(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof wA&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof EA})).length,n=e.filter((function(e){return e instanceof SA})).length;if(t>1||t>0&&n>0)throw new Yk(Qk.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=N(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var SA=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return FA(e._query,t),new eR(e.firestore,e.converter,x_(e._query,t))}},{key:"_parse",value:function(e){var t=JR(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){MA(o,a);var u,c=[],l=N(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(LA(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=LA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||MA(o,a),s=sA(n,"where",o,"in"===a||"not-in"===a);return Rw.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_A);var EA=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Aw.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=N(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;FA(r,a),r=x_(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new eR(e.firestore,e.converter,x_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wA);var IA=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qw(t,n);return function(e,t){if(null===g_(e)){var n=k_(e);null!==n&&jA(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new eR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new p_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_A);var TA=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new eR(e.firestore,e.converter,S_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_A);var CA=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=DA(e,this.type,this._docOrFields,this._inclusive);return new eR(e.firestore,e.converter,function(e,t){return new p_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_A);function NA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return CA._create("startAt",t,!0)}function RA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return CA._create("startAfter",t,!1)}var AA=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=DA(e,this.type,this._docOrFields,this._inclusive);return new eR(e.firestore,e.converter,function(e,t){return new p_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_A);function PA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AA._create("endBefore",t,!1)}function OA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return AA._create("endAt",t,!0)}function DA(e,t,n,r){if(n[0]=Jt(n[0]),n[0]instanceof mA)return function(e,t,n,r,i){if(!r)throw new Yk(Qk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=N(w_(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(pw(t,r.key));else{var c=r.data.field(u.field);if(nw(c))throw new Yk(Qk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Iw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=JR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Yk(Qk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!b_(e)&&-1!==c.indexOf("/"))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(db.fromString(c));if(!yb.isDocumentKey(l))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new yb(l);s.push(pw(t,f))}else{var h=sA(n,r,c);s.push(h)}}return new Iw(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function LA(e,t,n){if("string"==typeof(n=Jt(n))){if(""===n)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b_(t)&&-1!==n.indexOf("/"))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(db.fromString(n));if(!yb.isDocumentKey(r))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return pw(e,new yb(r))}if(n instanceof ZN)return pw(e,n._key);throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(GN(n),"."))}function MA(e,t){if(!Array.isArray(e)||0===e.length)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function FA(e,t){if(t.isInequality()){var n=k_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=g_(e);null!==i&&jA(e,r,i)}var a=function(e,t){var n,r=N(e);try{for(r.s();!(n=r.n()).done;){var i,a=N(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Yk(Qk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Yk(Qk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function jA(e,t,n){if(!n.isEqual(t))throw new Yk(Qk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var UA=function(){function e(){p(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(sw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ew(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Kk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Gb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new WR(ew(e.latitude),ew(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=rw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(iw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Zb(e);return new lb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=db.fromString(e);Gk(yS(n));var r=new Wb(n.get(1),n.get(3)),i=new yb(n.popFirst(5));return r.isEqual(t)||qk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function VA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BA=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new BR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZN(this.firestore,null,t)}}]),n}(UA),qA=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),zA=function(e){b(n,e);var t=E(n);function n(e,r,i,a,o,s){var u;return p(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return kr(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new WA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(kA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(mA),WA=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kr(w(n.prototype),"data",this).call(this,e)}}]),n}(zA),KA=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qA(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new WA(n._firestore,n._userDataWriter,r.key,r,new qA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yk(Qk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new WA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new WA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:GA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function GA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kk()}}function HA(e,t){return e instanceof zA&&t instanceof zA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof KA&&t instanceof KA&&e._firestore===t._firestore&&aR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var QA=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new BR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZN(this.firestore,null,t)}}]),n}(UA);function YA(e){e=HN(e,ZN);var t=HN(e.firestore,PR),n=OR(t),r=new QA(t);return function(e,t){var n=new $k;return e.asyncQueue.enqueueAndForget(nt(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Hk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Yk(Qk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=gC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new zA(t,r,e._key,n,new qA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function $A(e){e=HN(e,eR);var t=HN(e.firestore,PR),n=OR(t),r=new QA(t);return function(e,t){var n=new $k;return e.asyncQueue.enqueueAndForget(nt(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=nt(et().mark((function e(t,n,r){var i,a,o,s,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JI(t,n,!0);case 3:i=e.sent,a=new jC(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=gC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new KA(t,r,e,n)}))}function JA(e,t,n){e=HN(e,ZN);var r=HN(e.firestore,PR),i=VA(e.converter,t,n);return tP(r,[XR(JR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Y_.none())])}function XA(e,t,n){e=HN(e,ZN);for(var r=HN(e.firestore,PR),i=JR(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return tP(r,[("string"==typeof(t=Jt(t))||t instanceof qR?oA(i,"updateDoc",e._key,t,n,o):aA(i,"updateDoc",e._key,t)).toMutation(e._key,Y_.exists(!0))])}function ZA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Jt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||RR(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(RR(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ZN)l=HN(e.firestore,PR),f=y_(e._key.path),c={next:function(t){n[u]&&n[u](nP(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=HN(e,eR);l=HN(p.firestore,PR),f=p._query;var v=new QA(l);c={next:function(e){n[u]&&n[u](new KA(l,v,p,e))},error:n[u+1],complete:n[u+2]},bA(e._query)}return function(e,t,n,r){var i=new sR(r),a=new AC(t,i,n);return e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=SC,t.next=3,ER(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=IC,t.next=3,ER(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(OR(l),f,h,c)}function eP(e,t){return function(e,t){var n=new sR(t);return e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hk(e).Ru.add(t),t.next()},t.next=3,ER(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hk(e).Ru.delete(t)},t.next=3,ER(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(OR(e=HN(e,PR)),RR(t)?t:{next:t})}function tP(e,t){return function(e,t){var n=new $k;return e.asyncQueue.enqueueAndForget(nt(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=QC,r.next=3,xR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(OR(e),t)}function nP(e,t,n){var r=n.docs.get(t._key),i=new QA(e);return new zA(e,i,t._key,r,new qA(n.hasPendingWrites,n.fromCache),t.converter)}var rP={maxAttempts:5},iP=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=JR(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aP(e,this._firestore),i=VA(r.converter,t,n),a=XR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Y_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Jt(t))||t instanceof qR?oA(this._dataReader,"WriteBatch.update",i._key,t,n,o):aA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Y_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aP(e,this._firestore);return this._mutations=this._mutations.concat(new lx(t._key,Y_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Yk(Qk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aP(e,t){if((e=Jt(e)).firestore!==t)throw new Yk(Qk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oP=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=aP(e,this._firestore),i=new QA(this._firestore);return kr(w(n.prototype),"get",this).call(this,e).then((function(e){return new zA(t._firestore,i,r._key,e._document,new qA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=JR(t)}return g(e,[{key:"get",value:function(e){var t=this,n=aP(e,this._firestore),r=new BA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Kk();var i=e[0];if(i.isFoundDocument())return new mA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new mA(t._firestore,r,n._key,null,n.converter);throw Kk()}))}},{key:"set",value:function(e,t,n){var r=aP(e,this._firestore),i=VA(r.converter,t,n),a=XR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Jt(t))||t instanceof qR?oA(this._dataReader,"Transaction.update",i._key,t,n,o):aA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function sP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nA("arrayUnion",t)}function uP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jk=e}(Yn),qn(new Xt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new PR(new eb(e.getProvider("auth-internal")),new ib(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yk(Qk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wb(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),tr(Mk,"3.8.0",e),tr(Mk,"3.8.0","esm2017")}();function cP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Yk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lP(){if("undefined"===typeof Uint8Array)throw new Yk("unimplemented","Uint8Arrays are not available in this environment.")}function fP(){if("undefined"==typeof atob)throw new Yk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hP=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return fP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fP(),new e(BR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lP(),new e(BR.fromUint8Array(t))}}]),e}();function dP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pP=function(){function e(){p(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){VR(e=HN(e,PR));var n=OR(e),r=e._freezeSettings(),i=new BN;return LR(n,i,new UN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){VR(e=HN(e,PR));var t=OR(e),n=e._freezeSettings(),r=new BN;return LR(t,r,new VN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Yk(Qk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new $k;return e._queue.enqueueAndForgetEvenWhileRestricted(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pb.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Pb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(MI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),vP=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Wb||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};XN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return MR(this._delegate)}},{key:"disableNetwork",value:function(){return FR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new $k;return e.asyncQueue.enqueueAndForget(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=aN,n.next=3,xR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(OR(e=HN(e,PR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return eP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Yk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new NP(this,nR(this._delegate,e))}catch(t){throw wP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new bP(this,rR(this._delegate,e))}catch(t){throw wP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new IP(this,function(e,t){if(e=HN(e,JN),qN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Yk(Qk.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new eR(e,null,function(e){return new p_(db.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw wP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=HN(e,PR);var r=Object.assign(Object.assign({},rP),n);return function(e){if(e.maxAttempts<1)throw new Yk(Qk.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new $k;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){var a;return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,SR(e);case 2:a=i.sent,new lR(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(OR(e),(function(n){return t(new oP(e,n))}),r)}(this._delegate,(function(n){return e(new mP(t,n))}))}},{key:"batch",value:function(){var e=this;return OR(this._delegate),new gP(new iP(this._delegate,(function(t){return tP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return jR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return UR(this._delegate,e).then((function(e){return e?new IP(t,e):null}))}}]),e}(),yP=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new hP(new BR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return bP.forKey(t,this.firestore,null)}}]),n}(UA);var mP=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new yP(t)}return g(e,[{key:"get",value:function(e){var t=this,n=RP(e);return this._delegate.get(n).then((function(e){return new SP(t._firestore,new zA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=RP(e);return n?(cP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=RP(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=RP(e);return this._delegate.delete(t),this}}]),e}(),gP=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=RP(e);return n?(cP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=RP(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=RP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),kP=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new WA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new EP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new yP(t),n),i.set(n,a)),a}}]),e}();kP.INSTANCES=new WeakMap;var bP=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yP(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new NP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new NP(this.firestore,nR(this._delegate,e))}catch(t){throw wP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Jt(e))instanceof ZN&&iR(this._delegate,e)}},{key:"set",value:function(e,t){t=cP("DocumentReference.set",t);try{return t?JA(this._delegate,e,t):JA(this._delegate,e)}catch(n){throw wP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?XA(this._delegate,e):XA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw wP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return tP(HN(e.firestore,PR),[new lx(e._key,Y_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_P(n),a=xP(n,(function(t){return new SP(e.firestore,new zA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ZA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?YA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HN(e,ZN);var t=HN(e.firestore,PR);return TR(OR(t),e._key,{source:"server"}).then((function(n){return nP(t,e,n)}))}(this._delegate):function(e){e=HN(e,ZN);var t=HN(e.firestore,PR);return TR(OR(t),e._key).then((function(n){return nP(t,e,n)}))}(this._delegate),t.then((function(e){return new SP(n.firestore,new zA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Yk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new ZN(n._delegate,r,new yb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new ZN(n._delegate,r,t))}}]),e}();function wP(e,t,n){return e.message=e.message.replace(t,n),e}function _P(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!dP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function xP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dP(e[0])?e[0]:dP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var SP=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new bP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return HA(this._delegate,e._delegate)}}]),e}(),EP=function(e){b(n,e);var t=E(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Kk()}(void 0!==t),t}}]),n}(SP),IP=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yP(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,xA(this._delegate,function(e,t,n){var r=t,i=kA("where",e);return SA._create(i,r,n)}(t,n,r)))}catch(i){throw wP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,xA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=kA("orderBy",e);return IA._create(r,n)}(t,n)))}catch(r){throw wP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,xA(this._delegate,function(e){return QN("limit",e),TA._create("limit",e,"F")}(t)))}catch(n){throw wP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,xA(this._delegate,function(e){return QN("limitToLast",e),TA._create("limitToLast",e,"L")}(t)))}catch(n){throw wP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,xA(this._delegate,NA.apply(void 0,arguments)))}catch(t){throw wP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,xA(this._delegate,RA.apply(void 0,arguments)))}catch(t){throw wP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,xA(this._delegate,PA.apply(void 0,arguments)))}catch(t){throw wP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,xA(this._delegate,OA.apply(void 0,arguments)))}catch(t){throw wP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return aR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?$A(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=HN(e,eR);var t=HN(e.firestore,PR),n=OR(t),r=new QA(t);return CR(n,e._query,{source:"server"}).then((function(n){return new KA(t,r,e,n)}))}(this._delegate):function(e){e=HN(e,eR);var t=HN(e.firestore,PR),n=OR(t),r=new QA(t);return bA(e._query),CR(n,e._query).then((function(n){return new KA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new CP(n.firestore,new KA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_P(n),a=xP(n,(function(t){return new CP(e.firestore,new KA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ZA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),TP=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new EP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),CP=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new IP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new EP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new EP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return HA(this._delegate,e._delegate)}}]),e}(),NP=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new bP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new bP(this.firestore,void 0===e?rR(this._delegate):rR(this._delegate,e))}catch(t){throw wP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=HN(e.firestore,PR),r=rR(e),i=VA(e.converter,t);return tP(n,[XR(JR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Y_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new bP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return iR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(kP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(IP);function RP(e){return HN(e,ZN)}var AP=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(qR,n)}return g(e,[{key:"isEqual",value:function(e){return(e=Jt(e))instanceof qR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(vb.keyField().canonicalString())}}]),e}(),PP=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new tA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ZR("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=sP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=uP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new iA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),OP={Firestore:vP,GeoPoint:WR,Timestamp:lb,Blob:hP,Transaction:mP,WriteBatch:gP,DocumentReference:bP,DocumentSnapshot:SP,Query:IP,QueryDocumentSnapshot:EP,QuerySnapshot:CP,CollectionReference:NP,FieldPath:AP,FieldValue:PP,setLogLevel:function(e){!function(e){Uk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function DP(e,t,n){return LP.apply(this,arguments)}function LP(){return(LP=nt(et().mark((function e(t,n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_p.auth().createUserWithEmailAndPassword(t,n);case 2:return e.next=4,_p.auth().currentUser.updateProfile({displayName:r});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MP(e,t){return FP.apply(this,arguments)}function FP(){return(FP=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_p.auth().signInWithEmailAndPassword(t,n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jP(e){return UP.apply(this,arguments)}function UP(){return(UP=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,"google"===t&&(n=new _p.auth.GoogleAuthProvider),e.next=4,_p.auth().signInWithPopup(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VP(){return(VP=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_p.auth().sendPasswordResetEmail(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BP(){return qP.apply(this,arguments)}function qP(){return(qP=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_p.auth().signOut();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){!function(e,t){e.INTERNAL.registerComponent(new Xt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},OP)))}(e,(function(e,t){return new vP(e,t,new pP)})),e.registerVersion("@firebase/firestore-compat","0.3.0")}(_p);var zP=function(){var e=function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jP(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return(0,xp.jsx)("div",{children:(0,xp.jsx)("img",{width:"250",height:"70",onClick:function(){return e("google")},alt:"google signin",src:"/imgs/btn_google_signin.png"})})};function WP(e,t){return function(){return e.apply(t,arguments)}}var KP=Object.prototype.toString,GP=Object.getPrototypeOf,HP=function(e){return function(t){var n=KP.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),QP=function(e){return e=e.toLowerCase(),function(t){return HP(t)===e}},YP=function(e){return function(t){return typeof t===e}},$P=Array.isArray,JP=YP("undefined");var XP=QP("ArrayBuffer");var ZP=YP("string"),eO=YP("function"),tO=YP("number"),nO=function(e){return null!==e&&"object"===typeof e},rO=function(e){if("object"!==HP(e))return!1;var t=GP(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iO=QP("Date"),aO=QP("File"),oO=QP("Blob"),sO=QP("FileList"),uO=QP("URLSearchParams");function cO(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.allOwnKeys,o=void 0!==a&&a;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),$P(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var s,u=o?Object.getOwnPropertyNames(e):Object.keys(e),c=u.length;for(n=0;n<c;n++)s=u[n],t.call(null,e[s],s,e)}}function lO(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var fO="undefined"===typeof self?"undefined"===typeof global?void 0:global:self,hO=function(e){return!JP(e)&&e!==fO};var dO,pO=(dO="undefined"!==typeof Uint8Array&&GP(Uint8Array),function(e){return dO&&e instanceof dO}),vO=QP("HTMLFormElement"),yO=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),mO=QP("RegExp"),gO=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};cO(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},kO={isArray:$P,isArrayBuffer:XP,isBuffer:function(e){return null!==e&&!JP(e)&&null!==e.constructor&&!JP(e.constructor)&&eO(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||KP.call(e)===t||eO(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&XP(e.buffer)},isString:ZP,isNumber:tO,isBoolean:function(e){return!0===e||!1===e},isObject:nO,isPlainObject:rO,isUndefined:JP,isDate:iO,isFile:aO,isBlob:oO,isRegExp:mO,isFunction:eO,isStream:function(e){return nO(e)&&eO(e.pipe)},isURLSearchParams:uO,isTypedArray:pO,isFileList:sO,forEach:cO,merge:function e(){for(var t=hO(this)&&this||{},n=t.caseless,r={},i=function(t,i){var a=n&&lO(r,i)||i;rO(r[a])&&rO(t)?r[a]=e(r[a],t):rO(t)?r[a]=e({},t):$P(t)?r[a]=t.slice():r[a]=t},a=0,o=arguments.length;a<o;a++)arguments[a]&&cO(arguments[a],i);return r},extend:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.allOwnKeys;return cO(t,(function(t,r){n&&eO(t)?e[r]=WP(t,n):e[r]=t}),{allOwnKeys:i}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&GP(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:HP,kindOfTest:QP,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if($P(e))return e;var t=e.length;if(!tO(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:vO,hasOwnProperty:yO,hasOwnProp:yO,reduceDescriptors:gO,freezeMethods:function(e){gO(e,(function(t,n){if(eO(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];eO(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return $P(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:lO,global:fO,isContextDefined:hO,toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(nO(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=$P(n)?[]:{};return cO(n,(function(t,n){var a=e(t,r+1);!JP(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function bO(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}kO.inherits(bO,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kO.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var wO=bO.prototype,_O={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){_O[e]={value:e}})),Object.defineProperties(bO,_O),Object.defineProperty(wO,"isAxiosError",{value:!0}),bO.from=function(e,t,n,r,i,a){var o=Object.create(wO);return kO.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),bO.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var xO=bO,SO=n(473);function EO(e){return kO.isPlainObject(e)||kO.isArray(e)}function IO(e){return kO.endsWith(e,"[]")?e.slice(0,-2):e}function TO(e,t,n){return e?e.concat(t).map((function(e,t){return e=IO(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var CO=kO.toFlatObject(kO,{},null,(function(e){return/^is[A-Z]/.test(e)}));var NO=function(e,t,n){if(!kO.isObject(e))throw new TypeError("target must be an object");t=t||new(SO||FormData);var r,i=(n=kO.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!kO.isUndefined(t[e])}))).metaTokens,a=n.visitor||l,o=n.dots,s=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&((r=t)&&kO.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!kO.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(kO.isDate(e))return e.toISOString();if(!u&&kO.isBlob(e))throw new xO("Blob is not supported. Use a Buffer instead.");return kO.isArrayBuffer(e)||kO.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){var a=e;if(e&&!r&&"object"===typeof e)if(kO.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(kO.isArray(e)&&function(e){return kO.isArray(e)&&!e.some(EO)}(e)||kO.isFileList(e)||kO.endsWith(n,"[]")&&(a=kO.toArray(e)))return n=IO(n),a.forEach((function(e,r){!kO.isUndefined(e)&&null!==e&&t.append(!0===s?TO([n],r,o):null===s?n:n+"[]",c(e))})),!1;return!!EO(e)||(t.append(TO(r,n,o),c(e)),!1)}var f=[],h=Object.assign(CO,{defaultVisitor:l,convertValue:c,isVisitable:EO});if(!kO.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!kO.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),kO.forEach(n,(function(n,i){!0===(!(kO.isUndefined(n)||null===n)&&a.call(t,n,kO.isString(i)?i.trim():i,r,h))&&e(n,r?r.concat(i):[i])})),f.pop()}}(e),t};function RO(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function AO(e,t){this._pairs=[],e&&NO(e,this,t)}var PO=AO.prototype;PO.append=function(e,t){this._pairs.push([e,t])},PO.toString=function(e){var t=e?function(t){return e.call(this,t,RO)}:RO;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var OO=AO;function DO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LO(e,t,n){if(!t)return e;var r,i=n&&n.encode||DO,a=n&&n.serialize;if(r=a?a(t,n):kO.isURLSearchParams(t)?t.toString():new OO(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var MO=function(){function e(){p(this,e),this.handlers=[]}return g(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){kO.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),FO=MO,jO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UO="undefined"!==typeof URLSearchParams?URLSearchParams:OO,VO=FormData,BO=function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),qO="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,zO={isBrowser:!0,classes:{URLSearchParams:UO,FormData:VO,Blob:Blob},isStandardBrowserEnv:BO,isStandardBrowserWebWorkerEnv:qO,protocols:["http","https","file","blob","url","data"]};var WO=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&kO.isArray(r)?r.length:a,s?(kO.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&kO.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&kO.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(kO.isFormData(e)&&kO.isFunction(e.entries)){var n={};return kO.forEachEntry(e,(function(e,r){t(function(e){return kO.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},KO={"Content-Type":void 0};var GO={transitional:jO,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=kO.isObject(e);if(a&&kO.isHTMLForm(e)&&(e=new FormData(e)),kO.isFormData(e))return i&&i?JSON.stringify(WO(e)):e;if(kO.isArrayBuffer(e)||kO.isBuffer(e)||kO.isStream(e)||kO.isFile(e)||kO.isBlob(e))return e;if(kO.isArrayBufferView(e))return e.buffer;if(kO.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return NO(e,new zO.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return zO.isNode&&kO.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=kO.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return NO(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(kO.isString(e))try{return(t||JSON.parse)(e),kO.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||GO.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&kO.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw xO.from(a,xO.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zO.classes.FormData,Blob:zO.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};kO.forEach(["delete","get","head"],(function(e){GO.headers[e]={}})),kO.forEach(["post","put","patch"],(function(e){GO.headers[e]=kO.merge(KO)}));var HO=GO,QO=kO.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YO=Symbol("internals");function $O(e){return e&&String(e).trim().toLowerCase()}function JO(e){return!1===e||null==e?e:kO.isArray(e)?e.map(JO):String(e)}function XO(e,t,n,r){return kO.isFunction(r)?r.call(this,t,n):kO.isString(t)?kO.isString(r)?-1!==t.indexOf(r):kO.isRegExp(r)?r.test(t):void 0:void 0}var ZO=function(e,t){function n(e){p(this,n),e&&this.set(e)}return g(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=$O(t);if(!i)throw new Error("header name must be a non-empty string");var a=kO.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=JO(e))}var a=function(e,t){return kO.forEach(e,(function(e,n){return i(e,n,t)}))};return kO.isPlainObject(e)||e instanceof this.constructor?a(e,t):kO.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&QO[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=$O(e)){var n=kO.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(kO.isFunction(t))return t.call(this,r,n);if(kO.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=$O(e)){var n=kO.findKey(this,e);return!(!n||t&&!XO(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=$O(e)){var i=kO.findKey(n,e);!i||t&&!XO(0,n[i],i,t)||(delete n[i],r=!0)}}return kO.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(e){var t=this,n={};return kO.forEach(this,(function(r,i){var a=kO.findKey(n,i);if(a)return t[a]=JO(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=JO(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return kO.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&kO.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=f(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[YO]=this[YO]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=$O(e);t[r]||(!function(e,t){var n=kO.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return kO.isArray(e)?e.forEach(r):r(e),this}}]),n}();ZO.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),kO.freezeMethods(ZO.prototype),kO.freezeMethods(ZO);var eD=ZO;function tD(e,t){var n=this||HO,r=t||n,i=eD.from(r.headers),a=r.data;return kO.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function nD(e){return!(!e||!e.__CANCEL__)}function rD(e,t,n){xO.call(this,null==e?"canceled":e,xO.ERR_CANCELED,t,n),this.name="CanceledError"}kO.inherits(rD,xO,{__CANCEL__:!0});var iD=rD;var aD=zO.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),kO.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),kO.isString(r)&&o.push("path="+r),kO.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function oD(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var sD=zO.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=kO.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var uD=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function cD(e,t){var n=0,r=uD(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var lD="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=eD.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}kO.isFormData(i)&&(zO.isStandardBrowserEnv||zO.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=oD(e.baseURL,e.url);function h(){if(u){var r=eD.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new xO("Request failed with status code "+n.status,[xO.ERR_BAD_REQUEST,xO.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),LO(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new xO("Request aborted",xO.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new xO("Network Error",xO.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||jO;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new xO(t,r.clarifyTimeoutError?xO.ETIMEDOUT:xO.ECONNABORTED,e,u)),u=null},zO.isStandardBrowserEnv){var d=(e.withCredentials||sD(f))&&e.xsrfCookieName&&aD.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&kO.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),kO.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",cD(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",cD(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new iD(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===zO.protocols.indexOf(p)?n(new xO("Unsupported protocol "+p+":",xO.ERR_BAD_REQUEST,e)):u.send(i||null)}))},fD={http:null,xhr:lD};kO.forEach(fD,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var hD=function(e){for(var t,n,r=(e=kO.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=kO.isString(t)?fD[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new xO("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(kO.hasOwnProp(fD,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!kO.isFunction(n))throw new TypeError("adapter is not a function");return n};function dD(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iD(null,e)}function pD(e){return dD(e),e.headers=eD.from(e.headers),e.data=tD.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hD(e.adapter||HO.adapter)(e).then((function(t){return dD(e),t.data=tD.call(e,e.transformResponse,t),t.headers=eD.from(t.headers),t}),(function(t){return nD(t)||(dD(e),t&&t.response&&(t.response.data=tD.call(e,e.transformResponse,t.response),t.response.headers=eD.from(t.response.headers))),Promise.reject(t)}))}var vD=function(e){return e instanceof eD?e.toJSON():e};function yD(e,t){t=t||{};var n={};function r(e,t,n){return kO.isPlainObject(e)&&kO.isPlainObject(t)?kO.merge.call({caseless:n},e,t):kO.isPlainObject(t)?kO.merge({},t):kO.isArray(t)?t.slice():t}function i(e,t,n){return kO.isUndefined(t)?kO.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!kO.isUndefined(t))return r(void 0,t)}function o(e,t){return kO.isUndefined(t)?kO.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(vD(e),vD(t),!0)}};return kO.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);kO.isUndefined(o)&&a!==s||(n[r]=o)})),n}var mD="1.2.1",gD={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){gD[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var kD={};gD.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.1] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new xO(r(i," has been removed"+(t?" in "+t:"")),xO.ERR_DEPRECATED);return t&&!kD[i]&&(kD[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var bD={assertOptions:function(e,t,n){if("object"!==typeof e)throw new xO("options must be an object",xO.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new xO("option "+a+" must be "+u,xO.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new xO("Unknown option "+a,xO.ERR_BAD_OPTION)}},validators:gD},wD=bD.validators,_D=function(){function e(t){p(this,e),this.defaults=t,this.interceptors={request:new FO,response:new FO}}return g(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=yD(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&bD.assertOptions(i,{silentJSONParsing:wD.transitional(wD.boolean),forcedJSONParsing:wD.transitional(wD.boolean),clarifyTimeoutError:wD.transitional(wD.boolean)},!1),void 0!==a&&bD.assertOptions(a,{encode:wD.function,serialize:wD.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&kO.merge(o.common,o[t.method]))&&kO.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=eD.concat(n,o);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[pD.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],y=s[h++];try{p=v(p)}catch(Gc){y.call(this,Gc);break}}try{c=pD.call(this,p)}catch(Gc){return Promise.reject(Gc)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return LO(oD((e=yD(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();kO.forEach(["delete","get","head","options"],(function(e){_D.prototype[e]=function(t,n){return this.request(yD(n||{},{method:e,url:t,data:(n||{}).data}))}})),kO.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(yD(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}_D.prototype[e]=t(),_D.prototype[e+"Form"]=t(!0)}));var xD=_D,SD=function(){function e(t){if(p(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new iD(e,t,i),n(r.reason))}))}return g(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),ED=SD;var ID=function e(t){var n=new xD(t),r=WP(xD.prototype.request,n);return kO.extend(r,xD.prototype,n,{allOwnKeys:!0}),kO.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(yD(t,n))},r}(HO);ID.Axios=xD,ID.CanceledError=iD,ID.CancelToken=ED,ID.isCancel=nD,ID.VERSION=mD,ID.toFormData=NO,ID.AxiosError=xO,ID.Cancel=ID.CanceledError,ID.all=function(e){return Promise.all(e)},ID.spread=function(e){return function(t){return e.apply(null,t)}},ID.isAxiosError=function(e){return kO.isObject(e)&&!0===e.isAxiosError},ID.mergeConfig=yD,ID.AxiosHeaders=eD,ID.formToJSON=function(e){return WO(kO.isHTMLForm(e)?new FormData(e):e)},ID.default=ID;var TD=ID;var CD=function(){var e=(0,i.useContext)(Sp).currentUser,t=f((0,i.useState)(""),2),n=t[0],r=t[1],a=f((0,i.useState)(""),2),o=(a[0],a[1],f((0,i.useState)(""),2)),s=o[0],u=o[1],c=function(){var e=nt(et().mark((function e(t){var n,i,a,o,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target.elements,i=n.displayName,a=n.email,o=n.passwordOne,s=n.passwordTwo,o.value===s.value){e.next=5;break}return u("Passwords do not match"),e.abrupt("return",!1);case 5:return r(i.value),e.prev=6,e.next=9,DP(a.value,o.value,i.value);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){var t=function(){var t=nt(et().mark((function t(r){var i,a,o,s;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=26;break}if(!e._delegate.displayName){t.next=15;break}return t.prev=2,t.next=5,TD.post("https://cs554-final-project.herokuapp.com/user",{username:e._delegate.displayName,email:e._delegate.email,googleAuth:!0});case 5:i=t.sent,a=i.data,console.log("POOP",a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:t.next=26;break;case 15:return t.prev=15,t.next=18,TD.post("https://cs554-final-project.herokuapp.com/user",{username:n,email:e._delegate.email,googleAuth:!1});case 18:o=t.sent,s=o.data,console.log("POOP",s),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(15),console.log(t.t1);case 26:case"end":return t.stop()}}),t,null,[[2,10],[15,23]])})));return function(e){return t.apply(this,arguments)}}();t()}),[e,n]),e?(0,xp.jsx)(je,{to:"/"}):(0,xp.jsxs)("div",{className:"card",children:[(0,xp.jsx)("h1",{children:"Sign up"}),s&&(0,xp.jsx)("h4",{className:"error",children:s}),(0,xp.jsxs)("form",{onSubmit:c,children:[(0,xp.jsx)("div",{className:"form-group",children:(0,xp.jsxs)("label",{children:["Name:",(0,xp.jsx)("input",{className:"form-control",required:!0,name:"displayName",type:"text",placeholder:"Name"})]})}),(0,xp.jsx)("div",{className:"form-group",children:(0,xp.jsxs)("label",{children:["Email:",(0,xp.jsx)("input",{className:"form-control",required:!0,name:"email",type:"email",placeholder:"Email"})]})}),(0,xp.jsx)("div",{className:"form-group",children:(0,xp.jsxs)("label",{children:["Password:",(0,xp.jsx)("input",{className:"form-control",id:"passwordOne",name:"passwordOne",type:"password",placeholder:"Password",autoComplete:"off",required:!0})]})}),(0,xp.jsx)("div",{className:"form-group",children:(0,xp.jsxs)("label",{children:["Confirm Password:",(0,xp.jsx)("input",{className:"form-control",name:"passwordTwo",type:"password",placeholder:"Confirm Password",autoComplete:"off",required:!0})]})}),(0,xp.jsx)("button",{id:"submitButton",name:"submitButton",className:"button",type:"submit",children:"Sign Up"})]}),(0,xp.jsx)("br",{}),(0,xp.jsx)(zP,{})]})};var ND=function(){var e=f((0,i.useState)([]),2),t=e[0],n=e[1],r=f((0,i.useState)(null),2),a=r[0],o=r[1];(0,i.useEffect)((function(){var e=function(){var e=nt(et().mark((function e(t){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,TD.get("https://cs554-final-project.herokuapp.com/genre/getGenres");case 3:r=e.sent,i=r.data,console.log("test ",i),n(i),o(i[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();e()}),[]);var s=0,u=t&&t.length>0&&t.map((function(e){return s++,e===a?(0,xp.jsx)("button",{className:"selectedGenre",onClick:function(e){e.preventDefault()},children:e},s):(0,xp.jsx)("button",{className:"genre",onClick:function(t){t.preventDefault(),o(e)},children:e},s)}));return(0,xp.jsxs)("div",{className:"home-card",children:[(0,xp.jsx)("h2",{children:"Find a game!"}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:"Choose a genre to race on!"}),0===t.length&&(0,xp.jsx)("p",{children:"There aren't any genres to pick from. Create one now via the 'Create Genres & Quotes' tab!"}),u&&(0,xp.jsx)("div",{children:u})]}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:"Public Match"}),(0,xp.jsx)("p",{children:"Play against other random players on the site's server!"}),a?(0,xp.jsx)($e,{to:"/game/public",state:{genre:a},children:"Public Match"}):(0,xp.jsx)("button",{children:"Public Match"})]})]})},RD=Object.create(null);RD.open="0",RD.close="1",RD.ping="2",RD.pong="3",RD.message="4",RD.upgrade="5",RD.noop="6";var AD=Object.create(null);Object.keys(RD).forEach((function(e){AD[RD[e]]=e}));for(var PD={type:"error",data:"parser error"},OD="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),DD="function"===typeof ArrayBuffer,LD=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},MD=function(e,t,n){var r,i=e.type,a=e.data;return OD&&a instanceof Blob?t?n(a):LD(a,n):DD&&(a instanceof ArrayBuffer||(r=a,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?t?n(a):LD(new Blob([a]),n):n(RD[i]+(a||""))},FD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jD="undefined"===typeof Uint8Array?[]:new Uint8Array(256),UD=0;UD<FD.length;UD++)jD[FD.charCodeAt(UD)]=UD;var VD="function"===typeof ArrayBuffer,BD=function(e,t){if(VD){var n=function(e){var t,n,r,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),l=new Uint8Array(c);for(t=0;t<s;t+=4)n=jD[e.charCodeAt(t)],r=jD[e.charCodeAt(t+1)],i=jD[e.charCodeAt(t+2)],a=jD[e.charCodeAt(t+3)],l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&a;return c}(e);return qD(n,t)}return{base64:!0,data:e}},qD=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},zD=function(e,t){if("string"!==typeof e)return{type:"message",data:qD(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:BD(e.substring(1),t)}:AD[n]?e.length>1?{type:AD[n],data:e.substring(1)}:{type:AD[n]}:PD},WD=String.fromCharCode(30);function KD(e){if(e)return function(e){for(var t in KD.prototype)e[t]=KD.prototype[t];return e}(e)}KD.prototype.on=KD.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},KD.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},KD.prototype.off=KD.prototype.removeListener=KD.prototype.removeAllListeners=KD.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},KD.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},KD.prototype.emitReserved=KD.prototype.emit,KD.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},KD.prototype.hasListeners=function(e){return!!this.listeners(e).length};var GD="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function HD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var QD=setTimeout,YD=clearTimeout;function $D(e,t){t.useNativeTimers?(e.setTimeoutFn=QD.bind(GD),e.clearTimeoutFn=YD.bind(GD)):(e.setTimeoutFn=setTimeout.bind(GD),e.clearTimeoutFn=clearTimeout.bind(GD))}var JD,XD=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e)).description=r,a.context=i,a.type="TransportError",a}return g(n)}(T(Error)),ZD=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).writable=!1,$D(x(r),e),r.opts=e,r.query=e.query,r.readyState="",r.socket=e.socket,r}return g(n,[{key:"onError",value:function(e,t,r){return kr(w(n.prototype),"emitReserved",this).call(this,"error",new XD(e,t,r)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,kr(w(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=zD(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){kr(w(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",kr(w(n.prototype),"emitReserved",this).call(this,"close",e)}}]),n}(KD),eL="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),tL={},nL=0,rL=0;function iL(e){var t="";do{t=eL[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function aL(){var e=iL(+new Date);return e!==JD?(nL=0,JD=e):e+"."+iL(nL++)}for(;rL<64;rL++)tL[eL[rL]]=rL;function oL(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function sL(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}var uL=!1;try{uL="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(lW){}var cL=uL;function lL(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||cL))return new XMLHttpRequest}catch(n){}if(!t)try{return new(GD[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function fL(){}var hL=null!=new lL({xdomain:!1}).responseType,dL=function(e){b(n,e);var t=E(n);function n(e){var r;if(p(this,n),(r=t.call(this,e)).polling=!1,"undefined"!==typeof location){var i="https:"===location.protocol,a=location.port;a||(a=i?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||a!==e.port,r.xs=e.secure!==i}var o=e&&e.forceBase64;return r.supportsBinary=hL&&!o,r}return g(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(WD),r=[],i=0;i<n.length;i++){var a=zD(n[i],t);if(r.push(a),"error"===a.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),i=0;e.forEach((function(e,a){MD(e,!1,(function(e){r[a]=e,++i===n&&t(r.join(WD))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=aL()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=oL(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new pL(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(ZD),pL=function(e){b(n,e);var t=E(n);function n(e,r){var i;return p(this,n),$D(x(i=t.call(this)),r),i.opts=r,i.method=r.method||"GET",i.uri=e,i.async=!1!==r.async,i.data=void 0!==r.data?r.data:null,i.create(),i}return g(n,[{key:"create",value:function(){var e=this,t=HD(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new lL(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}catch(a){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{r.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(a){return void this.setTimeoutFn((function(){e.onError(a)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=fL,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(KD);if(pL.requestsCount=0,pL.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",vL);else if("function"===typeof addEventListener){addEventListener("onpagehide"in GD?"pagehide":"unload",vL,!1)}function vL(){for(var e in pL.requests)pL.requests.hasOwnProperty(e)&&pL.requests[e].abort()}var yL="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},mL=GD.WebSocket||GD.MozWebSocket,gL="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),kL=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return g(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=gL?{}:HD(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=gL?new mL(e,t,n):t?new mL(e,t):new mL(e)}catch(lW){return this.emitReserved("error",lW)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(n){var r=e[n],i=n===e.length-1;MD(r,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(n){}i&&yL((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n(r)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=aL()),this.supportsBinary||(e.b64=1);var r=oL(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!mL}}]),n}(ZD),bL={websocket:kL,polling:dL},wL=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_L=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xL(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=wL.exec(e||""),a={},o=14;o--;)a[_L[o]]=i[o]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,a.query),a}var SL=function(e){b(n,e);var t=E(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p(this,n),r=t.call(this),e&&"object"===typeof e&&(i=e,e=null),e?(e=xL(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=xL(i.host).host),$D(x(r),i),r.secure=null!=i.secure?i.secure:"undefined"!==typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=r.secure?"443":"80"),r.hostname=i.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=i.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=i.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"===typeof r.opts.query&&(r.opts.query=sL(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&(r.beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r.beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return g(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new bL[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),i=!1;n.priorWebsocketSuccess=!1;var a=function(){i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!i)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){i||"closed"!==t.readyState&&(f(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var a=new Error("probe error");a.transport=r.name,t.emitReserved("upgradeError",a)}})))};function o(){i||(i=!0,f(),r.close(),r=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=r.name,o(),t.emitReserved("upgradeError",n)};function u(){s("transport closed")}function c(){s("socket closed")}function l(e){r&&e.name!==r.name&&o()}var f=function(){r.removeListener("open",a),r.removeListener("error",s),r.removeListener("close",u),t.off("close",c),t.off("upgrading",l)};r.once("open",a),r.once("error",s),r.once("close",u),this.once("close",c),this.once("upgrading",l),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"===typeof(e=r)?function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(KD);SL.protocol=4;SL.protocol;var EL="function"===typeof ArrayBuffer,IL=Object.prototype.toString,TL="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===IL.call(Blob),CL="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===IL.call(File);function NL(e){return EL&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||TL&&e instanceof Blob||CL&&e instanceof File}function RL(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(RL(e[n]))return!0;return!1}if(NL(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return RL(e.toJSON(),!0);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&RL(e[i]))return!0;return!1}function AL(e){var t=[],n=e.data,r=e;return r.data=PL(n,t),r.attachments=t.length,{packet:r,buffers:t}}function PL(e,t){if(!e)return e;if(NL(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=PL(e[i],t);return r}if("object"===typeof e&&!(e instanceof Date)){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=PL(e[o],t));return a}return e}function OL(e,t){return e.data=DL(e.data,t),e.attachments=void 0,e}function DL(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=DL(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=DL(e[r],t));return e}var LL,ML=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(LL||(LL={}));var FL=function(){function e(t){p(this,e),this.replacer=t}return g(e,[{key:"encode",value:function(e){return e.type!==LL.EVENT&&e.type!==LL.ACK||!RL(e)?[this.encodeAsString(e)]:(e.type=e.type===LL.EVENT?LL.BINARY_EVENT:LL.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==LL.BINARY_EVENT&&e.type!==LL.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=AL(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}(),jL=function(e){b(n,e);var t=E(n);function n(e){var r;return p(this,n),(r=t.call(this)).reviver=e,r}return g(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(t=this.decodeString(e)).type===LL.BINARY_EVENT||t.type===LL.BINARY_ACK?(this.reconstructor=new UL(t),0===t.attachments&&kr(w(n.prototype),"emitReserved",this).call(this,"decoded",t)):kr(w(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!NL(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,kr(w(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===LL[r.type])throw new Error("unknown packet type "+r.type);if(r.type===LL.BINARY_EVENT||r.type===LL.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var a=e.substring(i,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){for(var o=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(o,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var u=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}r.id=Number(e.substring(u,t+1))}if(e.charAt(++t)){var l=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case LL.CONNECT:return"object"===typeof t;case LL.DISCONNECT:return void 0===t;case LL.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case LL.EVENT:case LL.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case LL.ACK:case LL.BINARY_ACK:return Array.isArray(t)}}}]),n}(KD),UL=function(){function e(t){p(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return g(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=OL(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function VL(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var BL=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),qL=function(e){b(n,e);var t=E(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).connected=!1,a.receiveBuffer=[],a.sendBuffer=[],a.ids=0,a.acks={},a.flags={},a.io=e,a.nsp=r,i&&i.auth&&(a.auth=i.auth),a.io._autoConnect&&a.open(),a}return g(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[VL(e,"open",this.onopen.bind(this)),VL(e,"packet",this.onpacket.bind(this)),VL(e,"error",this.onerror.bind(this)),VL(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(BL.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var i={type:LL.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var a=this.ids++,o=n.pop();this._registerAckCallback(a,o),i.id=a}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,u=this.flags.volatile&&(!s||!this.connected);return u||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,r=this.flags.timeout;if(void 0!==r){var i=this.io.setTimeoutFn((function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))}),r);this.acks[e]=function(){n.io.clearTimeoutFn(i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:LL.CONNECT,data:t})})):this.packet({type:LL.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case LL.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case LL.EVENT:case LL.BINARY_EVENT:this.onevent(e);break;case LL.ACK:case LL.BINARY_ACK:this.onack(e);break;case LL.DISCONNECT:this.ondisconnect();break;case LL.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=N(this._anyListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e)}}catch(lW){r.e(lW)}finally{r.f()}}kr(w(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.packet({type:LL.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:LL.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=N(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(lW){n.e(lW)}finally{n.f()}}}}]),n}(KD);function zL(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}zL.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},zL.prototype.reset=function(){this.attempts=0},zL.prototype.setMin=function(e){this.ms=e},zL.prototype.setMax=function(e){this.max=e},zL.prototype.setJitter=function(e){this.jitter=e};var WL=function(e){b(r,e);var n=E(r);function r(e,i){var a,o;p(this,r),(a=n.call(this)).nsps={},a.subs=[],e&&"object"===typeof e&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",a.opts=i,$D(x(a),i),a.reconnection(!1!==i.reconnection),a.reconnectionAttempts(i.reconnectionAttempts||1/0),a.reconnectionDelay(i.reconnectionDelay||1e3),a.reconnectionDelayMax(i.reconnectionDelayMax||5e3),a.randomizationFactor(null!==(o=i.randomizationFactor)&&void 0!==o?o:.5),a.backoff=new zL({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(null==i.timeout?2e4:i.timeout),a._readyState="closed",a.uri=e;var s=i.parser||t;return a.encoder=new s.Encoder,a.decoder=new s.Decoder,a._autoConnect=!1!==i.autoConnect,a._autoConnect&&a.open(),a}return g(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new SL(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=VL(n,"open",(function(){r.onopen(),e&&e()})),a=VL(n,"error",(function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&i();var s=this.setTimeoutFn((function(){i(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(i),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(VL(e,"ping",this.onping.bind(this)),VL(e,"data",this.ondata.bind(this)),VL(e,"error",this.onerror.bind(this)),VL(e,"close",this.onclose.bind(this)),VL(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;yL((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new qL(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(KD),KL={};function GL(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=xL(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),i=r.source,a=r.id,o=r.path,s=KL[a]&&o in KL[a].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new WL(i,t):(KL[a]||(KL[a]=new WL(i,t)),n=KL[a]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(GL,{Manager:WL,Socket:qL,io:GL,connect:GL});var HL=function(e,t){var n=(0,i.useRef)();(0,i.useEffect)((function(){n.current=e}),[e]),(0,i.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};var QL=function(){var e=(0,i.useContext)(Sp).currentUser,t=Ie(),n=f((0,i.useState)({displayName:e._delegate.displayName,email:e._delegate.email}),2),r=n[0],a=(n[1],f((0,i.useState)(""),2)),o=a[0],s=a[1],u=f((0,i.useState)([]),2),c=u[0],l=u[1],h=f((0,i.useState)([]),2),p=h[0],v=h[1],y=f((0,i.useState)(!0),2),m=y[0],g=y[1],k=f((0,i.useState)(!1),2),b=k[0],w=k[1],_=f((0,i.useState)(!1),2),x=_[0],S=_[1],E=f((0,i.useState)(void 0),2),I=E[0],T=E[1],C=f((0,i.useState)(void 0),2),N=C[0],R=C[1],A=f((0,i.useState)(void 0),2),P=A[0],O=A[1],D=f((0,i.useState)(""),2),L=D[0],M=D[1],F=f((0,i.useState)(0),2),j=F[0],U=F[1],V=f((0,i.useState)(0),2),B=V[0],q=V[1],z=f((0,i.useState)(""),2),W=z[0],K=z[1],G=f((0,i.useState)(""),2),H=G[0],Q=G[1],Y=f((0,i.useState)(""),2),$=Y[0],J=Y[1],X=f((0,i.useState)(""),2),Z=X[0],ee=X[1],te=f((0,i.useState)([]),2),ne=te[0],re=te[1],ie=f((0,i.useState)(0),2),ae=ie[0],oe=ie[1],se=f((0,i.useState)(0),2),ue=se[0],ce=se[1],le=f((0,i.useState)(0),2),fe=le[0],he=le[1],de=f((0,i.useState)(0),2),pe=de[0],ve=de[1],ye=f((0,i.useState)([]),2),me=ye[0],ge=ye[1],ke=f((0,i.useState)(!1),2),be=ke[0],we=ke[1],_e=f((0,i.useState)(!0),2),xe=_e[0],Se=_e[1],Ee=f((0,i.useState)(0),2),Te=Ee[0],Ce=Ee[1],Ne=f((0,i.useState)(!0),2),Re=Ne[0],Ae=Ne[1],Pe=f((0,i.useState)(!1),2),Oe=Pe[0],De=Pe[1],Le=(0,i.useRef)();(0,i.useEffect)((function(){return Le.current=GL("https://cs554-final-project.herokuapp.com"),Le.current.on("joined",(function(e,t,n){if(console.log("RoomID joined: ".concat(t)),console.log("Players already in at time of joining:"),console.log(e),O(n),J(n[0]),ee(n.slice(1)),e.length>0){l(d(e));for(var r=[],i=[],a=0;a<e.length;a++)r.push({correctChars:"",incorrectChars:"",regularChars:n}),i.push(0);re([].concat(r)),ge([].concat(i)),g(!1)}s(t)})),null===t.state?De(!0):t.state.genre&&Le.current.emit("join_public",r.displayName,r.email,t.state.genre),function(){Le.current.off("joined"),Le.current.disconnect()}}),[]),(0,i.useEffect)((function(){return Le.current.on("countdown",(function(e){T({count:e})})),Le.current.on("new_player_joined",(function(e,t){console.log("New Player Joined - displayName: ".concat(e.displayName,", email: ").concat(e.email)),!0===m&&g(!1),l([].concat(d(c),[e])),re([].concat(d(ne),[{correctChars:"",incorrectChars:"",regularChars:t}])),ge([].concat(d(me),[0]))})),Le.current.on("player_left",(function(e){var t=d(c),n=t.findIndex((function(t){return t.socketId===e}));t.splice(n,1),!1===b&&1===c.length&&g(!0),l(t);var r=d(ne);r.splice(n,1),re(r);var i=d(me);i.splice(n,1),ge(i)})),function(){Le.current.off("new_player_joined"),Le.current.off("player_left"),Le.current.off("countdown")}}),[c,b]),(0,i.useEffect)((function(){var e;if(void 0!==I){var t=I.count;e=setInterval((function(){R(t),-1===--t&&(clearInterval(e),Le.current.emit("game_start",o),w(!0),je(),Me())}),1e3)}return function(){void 0!==I&&clearInterval(e)}}),[I]),(0,i.useEffect)((function(){b&&!x&&function(){var e=j,t=B,n=ue,i=fe;0===t?e<L.length?P[e]===L[e]?(J(P[e+1]),ee(Z.slice(1)),K(W+P[e]),e===n&&ce(n+1)," "===P[e]&&e>ae&&(Le.current.emit("new_input",r.email,o,e-ae),oe(e)),L.length===P.length&&(console.log("race finished"),Le.current.emit("new_input",r.email,o,e-ae+1),S(!0)),U(e+1)):(q(1),J(P[e+1]),ee(Z.slice(1)),Q(H+P[e]),he(i+1),U(e+1)):(console.log("before incorrect branch backspace"),K(W.slice(0,-1)),J(P[e-1]),ee(P[e]+Z),U(e-1)):(e>L.length&&(console.log("incorrect branch backspace"),q(t-1),Q(H.slice(0,-1)),J(P[e-1]),e<P.length&&ee(P[e]+Z),U(e-1)),e<L.length&&(console.log("continued to be incorrect"),q(t+1),J(P[e+1]),ee(Z.slice(1)),Q(H+P[e]),he(i+1),U(e+1)))}()}),[L]),(0,i.useEffect)((function(){return Le.current.on("opponent_input",(function(e,t){var n=c.findIndex((function(t){return t.email===e})),r=d(ne),i=r[n];i.correctChars+=i.regularChars.slice(0,t),i.regularChars=i.regularChars.slice(t),r[n]=i,re(r)})),function(){Le.current.off("opponent_input")}}),[ne]),(0,i.useEffect)((function(){Fe(),x&&Le.current.emit("game_finish",r.email,o)}),[x]),(0,i.useEffect)((function(){var e=function(){var e=nt(et().mark((function e(t){var n,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(ue*(ue/(ue+fe))/5/(Te/6e4)).toFixed(2),isNaN(n)&&(n=0),Le.current.emit("send_wpm",r.email,o,n),ve(n),!p.includes(r.email)||0!==p.indexOf(r.email)){e.next=22;break}return console.log("first"),e.prev=9,e.next=12,TD.patch("https://cs554-final-project.herokuapp.com/user/userStats",{email:r.email,game_wpm:n,game_won:!0});case 12:i=e.sent,i.data,Ae(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:e.next=33;break;case 22:return console.log("not first"),e.prev=23,e.next=26,TD.patch("https://cs554-final-project.herokuapp.com/user/userStats",{email:r.email,game_wpm:n,game_won:!1});case 26:a=e.sent,a.data,e.next=33;break;case 30:e.prev=30,e.t1=e.catch(23),console.log(e.t1);case 33:case"end":return e.stop()}}),e,null,[[9,17],[23,30]])})));return function(t){return e.apply(this,arguments)}}();return!m&&Re&&x&&e(),Le.current.on("race_place",(function(e){v([].concat(d(p),[e]))})),function(){Le.current.off("race_place")}}),[p]),(0,i.useEffect)((function(){return Le.current.on("receive_wpm",(function(e,t){var n=c.findIndex((function(t){return t.email===e})),r=d(me);r[n]=t,ge(r)})),function(){Le.current.off("receive_wpm")}}),[me]),(0,i.useEffect)((function(){var e=null;return be&&!1===xe?e=setInterval((function(){Ce((function(e){return e+10}))}),10):clearInterval(e),function(){clearInterval(e)}}),[be,xe]),HL((function(){var e=(ue*(ue/(ue+fe))/5/(Te/6e4)).toFixed(2);isNaN(e)&&(e=0),Le.current.emit("send_wpm",r.email,o,e),ve(e)}),be&&!xe?3e3:null);var Me=function(){we(!0),Se(!1)},Fe=function(){Se(!xe)},je=function(){we(!1),Ce(0)},Ue=0,Ve=c&&c.length>0&&c.map((function(e){return Ue++,(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:e.displayName}),(0,xp.jsx)("h3",{children:p.includes(e.email)&&(0===p.indexOf(e.email)?"".concat(p.indexOf(e.email)+1,"st place!"):1===p.indexOf(e.email)?"".concat(p.indexOf(e.email)+1,"nd place!"):p.indexOf(2===e.email)?"".concat(p.indexOf(e.email)+1,"rd place!"):"4th place!")}),(0,xp.jsxs)("p",{children:[me[Ue-1]," WPM"]}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("span",{id:"correct-chars",children:ne[Ue-1].correctChars&&ne[Ue-1].correctChars}),(0,xp.jsx)("span",{id:"incorrect-chars",children:ne[Ue-1].incorrectChars&&ne[Ue-1].incorrectChars}),(0,xp.jsx)("span",{id:"regular-chars",children:ne[Ue-1].regularChars&&ne[Ue-1].regularChars})]})]},Ue)})),Be=P&&{maxLength:P.length};return 5===B&&(Be.maxLength=L.length),P&&!b&&(Be.maxLength=0),Oe?(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h2",{children:"It appears that you have not selected a genre to queue from the 'Find a Game' page."}),(0,xp.jsx)("p",{children:"Go back and selected a genre to be put into a live game!"}),(0,xp.jsx)(Je,{to:"/game/",children:(0,xp.jsx)("button",{children:"Go Back"})})]}):(0,xp.jsxs)("div",{children:[(0,xp.jsxs)("h2",{children:["Public Race in Room: ",o]}),(0,xp.jsx)("br",{}),(0,xp.jsx)("h2",{children:b?"Type!":N?"Race starting in: ".concat(N):"Getting game countdown..."}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:r.displayName}),(0,xp.jsx)("h3",{children:p.includes(r.email)&&(0===p.indexOf(r.email)?"".concat(p.indexOf(r.email)+1,"st place!"):1===p.indexOf(r.email)?"".concat(p.indexOf(r.email)+1,"nd place!"):p.indexOf(2===r.email)?"".concat(p.indexOf(r.email)+1,"rd place!"):"4th place!")}),m&&(0,xp.jsx)("p",{children:"Your stats will not be updated unless you play against another player!"}),(0,xp.jsxs)("p",{children:[pe," WPM"]}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("span",{id:"correct-chars",children:W&&W}),(0,xp.jsx)("span",{id:"incorrect-chars",children:H&&H}),(0,xp.jsx)("span",{id:"next-char",children:$&&$}),(0,xp.jsx)("span",{id:"regular-chars",children:Z&&Z})]}),(0,xp.jsx)("label",{htmlFor:"userText",children:"Type here:\xa0"}),(0,xp.jsx)("input",dn({id:"userText",type:"text",autoComplete:"off",onPaste:function(e){e.preventDefault()},onKeyDown:function(e){if(37===e.keyCode||38===e.keyCode||39===e.keyCode)e.preventDefault();else{e.target.selectionStart=e.target.value.length;var t=e.key;j<P.length&&1===t.length&&B<5?M(e.target.value+t):"Backspace"===t&&M(e.target.value.slice(0,-1))}}},Be))]}),Ve&&Ve,x&&(0,xp.jsx)(Je,{to:"/game/",children:(0,xp.jsx)("button",{children:"New Game"})})]})},YL=function(){var e=(0,i.useContext)(Sp).currentUser;return console.log("Private Route Comp current user",e),e?(0,xp.jsx)(Ue,{}):(0,xp.jsx)(je,{to:"/login"})};var $L=function(){return(0,xp.jsx)("div",{children:"Private races are not yet implemented! This is a feature to be done in the future."})};var JL=function(){var e=(0,i.useContext)(Sp).currentUser,t=f((0,i.useState)(),2),n=(t[0],t[1],function(){var e=nt(et().mark((function e(t){var n,r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,r=n.email,i=n.password,a="https://cs554-final-project.herokuapp.com/user/"+r.value,e.prev=3,console.log(a),e.next=7,TD.get(a);case 7:if(o=e.sent,!1!==o.data.googleAuth){e.next=20;break}return e.prev=10,e.next=13,MP(r.value,i.value);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),alert(e.t0);case 18:e.next=21;break;case 20:alert("This email is associated with a Google authenticated account, please sign in with Google");case 21:e.next=34;break;case 23:return e.prev=23,e.t1=e.catch(3),console.log(e.t1),e.prev=26,e.next=29,MP(r.value,i.value);case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(26),alert("Username or password incorrect.");case 34:case"end":return e.stop()}}),e,null,[[3,23],[10,15],[26,31]])})));return function(t){return e.apply(this,arguments)}}());return(0,i.useEffect)((function(){var t=function(){var t=nt(et().mark((function t(n){var r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=12;break}if(!e._delegate.displayName){t.next=12;break}return t.prev=2,t.next=5,TD.post("https://cs554-final-project.herokuapp.com/user",{username:e._delegate.displayName,email:e._delegate.email,googleAuth:!0});case 5:r=t.sent,r.data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();t()}),[e]),e?(0,xp.jsx)(je,{to:"/"}):(0,xp.jsxs)("div",{className:"card",children:[(0,xp.jsx)("div",{}),(0,xp.jsx)("h1",{children:"Log in"}),(0,xp.jsxs)("form",{onSubmit:n,children:[(0,xp.jsx)("div",{className:"form-group",children:(0,xp.jsxs)("label",{children:["Email:",(0,xp.jsx)("input",{className:"form-control",name:"email",id:"email",type:"email",placeholder:"Email",required:!0})]})}),(0,xp.jsx)("div",{className:"form-group",children:(0,xp.jsxs)("label",{children:["Password:",(0,xp.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"Password",autoComplete:"off",required:!0})]})}),(0,xp.jsx)("button",{type:"submit",className:"button",children:"Log in"}),(0,xp.jsx)("button",{className:"button",onClick:function(e){e.preventDefault();var t=document.getElementById("email").value;t?(!function(e){VP.apply(this,arguments)}(t),alert("Password reset email was sent")):alert("Please enter an email address below before you click the forgot password link")},children:"Forgot Password"})]}),(0,xp.jsx)("br",{}),(0,xp.jsx)(zP,{})]})},XL=function(e){return(0,xp.jsx)(Je,{className:"button",onClick:BP,children:"Sign Out"})};function ZL(){return ZL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZL.apply(this,arguments)}function eM(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function tM(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=tM(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var nM=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=tM(e))&&(r&&(r+=" "),r+=t);return r};function rM(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}var iM=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},aM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oM=iM((function(e){return aM.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var sM=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),uM=Math.abs,cM=String.fromCharCode,lM=Object.assign;function fM(e){return e.trim()}function hM(e,t,n){return e.replace(t,n)}function dM(e,t){return e.indexOf(t)}function pM(e,t){return 0|e.charCodeAt(t)}function vM(e,t,n){return e.slice(t,n)}function yM(e){return e.length}function mM(e){return e.length}function gM(e,t){return t.push(e),e}var kM=1,bM=1,wM=0,_M=0,xM=0,SM="";function EM(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:kM,column:bM,length:o,return:""}}function IM(e,t){return lM(EM("",null,null,"",null,null,0),e,{length:-e.length},t)}function TM(){return xM=_M>0?pM(SM,--_M):0,bM--,10===xM&&(bM=1,kM--),xM}function CM(){return xM=_M<wM?pM(SM,_M++):0,bM++,10===xM&&(bM=1,kM++),xM}function NM(){return pM(SM,_M)}function RM(){return _M}function AM(e,t){return vM(SM,e,t)}function PM(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OM(e){return kM=bM=1,wM=yM(SM=e),_M=0,[]}function DM(e){return SM="",e}function LM(e){return fM(AM(_M-1,jM(91===e?e+2:40===e?e+1:e)))}function MM(e){for(;(xM=NM())&&xM<33;)CM();return PM(e)>2||PM(xM)>3?"":" "}function FM(e,t){for(;--t&&CM()&&!(xM<48||xM>102||xM>57&&xM<65||xM>70&&xM<97););return AM(e,RM()+(t<6&&32==NM()&&32==CM()))}function jM(e){for(;CM();)switch(xM){case e:return _M;case 34:case 39:34!==e&&39!==e&&jM(xM);break;case 40:41===e&&jM(e);break;case 92:CM()}return _M}function UM(e,t){for(;CM()&&e+xM!==57&&(e+xM!==84||47!==NM()););return"/*"+AM(t,_M-1)+"*"+cM(47===e?e:CM())}function VM(e){for(;!PM(NM());)CM();return AM(e,_M)}var BM="-ms-",qM="-moz-",zM="-webkit-",WM="comm",KM="rule",GM="decl",HM="@keyframes";function QM(e,t){for(var n="",r=mM(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function YM(e,t,n,r){switch(e.type){case"@import":case GM:return e.return=e.return||e.value;case WM:return"";case HM:return e.return=e.value+"{"+QM(e.children,r)+"}";case KM:e.value=e.props.join(",")}return yM(n=QM(e.children,r))?e.return=e.value+"{"+n+"}":""}function $M(e){return function(t){t.root||(t=t.return)&&e(t)}}function JM(e){return DM(XM("",null,null,null,[""],e=OM(e),0,[0],e))}function XM(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,k="",b=i,w=a,_=r,x=k;y;)switch(p=g,g=CM()){case 40:if(108!=p&&58==pM(x,f-1)){-1!=dM(x+=hM(LM(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:x+=LM(g);break;case 9:case 10:case 13:case 32:x+=MM(p);break;case 92:x+=FM(RM()-1,7);continue;case 47:switch(NM()){case 42:case 47:gM(eF(UM(CM(),RM()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=yM(x)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+l:d>0&&yM(x)-f&&gM(d>32?tF(x+";",r,n,f-1):tF(hM(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(gM(_=ZM(x,t,n,c,l,i,s,k,b=[],w=[],f),a),123===g)if(0===l)XM(x,t,_,_,b,a,f,s,w);else switch(99===h&&110===pM(x,3)?100:h){case 100:case 109:case 115:XM(e,_,_,r&&gM(ZM(e,_,_,0,0,i,s,k,i,b=[],f),w),i,w,f,s,r?b:w);break;default:XM(x,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=m=1,k=x="",f=o;break;case 58:f=1+yM(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==TM())continue;switch(x+=cM(g),g*v){case 38:m=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(yM(x)-1)*m,m=1;break;case 64:45===NM()&&(x+=LM(CM())),h=NM(),l=f=yM(k=x+=VM(RM())),g++;break;case 45:45===p&&2==yM(x)&&(v=0)}}return a}function ZM(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=mM(h),p=0,v=0,y=0;p<r;++p)for(var m=0,g=vM(e,f+1,f=uM(v=o[p])),k=e;m<d;++m)(k=fM(v>0?h[m]+" "+g:hM(g,/&\f/g,h[m])))&&(u[y++]=k);return EM(e,t,n,0===i?KM:s,u,c,l)}function eF(e,t,n){return EM(e,t,n,WM,cM(xM),vM(e,2,-2),0)}function tF(e,t,n,r){return EM(e,t,n,GM,vM(e,0,r),vM(e,r+1,-1),r)}var nF=function(e,t,n){for(var r=0,i=0;r=i,i=NM(),38===r&&12===i&&(t[n]=1),!PM(i);)CM();return AM(e,_M)},rF=function(e,t){return DM(function(e,t){var n=-1,r=44;do{switch(PM(r)){case 0:38===r&&12===NM()&&(t[n]=1),e[n]+=nF(_M-1,t,n);break;case 2:e[n]+=LM(r);break;case 4:if(44===r){e[++n]=58===NM()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=cM(r)}}while(r=CM());return e}(OM(e),t))},iF=new WeakMap,aF=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||iF.get(n))&&!r){iF.set(e,!0);for(var i=[],a=rF(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},oF=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function sF(e,t){switch(function(e,t){return 45^pM(e,0)?(((t<<2^pM(e,0))<<2^pM(e,1))<<2^pM(e,2))<<2^pM(e,3):0}(e,t)){case 5103:return zM+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zM+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return zM+e+qM+e+BM+e+e;case 6828:case 4268:return zM+e+BM+e+e;case 6165:return zM+e+BM+"flex-"+e+e;case 5187:return zM+e+hM(e,/(\w+).+(:[^]+)/,zM+"box-$1$2"+BM+"flex-$1$2")+e;case 5443:return zM+e+BM+"flex-item-"+hM(e,/flex-|-self/,"")+e;case 4675:return zM+e+BM+"flex-line-pack"+hM(e,/align-content|flex-|-self/,"")+e;case 5548:return zM+e+BM+hM(e,"shrink","negative")+e;case 5292:return zM+e+BM+hM(e,"basis","preferred-size")+e;case 6060:return zM+"box-"+hM(e,"-grow","")+zM+e+BM+hM(e,"grow","positive")+e;case 4554:return zM+hM(e,/([^-])(transform)/g,"$1"+zM+"$2")+e;case 6187:return hM(hM(hM(e,/(zoom-|grab)/,zM+"$1"),/(image-set)/,zM+"$1"),e,"")+e;case 5495:case 3959:return hM(e,/(image-set\([^]*)/,zM+"$1$`$1");case 4968:return hM(hM(e,/(.+:)(flex-)?(.*)/,zM+"box-pack:$3"+BM+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zM+e+e;case 4095:case 3583:case 4068:case 2532:return hM(e,/(.+)-inline(.+)/,zM+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yM(e)-1-t>6)switch(pM(e,t+1)){case 109:if(45!==pM(e,t+4))break;case 102:return hM(e,/(.+:)(.+)-([^]+)/,"$1"+zM+"$2-$3$1"+qM+(108==pM(e,t+3)?"$3":"$2-$3"))+e;case 115:return~dM(e,"stretch")?sF(hM(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==pM(e,t+1))break;case 6444:switch(pM(e,yM(e)-3-(~dM(e,"!important")&&10))){case 107:return hM(e,":",":"+zM)+e;case 101:return hM(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zM+(45===pM(e,14)?"inline-":"")+"box$3$1"+zM+"$2$3$1"+BM+"$2box$3")+e}break;case 5936:switch(pM(e,t+11)){case 114:return zM+e+BM+hM(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return zM+e+BM+hM(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return zM+e+BM+hM(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return zM+e+BM+e+e}return e}var uF=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case GM:e.return=sF(e.value,e.length);break;case HM:return QM([IM(e,{value:hM(e.value,"@","@"+zM)})],r);case KM:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return QM([IM(e,{props:[hM(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return QM([IM(e,{props:[hM(t,/:(plac\w+)/,":"+zM+"input-$1")]}),IM(e,{props:[hM(t,/:(plac\w+)/,":-moz-$1")]}),IM(e,{props:[hM(t,/:(plac\w+)/,BM+"input-$1")]})],r)}return""}))}}],cF=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||uF;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u=[aF,oF];var c,l=[YM,$M((function(e){c.insert(e)}))],f=function(e){var t=mM(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(u.concat(r,l));a=function(e,t,n,r){c=n,QM(JM(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new sM({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var lF=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},fF={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hF=/[A-Z]|^ms/g,dF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pF=function(e){return 45===e.charCodeAt(1)},vF=function(e){return null!=e&&"boolean"!==typeof e},yF=iM((function(e){return pF(e)?e:e.replace(hF,"-$&").toLowerCase()})),mF=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(dF,(function(e,t,n){return kF={name:t,styles:n,next:kF},t}))}return 1===fF[e]||pF(e)||"number"!==typeof t||0===t?t:t+"px"};function gF(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return kF={name:n.name,styles:n.styles,next:kF},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)kF={name:r.name,styles:r.styles,next:kF},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=gF(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":vF(o)&&(r+=yF(a)+":"+mF(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=gF(e,t,o);switch(a){case"animation":case"animationName":r+=yF(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)vF(o[u])&&(r+=yF(a)+":"+mF(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=kF,a=n(e);return kF=i,gF(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var kF,bF=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var wF=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";kF=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=gF(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=gF(n,t,e[o]),r&&(i+=a[o]);bF.lastIndex=0;for(var s,u="";null!==(s=bF.exec(i));)u+="-"+s[1];return{name:lF(i)+u,styles:i,next:kF}},_F=!!a.useInsertionEffect&&a.useInsertionEffect,xF=_F||function(e){return e()},SF=(_F||i.useLayoutEffect,(0,i.createContext)("undefined"!==typeof HTMLElement?cF({key:"css"}):null));SF.Provider;var EF=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(SF);return e(t,r,n)}))},IF=(0,i.createContext)({});function TF(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var CF=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},NF=oM,RF=function(e){return"theme"!==e},AF=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?NF:RF},PF=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},OF=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;CF(t,n,r);xF((function(){return function(e,t,n){CF(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},DF=function e(t,n){var r,a,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var u=PF(t,n,o),c=u||AF(s),l=!c("as");return function(){var f=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=EF((function(e,t,n){var r=l&&e.as||s,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,i.useContext)(IF)}"string"===typeof e.className?o=TF(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=wF(h.concat(f),t.registered,d);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var y=l&&void 0===u?AF(r):c,m={};for(var g in e)l&&"as"===g||y(g)&&(m[g]=e[g]);return m.className=o,m.ref=n,(0,i.createElement)(i.Fragment,null,(0,i.createElement)(OF,{cache:t,serialized:v,isStringTag:"string"===typeof r}),(0,i.createElement)(r,m))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,r){return e(t,ZL({},n,r,{shouldForwardProp:PF(v,r,!0)})).apply(void 0,h)},v}},LF=DF.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){LF[e]=LF(e)}));var MF=LF;function FF(e,t){return MF(e,t)}var jF=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function UF(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function VF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?ZL({},e):e;return UF(e)&&UF(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(UF(t[i])&&i in e&&UF(e[i])?r[i]=VF(e[i],t[i],n):r[i]=t[i])})),r}var BF=["values","unit","step"];function qF(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=eM(e,BF),u=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return ZL({},e,rt({},t.key,t.val))}),{})}(n),c=Object.keys(u);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return ZL({keys:c,values:u,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var zF={borderRadius:4},WF={xs:0,sm:600,md:900,lg:1200,xl:1536},KF={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(WF[e],"px)")}};function GF(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||KF;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||KF;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||WF).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function HF(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function QF(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function YF(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}function $F(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function JF(e){if("string"!==typeof e)throw new Error($F(7));return e.charAt(0).toUpperCase()+e.slice(1)}function XF(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function ZF(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:XF(e,n)||i,t&&(r=t(r,i,e)),r}var ej=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=XF(e.theme,i)||{};return GF(e,n,(function(e){var n=ZF(o,a,e);return e===n&&"string"===typeof e&&(n=ZF(o,a,"".concat(t).concat("default"===e?"":JF(e)),e)),!1===r?n:rt({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var tj=function(e,t){return t?VF(e,t,{clone:!1}):e};var nj={m:"margin",p:"padding"},rj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ij={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},aj=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!ij[e])return[e];e=ij[e]}var t=f(e.split(""),2),n=t[0],r=t[1],i=nj[n],a=rj[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),oj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],uj=[].concat(oj,sj);function cj(e,t,n,r){var i,a=null!=(i=XF(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function lj(e){return cj(e,"spacing",8)}function fj(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function hj(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=fj(t,n),e}),{})}}(aj(n),r);return GF(e,e[n],i)}function dj(e,t){var n=lj(e.theme);return Object.keys(e).map((function(r){return hj(e,t,r,n)})).reduce(tj,{})}function pj(e){return dj(e,oj)}function vj(e){return dj(e,sj)}function yj(e){return dj(e,uj)}pj.propTypes={},pj.filterProps=oj,vj.propTypes={},vj.filterProps=sj,yj.propTypes={},yj.filterProps=uj;function mj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=lj({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var gj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?tj(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function kj(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var bj=ej({prop:"border",themeKey:"borders",transform:kj}),wj=ej({prop:"borderTop",themeKey:"borders",transform:kj}),_j=ej({prop:"borderRight",themeKey:"borders",transform:kj}),xj=ej({prop:"borderBottom",themeKey:"borders",transform:kj}),Sj=ej({prop:"borderLeft",themeKey:"borders",transform:kj}),Ej=ej({prop:"borderColor",themeKey:"palette"}),Ij=ej({prop:"borderTopColor",themeKey:"palette"}),Tj=ej({prop:"borderRightColor",themeKey:"palette"}),Cj=ej({prop:"borderBottomColor",themeKey:"palette"}),Nj=ej({prop:"borderLeftColor",themeKey:"palette"}),Rj=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=cj(e.theme,"shape.borderRadius",4);return GF(e,e.borderRadius,(function(e){return{borderRadius:fj(t,e)}}))}return null};Rj.propTypes={},Rj.filterProps=["borderRadius"];gj(bj,wj,_j,xj,Sj,Ej,Ij,Tj,Cj,Nj,Rj);var Aj=function(e){if(void 0!==e.gap&&null!==e.gap){var t=cj(e.theme,"spacing",8);return GF(e,e.gap,(function(e){return{gap:fj(t,e)}}))}return null};Aj.propTypes={},Aj.filterProps=["gap"];var Pj=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=cj(e.theme,"spacing",8);return GF(e,e.columnGap,(function(e){return{columnGap:fj(t,e)}}))}return null};Pj.propTypes={},Pj.filterProps=["columnGap"];var Oj=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=cj(e.theme,"spacing",8);return GF(e,e.rowGap,(function(e){return{rowGap:fj(t,e)}}))}return null};Oj.propTypes={},Oj.filterProps=["rowGap"];gj(Aj,Pj,Oj,ej({prop:"gridColumn"}),ej({prop:"gridRow"}),ej({prop:"gridAutoFlow"}),ej({prop:"gridAutoColumns"}),ej({prop:"gridAutoRows"}),ej({prop:"gridTemplateColumns"}),ej({prop:"gridTemplateRows"}),ej({prop:"gridTemplateAreas"}),ej({prop:"gridArea"}));function Dj(e,t){return"grey"===t?t:e}gj(ej({prop:"color",themeKey:"palette",transform:Dj}),ej({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Dj}),ej({prop:"backgroundColor",themeKey:"palette",transform:Dj}));function Lj(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Mj=ej({prop:"width",transform:Lj}),Fj=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return GF(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||WF[t]||Lj(t)}}))}return null};Fj.filterProps=["maxWidth"];var jj=ej({prop:"minWidth",transform:Lj}),Uj=ej({prop:"height",transform:Lj}),Vj=ej({prop:"maxHeight",transform:Lj}),Bj=ej({prop:"minHeight",transform:Lj}),qj=(ej({prop:"size",cssProperty:"width",transform:Lj}),ej({prop:"size",cssProperty:"height",transform:Lj}),gj(Mj,Fj,jj,Uj,Vj,Bj,ej({prop:"boxSizing"})),{border:{themeKey:"borders",transform:kj},borderTop:{themeKey:"borders",transform:kj},borderRight:{themeKey:"borders",transform:kj},borderBottom:{themeKey:"borders",transform:kj},borderLeft:{themeKey:"borders",transform:kj},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Rj},color:{themeKey:"palette",transform:Dj},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Dj},backgroundColor:{themeKey:"palette",transform:Dj},p:{style:vj},pt:{style:vj},pr:{style:vj},pb:{style:vj},pl:{style:vj},px:{style:vj},py:{style:vj},padding:{style:vj},paddingTop:{style:vj},paddingRight:{style:vj},paddingBottom:{style:vj},paddingLeft:{style:vj},paddingX:{style:vj},paddingY:{style:vj},paddingInline:{style:vj},paddingInlineStart:{style:vj},paddingInlineEnd:{style:vj},paddingBlock:{style:vj},paddingBlockStart:{style:vj},paddingBlockEnd:{style:vj},m:{style:pj},mt:{style:pj},mr:{style:pj},mb:{style:pj},ml:{style:pj},mx:{style:pj},my:{style:pj},margin:{style:pj},marginTop:{style:pj},marginRight:{style:pj},marginBottom:{style:pj},marginLeft:{style:pj},marginX:{style:pj},marginY:{style:pj},marginInline:{style:pj},marginInlineStart:{style:pj},marginInlineEnd:{style:pj},marginBlock:{style:pj},marginBlockStart:{style:pj},marginBlockEnd:{style:pj},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Aj},rowGap:{style:Oj},columnGap:{style:Pj},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Lj},maxWidth:{style:Fj},minWidth:{transform:Lj},height:{transform:Lj},maxHeight:{transform:Lj},minHeight:{transform:Lj},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),zj=qj;var Wj=function(){function e(e,t,n,r){var i,a=(rt(i={},e,t),rt(i,"theme",n),i),o=r[e];if(!o)return rt({},e,t);var s=o.cssProperty,u=void 0===s?e:s,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;var h=XF(n,c)||{};if(f)return f(a);return GF(a,t,(function(t){var n=ZF(h,l,t);return t===n&&"string"===typeof t&&(n=ZF(h,l,"".concat(e).concat("default"===t?"":JF(t)),t)),!1===u?n:rt({},u,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;var u=null!=(r=s.unstable_sxConfig)?r:zj;function c(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=HF(s.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=s,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])o=tj(o,e(n,c,s,u));else{var l=GF({theme:s},c,(function(e){return rt({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=tj(o,l):o[n]=t({sx:c,theme:s})}else o=tj(o,e(n,c,s,u))})),QF(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();Wj.filterProps=["sx"];var Kj=Wj,Gj=["breakpoints","palette","spacing","shape"];var Hj=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=eM(e,Gj),c=qF(n),l=mj(a),f=VF({breakpoints:c,direction:"ltr",components:{},palette:ZL({mode:"light"},i),spacing:l,shape:ZL({},zF,s)},u),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return(f=d.reduce((function(e,t){return VF(e,t)}),f)).unstable_sxConfig=ZL({},zj,null==u?void 0:u.unstable_sxConfig),f.unstable_sx=function(e){return Kj({sx:e,theme:this})},f},Qj=["variant"];function Yj(e){return 0===e.length}function $j(e){var t=e.variant,n=eM(e,Qj),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Yj(r)?e[t]:JF(e[t]):"".concat(Yj(r)?t:JF(t)).concat(JF(e[t].toString()))})),r}var Jj=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Xj=["theme"],Zj=["theme"];function eU(e){return 0===Object.keys(e).length}function tU(e){return"string"===typeof e&&e.charCodeAt(0)>96}var nU=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},rU=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=$j(e.props);r[t]=e.style})),r},iU=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[$j(n.props)])})),u};function aU(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var oU=Hj();function sU(e,t){var n;return ZL({toolbar:(n={minHeight:56},rt(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),rt(n,e.up("sm"),{minHeight:64}),n)},t)}function uU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function cU(e){if(e.type)return e;if("#"===e.charAt(0))return cU(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error($F(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error($F(10,r))}else i=i.split(",");return i=i.map((function(e){return parseFloat(e)})),{type:n,values:i,colorSpace:r}}function lU(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function fU(e){var t="hsl"===(e=cU(e)).type||"hsla"===e.type?cU(function(e){var t=(e=cU(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),lU({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function hU(e,t){return e=cU(e),t=uU(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,lU(e)}function dU(e,t){if(e=cU(e),t=uU(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return lU(e)}function pU(e,t){if(e=cU(e),t=uU(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return lU(e)}var vU={black:"#000",white:"#fff"},yU={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},mU={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},gU={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},kU={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},bU={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wU={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},_U={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},xU=["mode","contrastThreshold","tonalOffset"],SU={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vU.white,default:vU.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},EU={text:{primary:vU.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vU.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function IU(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=pU(e.main,i):"dark"===t&&(e.dark=dU(e.main,a)))}function TU(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=eM(e,xU),u=e.primary||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:bU[200],light:bU[50],dark:bU[400]}:{main:bU[700],light:bU[400],dark:bU[800]}}(n),c=e.secondary||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:mU[200],light:mU[50],dark:mU[400]}:{main:mU[500],light:mU[300],dark:mU[700]}}(n),l=e.error||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:gU[500],light:gU[300],dark:gU[700]}:{main:gU[700],light:gU[400],dark:gU[800]}}(n),f=e.info||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:wU[400],light:wU[300],dark:wU[700]}:{main:wU[700],light:wU[500],dark:wU[900]}}(n),h=e.success||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:_U[400],light:_U[300],dark:_U[700]}:{main:_U[800],light:_U[500],dark:_U[900]}}(n),d=e.warning||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:kU[400],light:kU[300],dark:kU[700]}:{main:"#ed6c02",light:kU[500],dark:kU[900]}}(n);function p(e){var t=function(e,t){var n=fU(e),r=fU(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,EU.text.primary)>=i?EU.text.primary:SU.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,u=e.darkShade,c=void 0===u?700:u;if(!(t=ZL({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error($F(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error($F(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return IU(t,"light",s,o),IU(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},y={dark:EU,light:SU};return VF(ZL({common:ZL({},vU),mode:n,primary:v({color:u,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:yU,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},y[n]),s)}var CU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function NU(e){return Math.round(1e5*e)/1e5}var RU={textTransform:"uppercase"},AU='"Roboto", "Helvetica", "Arial", sans-serif';function PU(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?AU:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,y=void 0===v?16:v,m=n.allVariants,g=n.pxToRem,k=eM(n,CU);var b=o/14,w=g||function(e){return"".concat(e/y*b,"rem")},_=function(e,t,n,r,a){return ZL({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===AU?{letterSpacing:"".concat(NU(r/t),"em")}:{},a,m)},x={h1:_(u,96,1.167,-1.5),h2:_(u,60,1.2,-.5),h3:_(l,48,1.167,0),h4:_(l,34,1.235,.25),h5:_(l,24,1.334,0),h6:_(h,20,1.6,.15),subtitle1:_(l,16,1.75,.15),subtitle2:_(h,14,1.57,.1),body1:_(l,16,1.5,.15),body2:_(l,14,1.43,.15),button:_(h,14,1.75,.4,RU),caption:_(l,12,1.66,.4),overline:_(l,12,2.66,1,RU)};return VF(ZL({htmlFontSize:y,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},x),k,{clone:!1})}function OU(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var DU=["none",OU(0,2,1,-1,0,1,1,0,0,1,3,0),OU(0,3,1,-2,0,2,2,0,0,1,5,0),OU(0,3,3,-2,0,3,4,0,0,1,8,0),OU(0,2,4,-1,0,4,5,0,0,1,10,0),OU(0,3,5,-1,0,5,8,0,0,1,14,0),OU(0,3,5,-1,0,6,10,0,0,1,18,0),OU(0,4,5,-2,0,7,10,1,0,2,16,1),OU(0,5,5,-3,0,8,10,1,0,3,14,2),OU(0,5,6,-3,0,9,12,1,0,3,16,2),OU(0,6,6,-3,0,10,14,1,0,4,18,3),OU(0,6,7,-4,0,11,15,1,0,4,20,3),OU(0,7,8,-4,0,12,17,2,0,5,22,4),OU(0,7,8,-4,0,13,19,2,0,5,24,4),OU(0,7,9,-4,0,14,21,2,0,5,26,4),OU(0,8,9,-5,0,15,22,2,0,6,28,5),OU(0,8,10,-5,0,16,24,2,0,6,30,5),OU(0,8,11,-5,0,17,26,2,0,6,32,5),OU(0,9,11,-5,0,18,28,2,0,7,34,6),OU(0,9,12,-6,0,19,29,2,0,7,36,6),OU(0,10,13,-6,0,20,31,3,0,8,38,7),OU(0,10,13,-6,0,21,33,3,0,8,40,7),OU(0,10,14,-6,0,22,35,3,0,8,42,7),OU(0,11,14,-7,0,23,36,3,0,9,44,8),OU(0,11,15,-7,0,24,38,3,0,9,46,8)],LU=["duration","easing","delay"],MU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},FU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function jU(e){return"".concat(Math.round(e),"ms")}function UU(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function VU(e){var t=ZL({},MU,e.easing),n=ZL({},FU,e.duration);return ZL({getAutoHeightDuration:UU,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;eM(r,LU);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:jU(a)," ").concat(s," ").concat("string"===typeof c?c:jU(c))})).join(",")}},e,{easing:t,duration:n})}var BU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function zU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,u=void 0===s?{}:s,c=eM(e,qU);if(e.vars)throw new Error($F(18));var l=TU(i),f=Hj(e),h=VF(f,{mixins:sU(f.breakpoints,n),palette:l,shadows:DU.slice(),typography:PU(l,u),transitions:VU(o),zIndex:ZL({},BU)});h=VF(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return(h=p.reduce((function(e,t){return VF(e,t)}),h)).unstable_sxConfig=ZL({},zj,null==c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return Kj({sx:e,theme:this})},h}var WU=zU(),KU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?oU:t,r=e.rootShouldForwardProp,i=void 0===r?aU:r,a=e.slotShouldForwardProp,o=void 0===a?aU:a,s=function(e){var t=eU(e.theme)?n:e.theme;return Kj(ZL({},e,{theme:t}))};return s.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};jF(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,u=t.slot,c=t.skipVariantsResolver,l=t.skipSx,h=t.overridesResolver,p=eM(t,Jj),v=void 0!==c?c:u&&"Root"!==u||!1,y=l||!1;var m=aU;"Root"===u?m=i:u?m=o:tU(e)&&(m=void 0);var g=FF(e,ZL({shouldForwardProp:m,label:r},p)),k=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=eM(t,Xj);return e(ZL({theme:eU(r)?n:r},i))}:e})):[],u=e;a&&h&&o.push((function(e){var t=eU(e.theme)?n:e.theme,r=nU(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=f(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(ZL({},e,{theme:t})):o})),h(e,i)}return null})),a&&!v&&o.push((function(e){var t=eU(e.theme)?n:e.theme;return iU(e,rU(a,t),t,a)})),y||o.push(s);var c=o.length-r.length;if(Array.isArray(e)&&c>0){var l=new Array(c).fill("");(u=[].concat(d(e),d(l))).raw=[].concat(d(e.raw),d(l))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=eM(t,Zj);return e(ZL({theme:eU(r)?n:r},i))});var p=g.apply(void 0,[u].concat(d(o)));return p};return g.withConfig&&(k.withConfig=g.withConfig),k}}({defaultTheme:WU,rootShouldForwardProp:function(e){return aU(e)&&"classes"!==e}}),GU=KU;function HU(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=ZL({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}var QU=i.createContext(null);function YU(){return i.useContext(QU)}function $U(e){return 0===Object.keys(e).length}var JU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=YU();return!t||$U(t)?e:t},XU=Hj();var ZU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XU;return JU(e)};function eV(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return HU({theme:ZU(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:WU})}var tV=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},nV=function(e){return e},rV=function(){var e=nV;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=nV}}}(),iV={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function aV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=iV[t];return r?"".concat(n,"-").concat(r):"".concat(rV.generate(e),"-").concat(t)}function oV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=aV(e,t,n)})),r}function sV(e){return aV("MuiPaper",e)}oV("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var uV=["className","component","elevation","square","variant"],cV=GU("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return ZL({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&ZL({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(hU("#fff",tV(r.elevation)),", ").concat(hU("#fff",tV(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),lV=i.forwardRef((function(e,t){var n=eV({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,s=void 0===o?1:o,u=n.square,c=void 0!==u&&u,l=n.variant,f=void 0===l?"elevation":l,h=eM(n,uV),d=ZL({},n,{component:a,elevation:s,square:c,variant:f}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return rM({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},sV,i)}(d);return(0,xp.jsx)(cV,ZL({as:a,ownerState:d,className:nM(p.root,r),ref:t},h))})),fV=lV;function hV(e){return aV("MuiCard",e)}oV("MuiCard",["root"]);var dV=["className","raised"],pV=GU(fV,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),vV=i.forwardRef((function(e,t){var n=eV({props:e,name:"MuiCard"}),r=n.className,i=n.raised,a=void 0!==i&&i,o=eM(n,dV),s=ZL({},n,{raised:a}),u=function(e){return rM({root:["root"]},hV,e.classes)}(s);return(0,xp.jsx)(pV,ZL({className:nM(u.root,r),elevation:a?8:void 0,ref:t,ownerState:s},o))})),yV=vV;function mV(e){return aV("MuiCardContent",e)}oV("MuiCardContent",["root"]);var gV=["className","component"],kV=GU("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),bV=i.forwardRef((function(e,t){var n=eV({props:e,name:"MuiCardContent"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=eM(n,gV),s=ZL({},n,{component:a}),u=function(e){return rM({root:["root"]},mV,e.classes)}(s);return(0,xp.jsx)(kV,ZL({as:a,className:nM(u.root,r),ownerState:s,ref:t},o))})),wV=bV,_V=["sx"];function xV(e){var t,n=e.sx,r=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:zj;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r}(eM(e,_V)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(d(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return UF(e)?ZL({},i,e):i}:ZL({},i,n),ZL({},a,{sx:t})}var SV=JF;function EV(e){return aV("MuiTypography",e)}oV("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var IV=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],TV=GU("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(SV(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return ZL({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),CV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},NV={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},RV=i.forwardRef((function(e,t){var n=eV({props:e,name:"MuiTypography"}),r=function(e){return NV[e]||e}(n.color),i=xV(ZL({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,s=i.className,u=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,h=void 0!==f&&f,d=i.paragraph,p=void 0!==d&&d,v=i.variant,y=void 0===v?"body1":v,m=i.variantMapping,g=void 0===m?CV:m,k=eM(i,IV),b=ZL({},i,{align:o,color:r,className:s,component:u,gutterBottom:l,noWrap:h,paragraph:p,variant:y,variantMapping:g}),w=u||(p?"p":g[y]||CV[y])||"span",_=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return rM({root:["root",a,"inherit"!==e.align&&"align".concat(SV(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},EV,o)}(b);return(0,xp.jsx)(TV,ZL({as:w,ref:t,ownerState:b,className:nM(_.root,s)},k))})),AV=RV,PV="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OV="object"===("undefined"===typeof window?"undefined":PV(window))&&"object"===("undefined"===typeof document?"undefined":PV(document))&&9===document.nodeType;function DV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}var LV={}.constructor;function MV(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(MV);if(e.constructor!==LV)return e;var t={};for(var n in e)t[n]=MV(e[n]);return t}function FV(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=MV(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var jV=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},UV=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=jV(e[n]," ");else t=jV(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function VV(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function BV(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function qV(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=VV(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=BV(h+":"+c+UV(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=BV(p+":"+c+UV(v)+";",a))}for(var y in t){var m=t[y];null!=m&&"fallbacks"!==y&&(r&&(r+=u),r+=BV(y+":"+c+UV(m)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),BV(""+e+c+"{"+r,--a)+BV("}",a)):r}var zV=/([[\].#*$><+~=|^:(),"'`\s])/g,WV="undefined"!==typeof CSS&&CSS.escape,KV=function(e){return WV?WV(e):e.replace(zV,"\\$1")},GV=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),HV=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u(x(x(i)),s),i.selectorText="."+KV(i.id)),i}DV(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=UV(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?ZL({},e,{allowEmpty:!0}):e;return qV(this.selectorText,this.style,n)},g(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(GV),QV={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new HV(e,t,n)}},YV={indent:1,children:!0},$V=/@([\w-]+)/,JV=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match($V);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new wB(ZL({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=YV);var t=VV(e).linebreak;if(null==e.indent&&(e.indent=YV.indent),null==e.children&&(e.children=YV.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),XV=/@media|@supports\s+/,ZV={onCreateRule:function(e,t,n){return XV.test(e)?new JV(e,t,n):null}},eB={indent:1,children:!0},tB=/@keyframes\s+([\w-]+)/,nB=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(tB);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var s in this.id=!1===i?this.name:KV(o(this,a)),this.rules=new wB(ZL({},n,{parent:this})),t)this.rules.add(s,t[s],ZL({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=eB);var t=VV(e).linebreak;if(null==e.indent&&(e.indent=eB.indent),null==e.children&&(e.children=eB.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),rB=/@keyframes\s+/,iB=/\$([\w-]+)/g,aB=function(e,t){return"string"===typeof e?e.replace(iB,(function(e,n){return n in t?t[n]:e})):e},oB=function(e,t,n){var r=e[t],i=aB(r,n);i!==r&&(e[t]=i)},sB={onCreateRule:function(e,t,n){return"string"===typeof e&&rB.test(e)?new nB(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&oB(e,"animation-name",n.keyframes),"animation"in e&&oB(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return aB(e,r.keyframes);default:return e}}},uB=function(e){function t(){return e.apply(this,arguments)||this}return DV(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?ZL({},e,{allowEmpty:!0}):e;return qV(this.key,this.style,n)},t}(GV),cB={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new uB(e,t,n):null}},lB=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=VV(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=qV(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return qV(this.at,this.style,e)},e}(),fB=/@font-face/,hB={onCreateRule:function(e,t,n){return fB.test(e)?new lB(e,t,n):null}},dB=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return qV(this.key,this.style,e)},e}(),pB={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new dB(e,t,n):null}},vB=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),yB={"@charset":!0,"@import":!0,"@namespace":!0},mB={onCreateRule:function(e,t,n){return e in yB?new vB(e,t,n):null}},gB=[QV,ZV,sB,cB,hB,pB,mB],kB={process:!0},bB={force:!0,process:!0},wB=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,s=r.Renderer,u=r.generateId,c=r.scoped,l=ZL({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:s,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(l.selector="."+KV(this.classes[f]));var h=FV(f,t,l);if(!h)return null;this.register(h);var d=void 0===l.index?this.index.length:l.index;return this.index.splice(d,0,h),h},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=ZL({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof HV?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof nB&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof HV?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof nB&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=kB);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,bB)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,bB)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=VV(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),_B=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=ZL({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new wB(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),xB=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),SB=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=eM(t,["attached"]),i=VV(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},g(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),EB=new SB,IB="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),TB="2f1acc6c3a606b082e5eef5e54414ffb";null==IB[TB]&&(IB[TB]=0);var CB=IB[TB]++,NB=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+CB+i+t:a+n.key+"-"+CB+(i?"-"+i:"")+"-"+t}},RB=function(e){var t;return function(){return t||(t=e()),t}},AB=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(lW){return""}},PB=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=UV(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(lW){return!1}return!0},OB=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(lW){}},DB=function(e,t){return e.selectorText=t,e.selectorText===t},LB=RB((function(){return document.querySelector("head")}));function MB(e){var t=EB.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=LB(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var FB=RB((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),jB=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(lW){return!1}return e.cssRules[n]},UB=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},VB=function(){function e(e){this.getPropertyValue=AB,this.setProperty=PB,this.removeProperty=OB,this.setSelector=DB,this.hasInsertedRules=!1,this.cssRules=[],e&&EB.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=FB();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=MB(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else LB().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=UB(n,t);if(!1===(i=jB(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=UB(n,t),u=jB(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof _B&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),BB=0,qB=function(){function e(e){this.id=BB++,this.version="10.9.2",this.plugins=new xB,this.options={id:{minify:!1},createGenerateId:NB,Renderer:OV?VB:null,plugins:[]},this.generateId=NB({minify:!1});for(var t=0;t<gB.length;t++)this.plugins.use(gB[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=ZL({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===EB.index?0:EB.index+1);var r=new _B(e,ZL({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),EB.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=ZL({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=FV(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),zB=function(e){return new qB(e)},WB="object"===typeof CSS&&null!=CSS&&"number"in CSS;function KB(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=KB(r);a&&(t||(t={}),t[n]=a)}}return t}zB();function GB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=ZL({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var HB={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},QB=HB,YB="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",$B=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var JB=Date.now(),XB="fnValues"+JB,ZB="fnStyle"+ ++JB,eq=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=FV(e,{},n);return r[ZB]=t,r},onProcessStyle:function(e,t){if(XB in t||ZB in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[XB]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[ZB];a&&(i.style=a(e)||{});var o=i[XB];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},tq="@global",nq="@global ",rq=function(){function e(e,t,n){for(var r in this.type="global",this.at=tq,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new wB(ZL({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),iq=function(){function e(e,t,n){this.type="global",this.at=tq,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(nq.length);this.rule=n.jss.createRule(r,t,ZL({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),aq=/\s*,\s*/g;function oq(e,t){for(var n=e.split(aq),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var sq=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===tq)return new rq(e,t,n);if("@"===e[0]&&e.substr(0,nq.length)===nq)return new iq(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[tq]:null;if(i){for(var a in i)t.addRule(a,i[a],ZL({},n,{selector:oq(a,e.selector)}));delete r[tq]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,tq.length)===tq){var a=oq(i.substr(tq.length),e.selector);t.addRule(a,r[i],ZL({},n,{selector:a})),delete r[i]}}(e,t))}}},uq=/\s*,\s*/g,cq=/&/g,lq=/\$([\w-]+)/g;var fq=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(uq),r=e.split(uq),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(cq,o):o+" "+u}return i}function n(e,t,n){if(n)return ZL({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=ZL({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,s,u=i,c=u.options.parent;for(var l in r){var f=-1!==l.indexOf("&"),h="@"===l[0];if(f||h){if(o=n(u,c,o),f){var d=t(l,u.selector);s||(s=e(c,a)),d=d.replace(lq,s);var p=u.key+"-"+l;"replaceRule"in c?c.replaceRule(p,r[l],ZL({},o,{selector:d})):c.addRule(p,r[l],ZL({},o,{selector:d}))}else h&&c.addRule(l,{},o).addRule(u.key,r[l],{selector:u.selector});delete r[l]}}return r}}},hq=/[A-Z]/g,dq=/^ms-/,pq={};function vq(e){return"-"+e.toLowerCase()}var yq=function(e){if(pq.hasOwnProperty(e))return pq[e];var t=e.replace(hq,vq);return pq[e]=dq.test(t)?"-"+t:t};function mq(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:yq(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(mq):t.fallbacks=mq(e.fallbacks)),t}var gq=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=mq(e[t]);return e}return mq(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=yq(t);return t===r?e:(n.prop(r,e),null)}}},kq=WB&&CSS?CSS.px:"px",bq=WB&&CSS?CSS.ms:"ms",wq=WB&&CSS?CSS.percent:"%";function _q(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var xq=_q({"animation-delay":bq,"animation-duration":bq,"background-position":kq,"background-position-x":kq,"background-position-y":kq,"background-size":kq,border:kq,"border-bottom":kq,"border-bottom-left-radius":kq,"border-bottom-right-radius":kq,"border-bottom-width":kq,"border-left":kq,"border-left-width":kq,"border-radius":kq,"border-right":kq,"border-right-width":kq,"border-top":kq,"border-top-left-radius":kq,"border-top-right-radius":kq,"border-top-width":kq,"border-width":kq,"border-block":kq,"border-block-end":kq,"border-block-end-width":kq,"border-block-start":kq,"border-block-start-width":kq,"border-block-width":kq,"border-inline":kq,"border-inline-end":kq,"border-inline-end-width":kq,"border-inline-start":kq,"border-inline-start-width":kq,"border-inline-width":kq,"border-start-start-radius":kq,"border-start-end-radius":kq,"border-end-start-radius":kq,"border-end-end-radius":kq,margin:kq,"margin-bottom":kq,"margin-left":kq,"margin-right":kq,"margin-top":kq,"margin-block":kq,"margin-block-end":kq,"margin-block-start":kq,"margin-inline":kq,"margin-inline-end":kq,"margin-inline-start":kq,padding:kq,"padding-bottom":kq,"padding-left":kq,"padding-right":kq,"padding-top":kq,"padding-block":kq,"padding-block-end":kq,"padding-block-start":kq,"padding-inline":kq,"padding-inline-end":kq,"padding-inline-start":kq,"mask-position-x":kq,"mask-position-y":kq,"mask-size":kq,height:kq,width:kq,"min-height":kq,"max-height":kq,"min-width":kq,"max-width":kq,bottom:kq,left:kq,top:kq,right:kq,inset:kq,"inset-block":kq,"inset-block-end":kq,"inset-block-start":kq,"inset-inline":kq,"inset-inline-end":kq,"inset-inline-start":kq,"box-shadow":kq,"text-shadow":kq,"column-gap":kq,"column-rule":kq,"column-rule-width":kq,"column-width":kq,"font-size":kq,"font-size-delta":kq,"letter-spacing":kq,"text-decoration-thickness":kq,"text-indent":kq,"text-stroke":kq,"text-stroke-width":kq,"word-spacing":kq,motion:kq,"motion-offset":kq,outline:kq,"outline-offset":kq,"outline-width":kq,perspective:kq,"perspective-origin-x":wq,"perspective-origin-y":wq,"transform-origin":wq,"transform-origin-x":wq,"transform-origin-y":wq,"transform-origin-z":wq,"transition-delay":bq,"transition-duration":bq,"vertical-align":kq,"flex-basis":kq,"shape-margin":kq,size:kq,gap:kq,grid:kq,"grid-gap":kq,"row-gap":kq,"grid-row-gap":kq,"grid-column-gap":kq,"grid-template-rows":kq,"grid-template-columns":kq,"grid-auto-rows":kq,"grid-auto-columns":kq,"box-shadow-x":kq,"box-shadow-y":kq,"box-shadow-blur":kq,"box-shadow-spread":kq,"font-line-height":kq,"text-shadow-x":kq,"text-shadow-y":kq,"text-shadow-blur":kq});function Sq(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Sq(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Sq(i,t[i],n);else for(var a in t)t[a]=Sq(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||xq[e];return!o||0===t&&o===kq?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var Eq=function(e){void 0===e&&(e={});var t=_q(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Sq(r,e[r],t);return e},onChangeValue:function(e,n){return Sq(n,e,t)}}},Iq="",Tq="",Cq="",Nq="",Rq=OV&&"ontouchstart"in document.documentElement;if(OV){var Aq={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Pq=document.createElement("p").style;for(var Oq in Aq)if(Oq+"Transform"in Pq){Iq=Oq,Tq=Aq[Oq];break}"Webkit"===Iq&&"msHyphens"in Pq&&(Iq="ms",Tq=Aq.ms,Nq="edge"),"Webkit"===Iq&&"-apple-trailing-word"in Pq&&(Cq="apple")}var Dq=Iq,Lq=Tq,Mq=Cq,Fq=Nq,jq=Rq;var Uq={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Dq?"-webkit-"+e:Lq+e)}},Vq={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Dq?Lq+"print-"+e:e)}},Bq=/[-\s]+(.)?/g;function qq(e,t){return t?t.toUpperCase():""}function zq(e){return e.replace(Bq,qq)}function Wq(e){return zq("-"+e)}var Kq,Gq={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Dq){var n="mask-image";if(zq(n)in t)return e;if(Dq+Wq(n)in t)return Lq+e}return e}},Hq={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Mq||jq?e:Lq+e)}},Qq={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Lq+e)}},Yq={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Lq+e)}},$q={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Dq||"ms"===Dq&&"edge"!==Fq?Lq+e:e)}},Jq={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Dq||"ms"===Dq||"apple"===Mq?Lq+e:e)}},Xq={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Dq?"WebkitColumn"+Wq(e)in t&&Lq+"column-"+e:"Moz"===Dq&&("page"+Wq(e)in t&&"page-"+e))}},Zq={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Dq)return e;var n=e.replace("-inline","");return Dq+Wq(n)in t&&Lq+n}},ez={supportedProperty:function(e,t){return zq(e)in t&&e}},tz={supportedProperty:function(e,t){var n=Wq(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Dq+n in t?Lq+e:"Webkit"!==Dq&&"Webkit"+n in t&&"-webkit-"+e}},nz={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Dq?""+Lq+e:e)}},rz={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Dq?Lq+"scroll-chaining":e)}},iz={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},az={supportedProperty:function(e,t){var n=iz[e];return!!n&&(Dq+Wq(n)in t&&Lq+n)}},oz={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},sz=Object.keys(oz),uz=function(e){return Lq+e},cz={supportedProperty:function(e,t,n){var r=n.multiple;if(sz.indexOf(e)>-1){var i=oz[e];if(!Array.isArray(i))return Dq+Wq(i)in t&&Lq+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Dq+Wq(i[0])in t))return!1;return i.map(uz)}return!1}},lz=[Uq,Vq,Gq,Hq,Qq,Yq,$q,Jq,Xq,Zq,ez,tz,nz,rz,az,cz],fz=lz.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),hz=lz.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,d(t.noPrefill)),e}),[]),dz={};if(OV){Kq=document.createElement("p");var pz=window.getComputedStyle(document.documentElement,"");for(var vz in pz)isNaN(vz)||(dz[pz[vz]]=pz[vz]);hz.forEach((function(e){return delete dz[e]}))}function yz(e,t){if(void 0===t&&(t={}),!Kq)return e;if(null!=dz[e])return dz[e];"transition"!==e&&"transform"!==e||(t[e]=e in Kq.style);for(var n=0;n<fz.length&&(dz[e]=fz[n](e,Kq.style,t),!dz[e]);n++);try{Kq.style[e]=""}catch(lW){return!1}return dz[e]}var mz,gz={},kz={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},bz=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function wz(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?yz(t):", "+yz(n);return r||(t||n)}function _z(e,t){var n=t;if(!mz||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=gz[r])return gz[r];try{mz.style[e]=n}catch(lW){return gz[r]=!1,!1}if(kz[e])n=n.replace(bz,wz);else if(""===mz.style[e]&&("-ms-flex"===(n=Lq+n)&&(mz.style[e]="-ms-flexbox"),mz.style[e]=n,""===mz.style[e]))return gz[r]=!1,!1;return mz.style[e]="",gz[r]=n,gz[r]}OV&&(mz=document.createElement("p"));var xz=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=yz(n);a&&a!==n&&(i=!0);var o=!1,s=_z(a,UV(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Dq?e:"@"+Lq+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return _z(t,UV(e))||e}}};var Sz=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var Ez=zB({plugins:[eq(),sq(),fq(),gq(),Eq(),"undefined"===typeof window?null:xz(),Sz()]}),Iz=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==$B.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[YB]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),Tz={disableGeneration:!1,generateClassName:Iz,jss:Ez,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Cz=i.createContext(Tz);var Nz=-1e9;function Rz(){return Nz+=1}var Az=["variant"];function Pz(e){return 0===e.length}function Oz(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(lW){throw lW}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;var a=n.components[r].styleOverrides||{},o=n.components[r].variants||[],s=ZL({},i);return Object.keys(a).forEach((function(e){s[e]=VF(s[e]||{},a[e])})),o.forEach((function(e){var t=function(e){var t=e.variant,n=eM(e,Az),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Pz(r)?e[t]:JF(e[t]):"".concat(Pz(r)?t:JF(t)).concat(JF(e[t].toString()))})),r}(e.props);s[t]=VF(s[t]||{},e.style)})),s},options:{}}}var Dz={},Lz=["name","classNamePrefix","Component","defaultTheme"];function Mz(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=GB({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Fz(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var s=QB.get(i.sheetsManager,a,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},QB.set(i.sheetsManager,a,r,s));var u=ZL({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=i.sheetsRegistry;if(0===s.refs){var l;i.sheetsCache&&(l=QB.get(i.sheetsCache,a,r));var f=a.create(r,o);l||((l=i.jss.createStyleSheet(f,ZL({link:!1},u))).attach(),i.sheetsCache&&QB.set(i.sheetsCache,a,r,l)),c&&c.add(l),s.staticSheet=l,s.dynamicStyles=KB(f)}if(s.dynamicStyles){var h=i.jss.createStyleSheet(s.dynamicStyles,ZL({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=GB({baseClasses:s.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function jz(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Uz(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=QB.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(QB.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Vz(e,t){var n,r=i.useRef([]),a=i.useMemo((function(){return{}}),t);r.current!==a&&(r.current=a,n=e()),i.useEffect((function(){return function(){n&&n()}}),[a])}function Bz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,a=t.Component,o=t.defaultTheme,s=void 0===o?Dz:o,u=eM(t,Lz),c=Oz(e),l=n||r||"makeStyles";c.options={index:Rz(),name:n,meta:l,classNamePrefix:l};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=YU()||s,r=ZL({},i.useContext(Cz),u),o=i.useRef(),l=i.useRef();Vz((function(){var i={name:n,state:{},stylesCreator:c,stylesOptions:r,theme:t};return Fz(i,e),l.current=!1,o.current=i,function(){Uz(i)}}),[t,c]),i.useEffect((function(){l.current&&jz(o.current,e),l.current=!0}));var f=Mz(o.current,e.classes,a);return f};return f}var qz=Bz({card:{maxWidth:345,height:"60%",marginLeft:"auto",marginRight:"auto",borderRadius:20,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);",backgroundColor:"white",margin:"2.5%"},grid:{flexGrow:1,flexDirection:"row"},media:{height:"100%",width:"100%"}});var zz=function(){var e=qz(),t=f((0,i.useState)(),2),n=t[0],r=t[1];return(0,i.useEffect)((function(){var e=function(){var e=nt(et().mark((function e(t){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,TD.get("https://cs554-final-project.herokuapp.com/user/leaderboard");case 3:i=e.sent,a=i.data,console.log("test ",a),r(a),console.log(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();e()}),[]),n&&(0,xp.jsx)(yV,{className:e.card,variant:"outlined",children:(0,xp.jsxs)(wV,{children:[(0,xp.jsx)(AV,{gutterBottom:!0,variant:"h5",component:"div",children:"WPM Leaderboard"}),n.map((function(e){return(0,xp.jsxs)("div",{children:[(0,xp.jsx)("div",{children:e.username},e.username),"WPM (Words Per Minute): ",e.wpm,(0,xp.jsx)("br",{}),"Games Played: ",e.games_played,(0,xp.jsx)("br",{}),"Games Won: ",e.games_won,(0,xp.jsx)("br",{}),(0,xp.jsx)("br",{}),(0,xp.jsx)("br",{})]},e.username)}))]})})};var Wz=i.createContext();function Kz(e){return aV("MuiGrid",e)}var Gz=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Hz=oV("MuiGrid",["root","container","item","zeroMinWidth"].concat(d([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),d(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),d(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),d(Gz.map((function(e){return"grid-xs-".concat(e)}))),d(Gz.map((function(e){return"grid-sm-".concat(e)}))),d(Gz.map((function(e){return"grid-md-".concat(e)}))),d(Gz.map((function(e){return"grid-lg-".concat(e)}))),d(Gz.map((function(e){return"grid-xl-".concat(e)}))))),Qz=Hz,Yz=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function $z(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Jz(e){var t=e.breakpoints,n=e.values,r="";Object.keys(n).forEach((function(e){""===r&&0!==n[e]&&(r=e)}));var i=Object.keys(t).sort((function(e,n){return t[e]-t[n]}));return i.slice(0,i.indexOf(r))}var Xz=GU("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.spacing,s=n.wrap,u=n.zeroMinWidth,c=n.breakpoints,l=[];r&&(l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach((function(t){var i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(o,c,t));var f=[];return c.forEach((function(e){var r=n[e];r&&f.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,a&&t.item,u&&t.zeroMinWidth].concat(d(l),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==s&&t["wrap-xs-".concat(String(s))]],f)}})((function(e){var t=e.ownerState;return ZL({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme;return GF({theme:t},YF({values:e.ownerState.direction,breakpoints:t.breakpoints.values}),(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Qz.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};if(r&&0!==i){var o,s=YF({values:i,breakpoints:t.breakpoints.values});"object"===typeof s&&(o=Jz({breakpoints:t.breakpoints.values,values:s})),a=GF({theme:t},s,(function(e,n){var r,i=t.spacing(e);return"0px"!==i?rt({marginTop:"-".concat($z(i))},"& > .".concat(Qz.item),{paddingTop:$z(i)}):null!=(r=o)&&r.includes(n)?{}:rt({marginTop:0},"& > .".concat(Qz.item),{paddingTop:0})}))}return a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};if(r&&0!==i){var o,s=YF({values:i,breakpoints:t.breakpoints.values});"object"===typeof s&&(o=Jz({breakpoints:t.breakpoints.values,values:s})),a=GF({theme:t},s,(function(e,n){var r,i=t.spacing(e);return"0px"!==i?rt({width:"calc(100% + ".concat($z(i),")"),marginLeft:"-".concat($z(i))},"& > .".concat(Qz.item),{paddingLeft:$z(i)}):null!=(r=o)&&r.includes(n)?{}:rt({width:"100%",marginLeft:0},"& > .".concat(Qz.item),{paddingLeft:0})}))}return a}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var a={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=YF({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof o?o[i]:o;if(void 0===s||null===s)return e;var u="".concat(Math.round(t/s*1e8)/1e6,"%"),c={};if(r.container&&r.item&&0!==r.columnSpacing){var l=n.spacing(r.columnSpacing);if("0px"!==l){var f="calc(".concat(u," + ").concat($z(l),")");c={flexBasis:f,maxWidth:f}}}a=ZL({flexBasis:u,flexGrow:0,maxWidth:u},c)}return 0===n.breakpoints.values[i]?Object.assign(e,a):e[n.breakpoints.up(i)]=a,e}),{})}));var Zz=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.spacing,o=e.wrap,s=e.zeroMinWidth,u=e.breakpoints,c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach((function(t){var r=e[t];if(Number(r)>0){var i="spacing-".concat(t,"-").concat(String(r));n.push(i)}})),n}(a,u));var l=[];return u.forEach((function(t){var n=e[t];n&&l.push("grid-".concat(t,"-").concat(String(n)))})),rM({root:["root",n&&"container",i&&"item",s&&"zeroMinWidth"].concat(d(c),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==o&&"wrap-xs-".concat(String(o))],l)},Kz,t)},eW=i.forwardRef((function(e,t){var n=eV({props:e,name:"MuiGrid"}),r=ZU(WU).breakpoints,a=xV(n),o=a.className,s=a.columns,u=a.columnSpacing,c=a.component,l=void 0===c?"div":c,f=a.container,h=void 0!==f&&f,d=a.direction,p=void 0===d?"row":d,v=a.item,y=void 0!==v&&v,m=a.rowSpacing,g=a.spacing,k=void 0===g?0:g,b=a.wrap,w=void 0===b?"wrap":b,_=a.zeroMinWidth,x=void 0!==_&&_,S=eM(a,Yz),E=m||k,I=u||k,T=i.useContext(Wz),C=h?s||12:T,N={},R=ZL({},S);r.keys.forEach((function(e){null!=S[e]&&(N[e]=S[e],delete R[e])}));var A=ZL({},a,{columns:C,container:h,direction:p,item:y,rowSpacing:E,columnSpacing:I,wrap:w,zeroMinWidth:x,spacing:k},N,{breakpoints:r.keys}),P=Zz(A);return(0,xp.jsx)(Wz.Provider,{value:C,children:(0,xp.jsx)(Xz,ZL({ownerState:A,className:nM(P.root,o),as:l,ref:t},R))})})),tW=eW,nW=Bz({card:{maxWidth:345,height:"60%",marginLeft:"auto",marginRight:"auto",borderRadius:20,boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);",backgroundColor:"white",margin:"2.5%"},grid:{flexGrow:1,flexDirection:"row"},media:{height:"100%",width:"100%"}});var rW=function(){var e=(0,i.useContext)(Sp).currentUser,t=f((0,i.useState)({}),2),n=t[0],r=t[1];function a(){return(a=nt(et().mark((function t(n){var r,i,a;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.preventDefault(),(r=new FormData).append("file",h),r.append("fileName",h.name),r.append("email",e._delegate.email),console.log("This is what's being sent",r),i={headers:{"Content-Type":"multipart/form-data"}},t.next=10,TD.post("https://cs554-final-project.herokuapp.com/user/profilePic",r,i);case 10:a=t.sent,a.data,window.location.reload(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}(0,i.useEffect)((function(){var t=function(){var t=nt(et().mark((function t(n){var i,a;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e&&e._delegate&&e._delegate.email)){t.next=13;break}return console.log("This username is: "+e._delegate.email),t.prev=2,t.next=5,TD.get("https://cs554-final-project.herokuapp.com/user/"+e._delegate.email);case 5:i=t.sent,a=i.data,r(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();t()}),[e]);var o=nW(),s=f((0,i.useState)(!1),2),u=s[0],c=s[1],l=f((0,i.useState)({imageURL:""}),2),h=l[0],d=l[1];function p(){c(!1===u)}return(0,xp.jsxs)(tW,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,xp.jsxs)(yV,{className:o.card,variant:"outlined",children:[(0,xp.jsxs)(wV,{children:[(0,xp.jsx)(AV,{gutterBottom:!0,variant:"h5",component:"div",children:e._delegate.displayName}),n&&n.profilePic&&(0,xp.jsx)("img",{src:"https://cs554-final-project.herokuapp.com/uploads/"+n.profilePic.originalname,alt:"Profile"}),u&&(0,xp.jsx)("div",{children:(0,xp.jsxs)("form",{onSubmit:function(e){return a.apply(this,arguments)},children:[(0,xp.jsx)("br",{}),(0,xp.jsx)("label",{htmlFor:"uploadedImage",children:"Image URL:\xa0"}),(0,xp.jsx)("input",{onChange:function(e){return function(e){d(e.target.files[0])}(e)},id:"uploadedImage",name:"file",placeholder:"Image link...",type:"file",accept:"image/*",required:!0}),(0,xp.jsx)("br",{}),(0,xp.jsx)("br",{}),(0,xp.jsx)("button",{type:"Submit",children:"Confirm"}),(0,xp.jsx)("button",{type:"Button",onClick:p,children:"Cancel"}),(0,xp.jsx)("br",{})]})}),(0,xp.jsx)("br",{}),!u&&(0,xp.jsx)("button",{onClick:p,children:"Upload Profile Picture"}),(0,xp.jsxs)(AV,{variant:"body2",color:"text.secondary",children:["Email: ",e._delegate.email]})]}),(0,xp.jsx)(XL,{className:o.button})]}),(0,xp.jsx)(yV,{className:o.card,variant:"outlined",children:(0,xp.jsxs)(wV,{children:[(0,xp.jsx)(AV,{gutterBottom:!0,variant:"h6",component:"div",children:"User Stats"}),n&&(0,xp.jsxs)("ul",{children:[(0,xp.jsxs)("li",{children:["Games Played: ",n.games_played]}),(0,xp.jsxs)("li",{children:["WPM (Words Per Minute): ",n.wpm]}),(0,xp.jsxs)("li",{children:["Games Won: ",n.games_won]})]})]})})]})},iW=function(){return(0,xp.jsxs)("header",{className:"App-header",children:[(0,xp.jsx)("h1",{children:"SpeedType"}),(0,xp.jsxs)("nav",{children:[(0,xp.jsx)(Je,{to:"/",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Home"}),(0,xp.jsx)(Je,{to:"/game",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Play"}),(0,xp.jsx)(Je,{to:"/account",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Account"}),(0,xp.jsx)(Je,{to:"/leaderboard",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Leaderboard"}),(0,xp.jsx)(Je,{to:"/genre",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Create Genres & Quotes"})]})]})},aW=function(){return(0,xp.jsxs)("header",{className:"App-header",children:[(0,xp.jsx)("h1",{children:"SpeedType"}),(0,xp.jsxs)("nav",{children:[(0,xp.jsx)(Je,{to:"/",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Home"}),(0,xp.jsx)(Je,{to:"/login",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Login"}),(0,xp.jsx)(Je,{to:"/signup",className:function(e){return e.isActive?"navLinkActive":"navLink"},children:"Signup"})]})]})},oW=function(){var e=(0,i.useContext)(Sp).currentUser;return(0,xp.jsx)("div",{children:e?(0,xp.jsx)(iW,{}):(0,xp.jsx)(aW,{})})};var sW=function(){var e=f((0,i.useState)([]),2),t=e[0],n=e[1],r=f((0,i.useState)(null),2),a=r[0],o=r[1],s=f((0,i.useState)(""),2),u=s[0],c=s[1],l=f((0,i.useState)({}),2),h=l[0],p=l[1],v=f((0,i.useState)(""),2),y=v[0],m=v[1];(0,i.useEffect)((function(){var e=function(){var e=nt(et().mark((function e(){var t,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,TD.get("https://cs554-final-project.herokuapp.com/genre/getGenres");case 3:t=e.sent,r=t.data,console.log("test ",r),n(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){var e=function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,TD.post("https://cs554-final-project.herokuapp.com/genre/newQuote",{genre:a,newQuote:u});case 3:t=e.sent,n=t.data,console.log("Successfully posted new quote to genre '".concat(a,"'"),n),m("Successfully posted new quote to genre '".concat(a,"'")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();u.length>0&&e()}),[u]),(0,i.useEffect)((function(){var e=function(){var e=nt(et().mark((function e(){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,TD.post("https://cs554-final-project.herokuapp.com/genre/newGenre",{newGenre:h.genre,newGenreQuote:h.quote});case 3:r=e.sent,r.data,n([].concat(d(t),[h.genre])),m("Successfully posted new genre '".concat(h.genre)),console.log("Successfully posted new genre '".concat(h.genre)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();h.genre&&h.quote&&e()}),[h]);var g=0,k=t&&t.length>0&&t.map((function(e){return g++,e===a?(0,xp.jsx)("button",{className:"selectedGenre",onClick:function(e){e.preventDefault()},children:e},g):(0,xp.jsx)("button",{className:"genre",onClick:function(t){t.preventDefault(),o(e)},children:e},g)}));return(0,xp.jsxs)("div",{children:[(0,xp.jsxs)("div",{children:[y&&(0,xp.jsx)("p",{children:y}),(0,xp.jsx)("h2",{children:"Create a new quote!"}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:"Pick from an existing genre to add a quote to!"}),0===t.length&&(0,xp.jsx)("p",{children:"There aren't any genres to pick from. Create one now below!"}),k&&(0,xp.jsx)("div",{children:k}),a&&(0,xp.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m("");var t=e.target.elements.newQuote;return 0===t.value.trim().length?(alert("Must fill in quote"),!1):t.value.trim().length<30?(alert("Quotes must be at least 30 characters in length"),!1):void c(t.value)},children:[(0,xp.jsx)("div",{children:(0,xp.jsxs)("label",{children:["Type Your New Quote Here:",(0,xp.jsx)("input",{required:!0,name:"newQuote",type:"text",placeholder:"New Quote"})]})}),(0,xp.jsx)("button",{id:"newQuoteButton",name:"newQuoteButton",type:"submit",children:"Submit New Quote"})]})]})]}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h2",{children:"Create a new genre!"}),(0,xp.jsxs)("div",{children:[(0,xp.jsx)("h3",{children:"Give a name for your new genre, as well as a fitting quote to start it off!"}),(0,xp.jsx)("div",{children:(0,xp.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m("");var t=e.target.elements,n=t.newGenre,r=t.newGenreQuote;return 0===n.value.trim().length?(alert("Must fill in genre"),!1):0===r.value.trim().length?(alert("Must fill in genre quote"),!1):r.value.trim().length<30?(alert("Quotes must be at least 30 characters in legnth"),!1):void p({genre:n.value,quote:r.value})},children:[(0,xp.jsx)("div",{children:(0,xp.jsxs)("label",{children:["Name Your New Genre Here:",(0,xp.jsx)("input",{required:!0,name:"newGenre",type:"text",placeholder:"New Genre"})]})}),(0,xp.jsx)("div",{children:(0,xp.jsxs)("label",{children:["Type Your New Genre's First Quote Here:",(0,xp.jsx)("input",{required:!0,name:"newGenreQuote",type:"text",placeholder:"First Quote for New Genre"})]})}),(0,xp.jsx)("button",{id:"newGenreButton",name:"newGenreButton",type:"submit",children:"Submit New Genre"})]})})]})]})]})};var uW=function(){return(0,xp.jsx)(Ep,{children:(0,xp.jsx)(Ye,{children:(0,xp.jsxs)("div",{className:"App",children:[(0,xp.jsx)(oW,{}),(0,xp.jsx)("br",{}),(0,xp.jsx)("div",{className:"body",children:(0,xp.jsxs)(qe,{children:[(0,xp.jsx)(Ve,{path:"/",element:(0,xp.jsx)(Ip,{})}),(0,xp.jsx)(Ve,{path:"/login",element:(0,xp.jsx)(JL,{})}),(0,xp.jsx)(Ve,{path:"/signup",element:(0,xp.jsx)(CD,{})}),(0,xp.jsx)(Ve,{path:"/game",element:(0,xp.jsx)(YL,{}),children:(0,xp.jsx)(Ve,{path:"/game",element:(0,xp.jsx)(ND,{})})}),(0,xp.jsx)(Ve,{path:"/leaderboard",element:(0,xp.jsx)(zz,{})}),(0,xp.jsx)(Ve,{path:"/game/public",element:(0,xp.jsx)(QL,{})}),(0,xp.jsx)(Ve,{path:"/game/private",element:(0,xp.jsx)($L,{})}),(0,xp.jsx)(Ve,{path:"/account",element:(0,xp.jsx)(YL,{}),children:(0,xp.jsx)(Ve,{path:"/account",element:(0,xp.jsx)(rW,{})})}),(0,xp.jsx)(Ve,{path:"/genre",element:(0,xp.jsx)(YL,{}),children:(0,xp.jsx)(Ve,{path:"/genre",element:(0,xp.jsx)(sW,{})})})]})})]})})})},cW=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};o.createRoot(document.getElementById("root")).render((0,xp.jsx)(uW,{})),cW()}()}();
//# sourceMappingURL=main.2c4216d8.js.map